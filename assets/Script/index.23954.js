System.register("chunks:///_virtual/AreaData.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"6d99cUFPtJKiKTgQaLEHUGe","AreaData",void 0);t("AreaData",(function(){this.AreaId=void 0,this.AreaName=void 0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,t;return{setters:[function(r){e=r.createForOfIteratorHelperLoose},function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"1585a5UCwlFIaE2jDXw+HTy","ArrayUtils",void 0);r("ArrayUtils",function(){function r(){}return r.arrNumEliminate=function(r,t){for(var n,u=r.concat([]),c=e(t);!(n=c()).done;){var i=n.value,a=u.indexOf(i);-1!=a&&u.splice(a,1)}return u},r.createArray=function(r,e){return new Array(r).fill(e)},r.uniqueArray=function(r){return[].concat(new Set(r))},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ArtManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameArgs.ts"],(function(r){"use strict";var t,e,a,o,i,u,c,n,d,s;return{setters:[function(r){t=r.createForOfIteratorHelperLoose},function(r){e=r.cclegacy,a=r._decorator,o=r.resources,i=r.SpriteAtlas,u=r.assetManager,c=r.SpriteFrame,n=r.log,d=r.Texture2D},function(r){s=r.ResourcesArgs}],execute:function(){e._RF.push({},"0aaa8of2sNHG7qsET3r2qDk","ArtManager",void 0);a.ccclass,a.property,r("ArtManager",function(){function r(){this.curNailArtData=void 0,this.curNailBoxArtData=void 0,this.curRewardGoodsData=void 0,this.curRewardGoods2Data=void 0,this.curRewardGoods3Data=void 0,this.curRewardGoods4Data=void 0,this.curZodiacData=void 0,this.curSkinArtData=void 0,this.curZodiacCgData=void 0,this.curOtherGameIcon=[],this.curSubGameIcon=[],this.curSubGameIcon2=[]}var e=r.prototype;return e.init=function(r,t){var e=this;return o.load(s.ArtDirectory+s.TextureArtDirectory+s.NailArtName,i,(function(a,o){a?t("未找到Nail的贴图数据!"):(e.curNailArtData=o,r("Nail的贴图数据加载完毕!"))})),1,o.load(s.ArtDirectory+s.TextureArtDirectory+s.NailBoxArtName,i,(function(a,o){a?t("未找到NailBox的贴图数据!"):(e.curNailBoxArtData=o,r("NailBox的贴图数据加载完毕!"))})),1,o.load(s.ArtDirectory+s.TextureArtDirectory+s.RewardGoodsArtName,i,(function(a,o){a?t("未找到RewardGoods的贴图数据!"):(e.curRewardGoodsData=o,r("RewardGoods的贴图数据加载完毕!"))})),1,o.load(s.ArtDirectory+s.TextureArtDirectory+s.RewardGoods2ArtName,i,(function(a,o){a?t("未找到RewardGoods2的贴图数据!"):(e.curRewardGoods2Data=o,r("RewardGoods2的贴图数据加载完毕!"))})),1,o.load(s.ArtDirectory+s.TextureArtDirectory+s.RewardGoods3ArtName,i,(function(a,o){a?t("未找到RewardGoods3的贴图数据!"):(e.curRewardGoods3Data=o,r("RewardGoods3的贴图数据加载完毕!"))})),1,o.load(s.ArtDirectory+s.TextureArtDirectory+s.RewardGoods4ArtName,i,(function(a,o){a?t("未找到RewardGoods4的贴图数据!"):(e.curRewardGoods4Data=o,r("RewardGoods4的贴图数据加载完毕!"))})),1,o.load(s.ArtDirectory+s.TextureArtDirectory+s.ZodiacArtName,i,(function(a,o){a?t("未找到Zodiac的贴图数据!"):(e.curZodiacData=o,r("Zodiac的贴图数据加载完毕!"))})),1,o.load(s.ArtDirectory+s.TextureArtDirectory+s.SkinArtName,i,(function(a,o){a?t("未找到Skin的贴图数据!"):(e.curSkinArtData=o,r("Skin的贴图数据加载完毕!"))})),1,u.loadBundle,o.load(s.ArtDirectory+s.TextureArtDirectory+s.ZodiacCgArtName,i,(function(a,o){a?t("未找到ZodiacCg的贴图数据!"):(e.curZodiacCgData=o,r("ZodiacCg的贴图数据加载完毕!"))})),1,o.loadDir(s.ArtDirectory+s.TextureArtDirectory+s.OtherGameIconName,c,(function(a,o){a?t("未找到OtherGameIcon的贴图数据!"):(e.curOtherGameIcon=o,r("OtherGameIcon的贴图数据加载完毕!"))})),1,o.loadDir(s.ArtDirectory+s.TextureArtDirectory+s.SubGameIconName,c,(function(a,o){a?t("未找到SubGameIcon的贴图数据!"):(e.curSubGameIcon=o,r("SubGameIcon的贴图数据加载完毕!"))})),1,o.loadDir(s.ArtDirectory+s.TextureArtDirectory+s.SubGameIcon2Name,c,(function(a,o){a?t("未找到SubGameIcon2的贴图数据!"):(e.curSubGameIcon2=o,r("SubGameIcon2的贴图数据加载完毕!"))})),1,n("ArtManager:",12),12},e.getNailTexture=function(r){return this.curNailArtData?this.curNailArtData.getSpriteFrame(r):null},e.getNailBoxTexture=function(r){return this.curNailArtData?this.curNailBoxArtData.getSpriteFrame(r):null},e.getRewardGoodsTexture=function(r){return this.curRewardGoodsData?this.curRewardGoodsData.getSpriteFrame(r):null},e.getRewardGoodsTexture2=function(r){return this.curRewardGoods2Data?this.curRewardGoods2Data.getSpriteFrame(r):null},e.getRewardGoodsTexture3=function(r){return this.curRewardGoods3Data?this.curRewardGoods3Data.getSpriteFrame(r):null},e.getRewardGoodsTexture4=function(r){return this.curRewardGoods4Data?this.curRewardGoods4Data.getSpriteFrame(r):null},e.getRewardGoodsTextureByType=function(r,t){var e;switch(t){case 0:e=this.getRewardGoodsTexture(r);break;case 1:e=this.getRewardGoodsTexture2(r);break;case 2:e=this.getRewardGoodsTexture3(r);break;case 3:e=this.getRewardGoodsTexture4(r)}return e},e.getZodiacTexture=function(r){return this.curZodiacData?this.curZodiacData.getSpriteFrame(r):null},e.getSkinTexture=function(r){return this.curSkinArtData?this.curSkinArtData.getSpriteFrame(r):null},e.getZodiacCgTexture=function(r){return this.curZodiacCgData?this.curZodiacCgData.getSpriteFrame(r):null},e.getWXAvatarSp=function(r,t){void 0===t&&(t=function(){}),r&&""!=r&&this.getRemoteSprite(r,t)},e.getRemoteSprite=function(r,t){void 0===t&&(t=function(r){}),u.loadRemote(r,{ext:".png"},(function(r,e){if(!r){var a=new c,o=new d;o.image=e,a.texture=o,t(a)}}))},e.getOtherGameIcon=function(r){if(!this.curOtherGameIcon)return null;for(var e,a=t(this.curOtherGameIcon);!(e=a()).done;){var o=e.value;if(o.name==r)return o}},e.getSubGameIcon=function(r){if(!this.curSubGameIcon)return null;for(var e,a=t(this.curSubGameIcon);!(e=a()).done;){var o=e.value;if(o.name==r)return o}},e.getSubGameIcon2=function(r){if(!this.curSubGameIcon2)return null;for(var e,a=t(this.curSubGameIcon2);!(e=a()).done;){var o=e.value;if(o.name==r)return o}},r}());e._RF.pop()}}}));

System.register("chunks:///_virtual/AtlasUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameArgs.ts","./SdkController.ts","./scrollViewCtr.ts","./scrollViewPack.ts","./UIBase.ts","./EventEnum.ts"],(function(t){"use strict";var e,o,i,n,a,s,r,l,d,c,h,p,g,y,u,v,m;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,n=t.Sprite,a=t.size,s=t.v3,r=t.Label,l=t.UITransform,d=t.tween,c=t.color},function(t){h=t.ShareTargetType},function(t){p=t.ChannelType},function(t){g=t.default},function(t){y=t.scrollViewPack},function(t){u=t.UIHideAnimType,v=t.default},function(t){m=t.GameLogicEvent}],execute:function(){var G;o._RF.push({},"a2f7aB71ldBALlNGq1BLd8s","AtlasUI",void 0);var f=i.ccclass;i.property,t("AtlasUI",f("AtlasUI")(G=function(t){function o(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).GoodsType=void 0,e._collectPro=void 0,e._sp=void 0,e._btnGameProgress=void 0,e.GoodsList=[],e.curRewardId=0,e._GoodsListView=void 0,e._btnShare=void 0,e._btnType0=void 0,e._btnType1=void 0,e._btnType2=void 0,e._btnType3=void 0,e._string0=void 0,e._string1=void 0,e._string2=void 0,e._string3=void 0,e._Checkmark0=void 0,e._Checkmark1=void 0,e._Checkmark2=void 0,e._Checkmark3=void 0,e}e(o,t);var i=o.prototype;return i.onLoad=function(){this._btnGameProgress.active=!1,this._btnShare.active=Global.sdk.curChannel!=p.H5NoAd},i.onDestroy=function(){Global.logicEvent.emit(m.ShowInterstitialAd)},i.initData=function(t){this.curRewardId=t,this.playViewType(Math.floor(this.curRewardId/1e3))},i.flushView=function(t){var e=this;void 0===t&&(t=!1),this.GoodsList=[];var o=Global.data.getRewardGoodsListMsg().filter((function(t){return t.GoodsId>=1e3*e.GoodsType&&t.GoodsId<1e3*(e.GoodsType+1)}));this._GoodsListView.getComponent(g).setDataList(o,t);var i=Global.gameController.getRewardListData().filter((function(t){return t>=1e3*e.GoodsType&&t<1e3*(e.GoodsType+1)}));this._collectPro.$Label.string="收集进度"+i.length+"/"+o.length},i.flushGoodsItem=function(t,e,o){var i;Global.gameController.checkRewardOwn(e.GoodsId)?(i=Global.art.getRewardGoodsTextureByType(e.ImgName,~~(e.GoodsId/1e3)),t.getChildByName("sp").getComponent(n).grayscale=!0,t.getChildByName("lock").active=!1,t.getChildByName("unlock").active=!0):(i=Global.art.getRewardGoodsTextureByType(e.ImgName,~~(e.GoodsId/1e3)),t.getChildByName("sp").getComponent(n).grayscale=!1,t.getChildByName("lock").active=!0,t.getChildByName("unlock").active=!1);var l=i.getRect(),d=a(163,145),c=Math.min(d.width/l.width,d.height/l.height);t.getChildByName("sp").scale=s(c,c,c),t.getChildByName("sp").getComponent(n).spriteFrame=i,t.getChildByName("lock").getChildByName("GoodName").getComponent(r).string=e.GoodsName,t.getChildByName("id").getComponent(r).string=(e.GoodsId%1e3<10?"No.00":"No.0")+e.GoodsId%1e3,this.GoodsList[e.GoodsId]=t},i.playGetReward=function(){var t=this;this._btnGameProgress.active=!0;var e=this.curRewardId,o=this.GoodsList[e];if(null!=o){var i=o.parent.getComponent(l).convertToWorldSpaceAR(o.getPosition()),n=o.parent.parent.getComponent(l).convertToNodeSpaceAR(i),r=o.parent.getPosition();this._GoodsListView.getComponent(y).setScrollPos(s(0,r.y-n.y,0));var c=Global.data.getRewardGoodsConfigById(e),h=Global.art.getRewardGoodsTextureByType(c.ImgName,~~(c.GoodsId/1e3));this._sp.$Sprite.spriteFrame=h;var p=h.getRect(),g=a(163,145),u=Math.min(g.width/p.width,g.height/p.height);this._sp.scale=s(u,u,u),this._btnGameProgress.setScale(0,0,0),d(this._btnGameProgress).to(.5,{scale:s(1,1,1)},{easing:"backOut"}).delay(.1).to(.5,{worldPosition:o.getWorldPosition()},{easing:"quadIn"}).delay(.1).call((function(){Global.gameController.addRewardGoods(e),t.flushView()})).to(.35,{scale:s(0,0,0)},{easing:"backIn"}).call((function(){t._btnGameProgress.active=!1})).start()}},i.on_btnClose=function(){this.hideUI(u.fadeHide,!0)},i.on_btnBack=function(){this.hideUI(u.fadeHide,!0)},i.on_btnShare=function(){Global.sdk.share(h.None)},i.playViewType=function(t,e,o){var i=this;if(void 0===t&&(t=0),void 0===e&&(e=!0),void 0===o&&(o=0),t!=this.GoodsType){this._GoodsListView.getComponent(y).scrollToTop();for(var n=function(e){if(e==t){i["_Checkmark"+e].active=!0;var n=i["_btnType"+e].getPosition();d(i["_btnType"+e]).to(o,{position:s(n.x,16,0)}).call((function(){i["_string"+e].$Sprite.color=c(255,255,255,255)})).start(),d(i["_string"+e]).to(o,{scale:s(1,1,1)}).start()}else{i["_Checkmark"+e].active=!1;var a=i["_btnType"+e].getPosition();d(i["_btnType"+e]).to(o,{position:s(a.x,0,0)}).call((function(){i["_string"+e].$Sprite.color=c(81,81,81,255)})).start(),d(i["_string"+e]).to(o,{scale:s(.8,.8,.8)}).start()}},a=0;a<4;a++)n(a);this.GoodsType=t,this.flushView(e)}},i.on_btnType0=function(){this.playViewType(0,!1,.2)},i.on_btnType1=function(){this.playViewType(1,!1,.2)},i.on_btnType2=function(){this.playViewType(2,!1,.2)},i.on_btnType3=function(){this.playViewType(3,!1,.2)},o}(v))||G);o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventEnum.ts","./GameArgs.ts","./UIBase.ts","./CommonUtils.ts","./BoxSlot.ts"],(function(t){"use strict";var i,e,o,n,r,a,s,l,u,c,h,f,p,d,v,x,b,m,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,s=t._decorator,l=t.CCInteger,u=t.Animation,c=t.Node,h=t.Vec3,f=t.Tween,p=t.tween},function(t){d=t.GameLogicEvent,v=t.GameUIEvent},function(t){x=t.PrefabEnum},function(t){b=t.default},function(t){m=t.CommonUtils},function(t){y=t.BoxSlot}],execute:function(){var S,g,B,D,T,L,A;a._RF.push({},"33feffpJHBHz69Wnmvzy9Du","BaseBox",void 0);var _=s.ccclass,E=s.property;t("BaseBox",(S=_("BaseBox"),g=E([y]),B=E([l]),S((L=i((T=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,o(i,"boxSlotList",L,n(i)),o(i,"boxSlotType",A,n(i)),i.boxType=0,i.curAnimation=void 0,i._boxSp=void 0,i._lidSp=void 0,i._animNode=void 0,i.curType=0,i.isDead=!1,i.inAnim=!1,i}e(i,t);var a=i.prototype;return a.onLoad=function(){this.curAnimation=this.node.getComponent(u),this.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this)},a.initData=function(t){this.boxType=t,this.setData(this.boxType),this._lidSp.active=!1},a.setData=function(t){this.curType=t;for(var i,e=r(this.boxSlotList);!(i=e()).done;){i.value.initData(t)}this.refreshSp()},a.refreshSp=function(){this._boxSp.$Sprite.spriteFrame=Global.art.getNailBoxTexture(m.getNailPrefixByColor(this.curType)+1),this._lidSp.$Sprite.spriteFrame=Global.art.getNailBoxTexture(m.getNailPrefixByColor(this.curType)+2)},a.checkFinish=function(){for(var t,i=!0,e=r(this.boxSlotList);!(t=e()).done;){if(!t.value.checkFinish()){i=!1;break}}return i},a.hasEmpty=function(){for(var t,i=r(this.boxSlotList);!(t=i()).done;){if(!t.value.hasData())return!0}return!1},a.checkHasEmptyByInfo=function(t){for(var i,e=r(this.boxSlotList);!(i=e()).done;){var o=i.value;if(o.targetColor==t&&!o.hasData())return!0}return!1},a.checkHasSomeData=function(){for(var t,i=r(this.boxSlotList);!(t=i()).done;){if(t.value.hasData())return!0}return!1},a.addNailInCurBox=function(t,i){void 0===i&&(i=0);for(var e,o=r(this.boxSlotList);!(e=o()).done;){var n=e.value;if(n.targetColor==t&&!n.hasData())return n.setData(t,i),n}},a.moveToPos=function(t,i,e){var o=this;void 0===i&&(i=.5),void 0===e&&(e=null),this.isDead||(25<h.distance(this.node.position,t)&&(this.inAnim=!0),f.stopAllByTarget(this.node),p(this.node).to(i,{position:t},{easing:"sineOut"}).call((function(){o.inAnim=!1,e&&e()})).start())},a.checkAllFinish=function(){for(var t,i=r(this.boxSlotList);!(t=i()).done;){if(!t.value.checkFinish())return!1}return!0},a.runPackagingAnim=function(){this._lidSp.active=!0,this.inAnim=!0,this.curAnimation.play("BoxPacking"),this.scheduleOnce((function(){Global.logicEvent.emit(d.Main_RefreshBoxData)}),.4)},a.destroySelf=function(){this.isDead=!1;for(var t,i=r(this.boxSlotList);!(t=i()).done;){t.value.initData(-1)}Global.prefab.DestroyPrefab(x.Box,this.node),f.stopAllByTarget(this.node)},a.onTouchEnd=function(){Global.uiEvent.emit(v.Main_ClickBox,this.node.getSiblingIndex(),this.node.getWorldPosition())},i}(b)).prototype,"boxSlotList",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=i(T.prototype,"boxSlotType",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=T))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/BaseLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameArgs.ts","./UIBase.ts","./BaseNail.ts","./BasePlank.ts"],(function(i){"use strict";var t,o,e,n,a,r,s,l,c,h,u,d,f,p,v,y;return{setters:[function(i){t=i.applyDecoratedDescriptor,o=i.inheritsLoose,e=i.initializerDefineProperty,n=i.assertThisInitialized,a=i.createForOfIteratorHelperLoose},function(i){r=i.cclegacy,s=i._decorator,l=i.Prefab,c=i.UIOpacity,h=i.instantiate,u=i.v2,d=i.tween},function(i){f=i.GameArgs},function(i){p=i.default},function(i){v=i.BaseNail},function(i){y=i.BasePlank}],execute:function(){var g,N,k,L,_;r._RF.push({},"55b71y42ctA15/poRbS5IN6","BaseLayer",void 0);var m=s.ccclass,w=s.property;i("BaseLayer",(g=m("BaseLayer"),N=w(l),g((_=t((L=function(i){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,e(t,"nailPrefab",_,n(t)),t._plankNode=void 0,t._nailNode=void 0,t.isShow=!0,t.curGroup=0,t.plankList=[],t.plankId=void 0,t.curColor=void 0,t}o(t,i);var r=t.prototype;return r.onLoad=function(){var i=this;this._nailNode.getComponent(c)||this._nailNode.addComponent(c),this._plankNode.children.forEach((function(t,o){var e=t.getComponent(y);e&&t.active&&i.plankList.push(e)}))},r.initLayer=function(i,t,o){void 0===i&&(i=0),void 0===t&&(t=[]),this.curGroup=i%f.PhysicsGroupCount+1,this.plankId=i,this.curColor=o,this.initNail(t)},r.initNail=function(i){for(var t,o=0,e=a(this.plankList);!(t=e()).done;){var n=t.value;n.changeRigidBodyGroup(this.curGroup),n.setRandomColor(this.curColor);for(var r,s=n.getAllNailInfo(),l=a(s);!(r=l()).done;){r.value;var c=i[o];o+=1;var d=h(this.nailPrefab);this._nailNode.addChild(d),d.setWorldPosition(c.worldOffset);var f=d.getComponent(v);f.initNail(c.color,this.plankId,c.num),f.setHingeJointTarget(n.mRigidBody,u(c.offset.x,c.offset.y))}}this.hideAll()},r.getAllNailInfo=function(){var i=[];return this.plankList.forEach((function(t,o){i=i.concat(t.getAllNailInfo())})),i},r.hideAll=function(){if(this.isShow){this.isShow=!this.isShow,this._nailNode.getComponent(c).opacity=0,this._nailNode.active=!1;for(var i,t=a(this.plankList);!(i=t()).done;){i.value.hidePlank()}}},r.showAll=function(){var i=this;if(!this.isShow){this.isShow=!this.isShow,this._nailNode.active=!0;var t=this._nailNode.getComponent(c);t.opacity=0,d(t).delay(1).to(.5,{opacity:255}).start(),this.plankList.forEach((function(t,o){i.scheduleOnce((function(){t.showPlank()}),.1)}))}},t}(p)).prototype,"nailPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=L))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/BaseNail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./CommonUtils.ts"],(function(e){"use strict";var t,o,n,i,r,s,l,a,c,h,u,d,v,f,p,g,y;return{setters:[function(e){t=e.inheritsLoose,o=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,i=e._decorator,r=e.Node,s=e.log,l=e.Animation,a=e.Vec2,c=e.HingeJoint2D,h=e.PolygonCollider2D,u=e.UITransform,d=e.Intersection2D,v=e.v2,f=e.Graphics,p=e.color},function(e){g=e.default},function(e){y=e.CommonUtils}],execute:function(){var m;n._RF.push({},"3281dRojb9BjaiJ5x6PGzdu","BaseNail",void 0);var T=i.ccclass;i.property,e("BaseNail",T("BaseNail")(m=function(e){function n(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).mHingeJoint=void 0,t.curType=void 0,t.layerId=void 0,t.curNum=0,t._sp=void 0,t._textNode=void 0,t._numT=void 0,t}t(n,e);var i=n.prototype;return i.onLoad=function(){this.initEvent()},i.initEvent=function(){this.node.on(r.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(r.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(r.EventType.TOUCH_END,this.onTouchEnd,this),Global.uiEvent.on("Nail_ShowNum",this.showNumT,this)},i.onDestroy=function(){Global.uiEvent.targetOff(this)},i.onTouchStart=function(e){},i.onTouchMove=function(e){},i.onTouchEnd=function(e){var t,o=this;if(!this.checkShelter())return s("老大，这个钉子点不动！"),null==(t=this.node.getComponent(l))||t.play(),void Global.sdk.TriggerVibrate();Global.levelUI.checkTargetTypeByType(this.curType)&&(Global.levelUI.addNailInCurBox(this.curType,this.node.getWorldPosition()),this.scheduleOnce((function(){o.node.destroy()})),Global.levelUI.refreshLayer(),Global.logicEvent.emit("Guide",this.curType))},i.setHingeJointTarget=function(e,t){void 0===t&&(t=a.ZERO),this.mHingeJoint||(this.mHingeJoint=this.getComponent(c)),this.mHingeJoint.enabled=!1,this.mHingeJoint.connectedBody=e,this.mHingeJoint.connectedAnchor=t,this.mHingeJoint.enabled=!0},i.initNail=function(e,t,o){var n=this;void 0===e&&(e=1),this.curType=e,this.layerId=t,this.scheduleOnce((function(){n.refreshSp()}),1),this.curNum=o,this._numT.$Label.string=""+o,this.showNumT(Global.gameController.showNumModel)},i.refreshSp=function(){this._sp.$Sprite.spriteFrame=Global.art.getNailTexture(y.getNailPrefixByColor(this.curType)+1)},i.showNumT=function(e){void 0===e&&(e=!1),this._textNode.active=e},i.checkShelter=function(){var e=!0,t=Global.levelUI.getUpBlockBylayerId(this.layerId);s("板子大小",t.length);for(var n,i=o(t);!(n=i()).done;){for(var r,l=n.value,c=l.getComponent(h),f=c.points,p=[],g=o(f);!(r=g()).done;){var y=r.value;p.push(new a(y.x+c.offset.x,y.y+c.offset.y))}var m=l.getComponent(u).convertToNodeSpaceAR(this.node.getWorldPosition());if(d.polygonCircle(p,v(m.x,m.y),22/l.scale.x)){e=!1,s("无法被点击，遮罩板子是",l.name);break}}return e},i.drawRange=function(){this.node.addComponent(f);var e=this.node.getComponent(f),t=this.node.getPosition();e.fillColor=p(255,0,0,255),e.circle(t.x,t.y,28),e.fill()},n}(g))||m);n._RF.pop()}}}));

System.register("chunks:///_virtual/BasePlank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SimpleNailData.ts","./UIBase.ts"],(function(o){"use strict";var t,i,n,e,a,r,l,s,d,c,h,f,p;return{setters:[function(o){t=o.inheritsLoose,i=o.createForOfIteratorHelperLoose},function(o){n=o.cclegacy,e=o._decorator,a=o.RigidBody2D,r=o.PolygonCollider2D,l=o.color,s=o.ERigidBody2DType,d=o.tween,c=o.log,h=o.Color},function(o){f=o.SimpleNailData},function(o){p=o.default}],execute:function(){var u;n._RF.push({},"362cetEzchCvJ43Y6HP+VO5","BasePlank",void 0);var m=e.ccclass;e.property,o("BasePlank",m("BasePlank")(u=function(o){function n(){for(var t,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(t=o.call.apply(o,[this].concat(n))||this)._shadow=void 0,t._content=void 0,t._frame=void 0,t._nailLayer=void 0,t.mRigidBody=void 0,t.mPolygonCollider=void 0,t.nailInfoList=[],t.nailList=[],t.randomColor=void 0,t.getAlive=void 0,t.PlankState=!0,t}t(n,o);var e=n.prototype;return e.onLoad=function(){this.mRigidBody=this.node.getComponent(a),this.mPolygonCollider=this.node.getComponent(r),this.mRigidBody.allowSleep=!0,this.mRigidBody.awakeOnLoad=!1,this.mRigidBody.sleep(),this.initNailInfo()},e.initNailInfo=function(){for(var o,t=i(this._nailLayer.children);!(o=t()).done;){var n=o.value;if(n.active){var e=new f,a=n.name.split("_");e.color=Number(a[0]),e.type=Number(a[1]),e.worldOffset=n.getWorldPosition(),e.offset=n.getPosition().clone().multiply3f(this.node.getScale().x>0?1:-1,this.node.getScale().y>0?1:-1,1),this.nailInfoList.push(e),this.nailList.push(n)}}},e.hidePlank=function(){this.setColor(l(0,0,0,80)),this._frame.$Sprite.color=l(0,0,0,80),this.mRigidBody.type=s.Static,this._nailLayer.active=!1},e.showPlank=function(){var o=this;this.applyRandomColor();var t={r:0,g:0,b:0,a:80};d(t).to(.5,{r:255,g:255,b:255,a:255},{onUpdate:function(){o._frame.$Sprite.color=l(t.r,t.g,t.b,t.a)}}).start(),this.mRigidBody.type=s.Dynamic,this._nailLayer.active=!0,c("显示板子")},e.changeRigidBodyGroup=function(o){this.mRigidBody.group=Math.pow(2,o),this.mPolygonCollider.group=Math.pow(2,o),this.mPolygonCollider.apply()},e.getAllNailInfo=function(){return this.nailInfoList},e.triggerHammer=function(){this.destroySelf()},e.destroySelf=function(){this.node.destroyAllChildren(),this.node.removeFromParent(),this.node.destroy()},e.spawnRandomColor=function(){this.randomColor=new h(155*Math.random()+100,155*Math.random()+100,155*Math.random()+100,178.5)},e.setRandomColor=function(o){this.randomColor=o},e.applyRandomColor=function(){this.setColor(this.randomColor)},e.setColor=function(o){this._content.$Sprite.color=o},n}(p))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/BaseSkin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){"use strict";var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){r=t.default}],execute:function(){var s;n._RF.push({},"e2931A5TXVAiLgj+ypLXD3H","BaseSkin",void 0);var a=i.ccclass;i.property,t("BaseSkin",a("BaseSkin")(s=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this)._skinSp=void 0,e}return e(n,t),n.prototype.initData=function(t){this._skinSp.$Sprite.spriteFrame=Global.art.getSkinTexture(t>=10?""+t:"0"+t)},n}(r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/BaseTempSlot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventEnum.ts","./GameArgs.ts","./UIBase.ts","./CommonUtils.ts"],(function(t){"use strict";var o,i,e,n,s,r,a,l,c;return{setters:[function(t){o=t.inheritsLoose,i=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy,n=t._decorator,s=t.log},function(t){r=t.GameLogicEvent},function(t){a=t.SoundEnum},function(t){l=t.default},function(t){c=t.CommonUtils}],execute:function(){var u;e._RF.push({},"1eafbhWcuZHmbKra79iRA42","BaseTempSlot",void 0);var h=n.ccclass;n.property,t("BaseTempSlot",h("BaseTempSlot")(u=function(t){function e(){for(var o,i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return(o=t.call.apply(t,[this].concat(e))||this)._nailSp=void 0,o.curColor=-1,o.isFinish=!0,o}o(e,t);var n=e.prototype;return n.onLoad=function(){this.initData(0)},n.onTouchEnd=function(t){},n.checkSlot=function(){-1!=this.curColor&&this.isFinish&&Global.levelUI.checkTargetTypeByType(this.curColor,1)&&(Global.levelUI.addNailInCurBox(this.curColor,this.node.getWorldPosition()),this.setData(-1))},n.initData=function(t){this.setData(-1)},n.setData=function(t,o){var e=this;void 0===o&&(o=0),this.isFinish=!1,this.curColor=t,0==o?this.refreshShow():this.scheduleOnce((function(){e.refreshShow(),-1!=t&&Global.sound.playCommonSound(a.nailOut)}),o),this.scheduleOnce((function(){for(var t,o=!1,e=i(Global.levelUI.baseTempSlotList);!(t=e()).done;){var n=t.value;n.node.active&&!n.hasData()&&(s("当前还有空位！！！"),o=!0)}o||Global.logicEvent.emit(r.Common_TryRevive)}))},n.refreshShow=function(){this.isFinish=!0,-1==this.curColor?this._nailSp.active=!1:(this._nailSp.active=!0,this._nailSp.$Sprite.spriteFrame=Global.art.getNailTexture(c.getNailPrefixByColor(this.curColor)+1)),this.checkSlot()},n.checkFinish=function(){return this.isFinish&&-1!=this.curColor},n.hasData=function(){return-1!=this.curColor},e}(l))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseWall.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./BasePlank.ts"],(function(e){"use strict";var t,n,o,r,i,l,a,s,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,a=e.Collider2D,s=e.Contact2DType,c=e.log},function(e){u=e.default},function(e){p=e.BasePlank}],execute:function(){var f,d,y,h,B;i._RF.push({},"633bf9ln7VB5LB9StPxh6+p","BaseWall",void 0);var g=l.ccclass,v=l.property;e("BaseWall",(f=g("BaseWall"),d=v(a),f((B=t((h=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,o(t,"collider",B,r(t)),t}n(t,e);var i=t.prototype;return i.onLoad=function(){this.collider.on(s.BEGIN_CONTACT,this.beginContact,this)},i.beginContact=function(e,t){var n=t.getComponent(p);n?(c("销毁了一个板子"),n.destroySelf()):t.node.destroy()},t}(u)).prototype,"collider",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=h))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/BoxData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,a,r,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){a=t.cclegacy,r=t._decorator,o=t.CCInteger}],execute:function(){var n,l,s,p,c,u,y;a._RF.push({},"2601afEFRtChJnRY6EwpCOe","BoxData",void 0);var f=r.ccclass,m=r.property;t("BoxData",(n=f("BoxData"),l=m({type:o,visible:!0,displayName:"箱子颜色种类",tooltip:"填入0-9数",max:9,min:0,step:1}),s=m({type:o,visible:!0,displayName:"螺丝数量",tooltip:"填入2-3数",max:3,min:2,step:1}),n((u=e((c=function(){i(this,"type",u,this),i(this,"NailNum",y,this),this.baseNailList=[]}).prototype,"type",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=e(c.prototype,"NailNum",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),p=c))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/BoxSlot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventEnum.ts","./GameArgs.ts","./UIBase.ts","./CommonUtils.ts"],(function(t){"use strict";var i,o,n,r,s,e,c;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator},function(t){r=t.GameLogicEvent},function(t){s=t.SoundEnum},function(t){e=t.default},function(t){c=t.CommonUtils}],execute:function(){var a;o._RF.push({},"66746ZXp3RBcKvOSv9LCkjG","BoxSlot",void 0);var l=n.ccclass;n.property,t("BoxSlot",l("BoxSlot")(a=function(t){function o(){for(var i,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(i=t.call.apply(t,[this].concat(n))||this)._nailSp=void 0,i.targetColor=-1,i.curColor=-1,i.isFinish=!1,i}i(o,t);var n=o.prototype;return n.initData=function(t){this.targetColor=t,this.setData(this.isFinish?t:-1)},n.setData=function(t,i){var o=this;void 0===i&&(i=0),this.curColor=t,i<=0?this.refreshShow():this.scheduleOnce((function(){o.refreshShow(),-1!=t&&(Global.sound.playCommonSound(s.IntoBox),Global.logicEvent.emit(r.Main_CheckBox))}),i)},n.refreshShow=function(){-1==this.curColor?(this._nailSp.active=!1,this.isFinish=!1):(this._nailSp.active=!0,this._nailSp.$Sprite.spriteFrame=Global.art.getNailTexture(c.getNailPrefixByColor(this.curColor)+1),this.isFinish=!0)},n.checkFinish=function(){return this.isFinish&&-1!=this.curColor},n.hasData=function(){return-1!=this.curColor},o}(e))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/CallPeopleData.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"7e87dWyBIpA7rFzb9dM1H17","CallPeopleData",void 0);t("CallPeopleData",(function(){this.stage=void 0,this.InvitationNeedNum=void 0,this.reward=void 0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/CallPeopleGameData.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"e0287/V3d1IWLZa/0KGjlAe","CallPeopleGameData",void 0);e("CallPeopleGameData",(function(){this.InvitationNum=void 0,this.rewardState=void 0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/CallPeopleUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./scrollViewCtr.ts","./GameArgs.ts","./BaseSkin.ts"],(function(t){"use strict";var e,a,n,i,o,l,r,s,d,h,g,u,m;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,n=t._decorator,i=t.ProgressBar,o=t.Label,l=t.size,r=t.UITransform},function(t){s=t.UIHideAnimType,d=t.default},function(t){h=t.default},function(t){g=t.PrefabEnum,u=t.ShareTargetType},function(t){m=t.BaseSkin}],execute:function(){var c;a._RF.push({},"9ed6e647SNAgblLMDrR+7Je","CallPeopleUI",void 0);var f=n.ccclass;n.property,t("CallPeopleUI",f("CallPeopleUI")(c=function(t){function a(){for(var e,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this)._titile=void 0,e._InvitationPro=void 0,e._InvitationNum=void 0,e._rewardList=void 0,e._btnGetReward=void 0,e._btnInvitation=void 0,e.flushFlag=!1,e}e(a,t);var n=a.prototype;return n.onLoad=function(){Global.gameController.flushInvitationNum(),this.flushView()},n.flushView=function(){var t=Global.gameController.getCallPeopleMsg(),e=Global.data.getCallpeopleConfigById(t.rewardState);e?(this._titile.$Label.string=t.rewardState+"阶奖励",this._InvitationPro.getComponent(i).progress=t.InvitationNum/e.InvitationNeedNum,this._InvitationNum.$Label.string="再邀请"+Math.max(e.InvitationNeedNum-t.InvitationNum,0)+"个新人可获得奖励",this._rewardList.getComponent(h).dataList=e.reward,this._btnGetReward.active=t.InvitationNum>=e.InvitationNeedNum,this._btnInvitation.active=!this._btnGetReward.active):(e=Global.data.getCallpeopleConfigById(3),this._titile.$Label.string=t.rewardState+"阶奖励",this._InvitationPro.getComponent(i).progress=1,this._InvitationNum.$Label.string="已经获取全部奖励",this._rewardList.getComponent(h).dataList=e.reward,this._btnGetReward.active=!1,this._btnInvitation.active=!0)},n.flushRewardItem=function(t,e,a){var n,i=t.getChildByName("sp");switch(i.removeAllChildren(),e[0]){case 1:t.getChildByName("name").getComponent(o).string="螺币+"+e[1],n=Global.prefab.getNoolPrefab(g.GlodItem),i.addChild(n);break;case 2:var s=Global.data.getSkinDataById(e[1]);t.getChildByName("name").getComponent(o).string=s.skinName+"皮肤",n=Global.prefab.getNoolPrefab(g.BaseSkin),i.addChild(n),n.getComponent(m).initData(e[1]+1);break;case 3:t.getChildByName("name").getComponent(o).string="随机道具+"+e[1],n=Global.prefab.getNoolPrefab(g.RandomProp),i.addChild(n)}var d=l(110,110),h=l(n.getComponent(r).width,n.getComponent(r).height),u=Math.min(d.width/h.width,d.height/h.height);n.setScale(u,u,u)},n.on_btnClose=function(){this.hideUI(s.fadeHide,!0)},n.on_btnInvitation=function(){Global.sdk.share(u.None)},n.on_btnRefresh=function(){var t=this;this.flushFlag||(this.flushFlag=!0,Global.gameController.flushInvitationNum(),this.scheduleOnce((function(){t.flushView(),t.flushFlag=!1}),.2))},n.on_btnGetReward=function(){var t=Global.gameController.getCallPeopleMsg(),e=Global.data.getCallpeopleConfigById(t.rewardState);e&&t.InvitationNum>=e.InvitationNeedNum&&Global.gameController.AddCallPeopleReward(),this.flushView()},a}(d))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/Clickable.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var t,n,e;return{setters:[function(i){t=i.createClass,n=i.inheritsLoose},function(i){e=i.cclegacy}],execute:function(){e._RF.push({},"e6121Fh/g5K46L4mxi005yV","Clickable",void 0);var c=function(){function i(i){this.debug=!1,this.uuid=null,this._isOk=!1,this.uuid=i}return t(i,[{key:"isOk",get:function(){return this.debug&&!this._isOk&&console.warn("按钮点击过快:"+this.uuid),this._isOk},set:function(i){this._isOk=i}}]),i}(),s=function(i){function e(){for(var t,n=arguments.length,e=new Array(n),c=0;c<n;c++)e[c]=arguments[c];return(t=i.call.apply(i,[this].concat(e))||this).st=0,t.clickSpacing=200,t}n(e,i);var c=e.prototype;return c.initClickSpacing=function(i){this.clickSpacing=1e3*(i<0?.1:i)},c.checkOk=function(){Date.now()-this.st>this.clickSpacing?(this._isOk=!0,this.st=Date.now()):this._isOk=!1},t(e,[{key:"isOk",get:function(){return this.checkOk(),this.debug&&!this._isOk&&cc.warn("按钮点击过快:"+this.uuid),this._isOk}}]),e}(c);i("C",new(function(){function i(){this.clickables={},this.defaultClickable=new c("undefined"),this._debugable=!0,this.clickSpacing=.5}var t=i.prototype;return t.get=function(i){var t=null;return i.target instanceof cc.Node&&(t=i.target.uuid),this._get(t)},t.getT=function(i){return this.get(i)},t.getN=function(i){return this._get(i.uuid)},t._get=function(i){if(!i)return this.defaultClickable;var t=this.clickables[i];return t||(t=new s(i),this.clickables[i]=t,t.initClickSpacing(this.clickSpacing)),t.debug=this._debugable,t},t.setT=function(i,t){var n=this.getN(i);n instanceof s&&n.initClickSpacing(t)},i}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/ClickEventHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Common.ts"],(function(t){"use strict";var e,n,o,i;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy},function(t){i=t.default}],execute:function(){var s;o._RF.push({},"9b039xdaLhBV5BjCuQJSVqS","ClickEventHandler",void 0),function(t){t[t.IDLE=0]="IDLE",t[t.PRESSED=1]="PRESSED",t[t.DRAGGED=2]="DRAGGED",t[t.LONG_PRESSED=3]="LONG_PRESSED"}(s||(s={}));var h=t("LifeCycleComp",function(t){function o(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).pressedAnimation=null,e.releaseAnimation=null,e.bubble=!1,e._onClick=null,e._onLongClick=null,e._onDrag=null,e._onLongPressed=null,e._onPressed=null,e._onRelease=null,e._target=null,e._state=s.IDLE,e._touchTimeStamp=0,e._touchDelta=cc.v2(),e._moveDistance=cc.v2(),e._touchStartPos=cc.v2(),e}e(o,t);var h=o.prototype;return h.onEnable=function(){this.on()},h.onDisable=function(){this.off()},h.on=function(){i.isMobile?(this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this)):(this.node.on(cc.Node.EventType.MOUSE_DOWN,this._onTouchStart,this),this.node.on(cc.Node.EventType.MOUSE_MOVE,this._onTouchMove,this),this.node.on(cc.Node.EventType.MOUSE_UP,this._onTouchEnd,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this._onTouchCancel,this))},h.off=function(){i.isMobile?(this.node.off(cc.Node.EventType.TOUCH_START,this._onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this)):(this.node.off(cc.Node.EventType.MOUSE_DOWN,this._onTouchStart,this),this.node.off(cc.Node.EventType.MOUSE_MOVE,this._onTouchMove,this),this.node.off(cc.Node.EventType.MOUSE_UP,this._onTouchEnd,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this._onTouchCancel,this))},h._onTouchStart=function(t){this._state=s.PRESSED,this._touchTimeStamp=Date.now(),this._touchDelta.x=this._touchDelta.y=0,this._moveDistance.x=this._moveDistance.y=0,this._touchStartPos.set(t.getLocation()),this._onPressed&&(this._onPressed.call(this._target,this.node,t.getLocation()),t instanceof cc.Event&&!this.bubble&&t.stopPropagation()),this.scheduleOnce(this._checkLongPressed,.2),this.pressedAnimation&&this.releaseAnimation&&this.node.runAction(this.pressedAnimation),this._onClick&&t instanceof cc.Event&&!this.bubble&&t.stopPropagation()},h._onTouchMove=function(t){this._state!=s.IDLE&&(this._touchDelta.addSelf(t.getDelta()),this._moveDistance.addSelf(t.getDelta()),this._state!=s.DRAGGED&&Math.abs(this._touchDelta.x)<10&&Math.abs(this._touchDelta.y)<10||(this._state=s.DRAGGED,this._onDrag&&this._onDrag.call(this._target,t.getLocation(),this._touchDelta,this._moveDistance),this._touchDelta.x=this._touchDelta.y=0))},h._onTouchEnd=function(t){this._state==s.LONG_PRESSED?cc.log("长按状态."):this._state==s.PRESSED&&(Date.now()-this._touchTimeStamp>200&&this._onLongClick?this._onLongClick.call(this._target,t):this._onClick&&this.onClicked(t)),this._onRelease&&this._onRelease.call(this._target,this.node,t.getLocation()),t instanceof cc.Event&&!this.bubble&&(t.stopPropagation(),t.bubbles=!1),this._state=s.IDLE,this.unschedule(this._checkLongPressed),this.pressedAnimation&&this.releaseAnimation&&this.node.runAction(this.releaseAnimation)},h._onTouchCancel=function(t){this._state!=s.IDLE&&(this._onRelease&&this._onRelease.call(this._target,this.node,t.getLocation()),t instanceof cc.Event&&!this.bubble&&(t.stopPropagation(),t.bubbles=!1),this._state=s.IDLE,this.unschedule(this._checkLongPressed),this.pressedAnimation&&this.releaseAnimation&&this.node.runAction(this.releaseAnimation))},h._checkLongPressed=function(){this._state==s.PRESSED&&this._onLongPressed&&(this._onLongPressed.call(this._target,this.node,this._touchStartPos),this._state=s.LONG_PRESSED)},h.onClicked=function(t){this._onClick.call(this._target,t)},n(o,[{key:"onClick",get:function(){return this._onClick},set:function(t){this._onClick=t}},{key:"onLongClick",get:function(){return this._onLongClick},set:function(t){this._onLongClick=t}},{key:"onLongPressed",get:function(){return this._onLongPressed},set:function(t){this._onLongPressed=t}},{key:"onPressed",get:function(){return this._onPressed},set:function(t){this._onPressed=t}},{key:"target",get:function(){return this._target},set:function(t){this._target=t}},{key:"onDrag",set:function(t){this._onDrag=t}},{key:"onRelease",set:function(t){this._onRelease=t}}]),o}(cc.Component));t("default",function(){function t(t){if(this.node=null,this.lifeComp=null,this.node=t,this.node){var e=this.node.getComponent(h);e||(e=this.node.addComponent(h)),this.lifeComp=e,this.setBubble()}}return t.prototype.setBubble=function(t){void 0===t&&(t=!1),this.lifeComp&&(this.lifeComp.bubble=t)},n(t,[{key:"pressedAnim",set:function(t){this.lifeComp&&(this.lifeComp.pressedAnimation=t)}},{key:"releaseAnim",set:function(t){this.lifeComp&&(this.lifeComp.releaseAnimation=t)}},{key:"target",get:function(){return this.lifeComp&&this.lifeComp.target},set:function(t){this.lifeComp&&(this.lifeComp.target=t)}},{key:"onClick",get:function(){return this.lifeComp&&this.lifeComp.onClick},set:function(t){this.lifeComp&&(this.lifeComp.onClick=t)}},{key:"onLongClick",get:function(){return this.lifeComp&&this.lifeComp.onLongClick},set:function(t){this.lifeComp&&(this.lifeComp.onLongClick=t)}},{key:"onPressed",get:function(){return this.lifeComp&&this.lifeComp.onPressed},set:function(t){this.lifeComp&&(this.lifeComp.onPressed=t)}},{key:"onLongPressed",get:function(){return this.lifeComp&&this.lifeComp.onLongPressed},set:function(t){this.lifeComp&&(this.lifeComp.onLongPressed=t)}},{key:"onDrag",set:function(t){this.lifeComp&&(this.lifeComp.onDrag=t)}},{key:"onRelease",set:function(t){this.lifeComp&&(this.lifeComp.onRelease=t)}}]),t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/Common.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Clickable.ts","./ClickEventHandler.ts"],(function(e){"use strict";var n,t,r,o,i;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy},function(e){r=e.C},function(e){o=e.default,i=e.LifeCycleComp}],execute:function(){t._RF.push({},"d3dceiYUQxG2rUV/l3HoOaG","Common",void 0);var c=Object.assign||!1;e("default",function(){function e(){}return e.deepAssign=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r,o,i,c,s,a,l=1,d=arguments[0]||{},g=!1,f=arguments.length;if("boolean"==typeof d&&(g=d,d=arguments[1]||{},l++),"object"!=typeof d&&"function"!=typeof d&&(d={}),l===f)return d;for(;l<f;l++)if(null!=typeof(o=arguments[l]))for(r in o)o.hasOwnProperty(r)&&(i=d[r],c=o[r],s=Array.isArray(c),g&&c&&("object"==typeof c||s)?(s?(s=!1,a=i&&Array.isArray(i)?i:[]):a=i&&"object"==typeof i?i:{},d[r]=this.deepAssign(g,a,c)):null!=c&&(d[r]=c));return d},e.assign=function(e,n){var t=e||{};return c||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),c=0,s=i.length;c<s;c++){var a=i[c],l=Object.getOwnPropertyDescriptor(o,a);void 0!==l&&l.enumerable&&(t[a]=o[a])}}return t}}),n?c(t,n):t},e.assignM=function(n){for(var t=n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];for(var c=0,s=o;c<s.length;c++){var a=s[c];t=e.assign(t,a)}return t},e.next=function(e){for(var n in e){if(null!=e[n])return!0}return!1},e.gc=function(){cc.sys.garbageCollect()},e.setSprite=function(e,n,t){if(void 0===t&&(t=0),e.spriteFrame=n,n)switch(t){case 1:var r=e.node.width/n.getRect().width,o=e.node.height/n.getRect().height;r<o?e.node.height=r*n.getRect().height:e.node.width=o*n.getRect().width;break;case 2:e.node.width=n.getRect().width,e.node.height=n.getRect().height}},e.setClickListenerAnim=function(e,n,t,o,i){void 0===i&&(i=null);var c=this.getNodeEventHandler(e);if(c){var s=e instanceof cc.Component?e.node:e;if(n){var a=s.pscaleX?s.pscaleX:s.scaleX,l=s.pscaleY?s.pscaleY:s.scaleY;s.pscaleX=a,s.pscaleY=l}c.target=o,c.onClick=function(e){r.getT(e).isOk&&t.call(this,e,i)},c.pressedAnim||(c.pressedAnim=n?cc.scaleTo(.1,.9*s.pscaleX,.9*s.pscaleY):null),c.releaseAnim||(c.releaseAnim=n?cc.scaleTo(.1,s.pscaleX,s.pscaleY):null)}},e.setDragListener=function(e,n,t){var r=this.getNodeEventHandler(e);r&&(r.target=t,r.onDrag=n)},e.setLongClickListener=function(e,n,t){var r=this.getNodeEventHandler(e);r&&(r.target=t,r.onLongClick=n)},e.setLongPressedListener=function(e,n,t){var r=this.getNodeEventHandler(e);r&&(r.target=t,r.onLongPressed=n)},e.setPressedListener=function(e,n,t){var r=this.getNodeEventHandler(e);r&&(r.target=t,r.onPressed=n)},e.setOnReleaseListener=function(e,n,t){var r=this.getNodeEventHandler(e);r&&(r.target=t,r.onRelease=n)},e.setClickAnim=function(e,n,t){var r=this.getNodeEventHandler(e);r&&(r.pressedAnim=n,r.releaseAnim=t)},e.performClick=function(e,n){void 0===n&&(n=null);var t=this.getNodeEventHandler(e);if(t&&t.onClick){var r=new cc.Event("performClick",!0);r.target=t.target.node,t.onClick.call(t.target,r,n)}},e.performLongClick=function(e,n){void 0===n&&(n=null);var t=this.getNodeEventHandler(e);if(t&&t.onLongClick){var r=new cc.Event("performLongClick",!0);r.target=t.target.node,t.onLongClick.call(t.target,r,n)}},e.performPressed=function(e,n){void 0===n&&(n=null);var t=this.getNodeEventHandler(e);if(t&&t.onPressed){var r=new cc.Event("performPressed",!0);r.target=t.target.node,t.onPressed.call(t.target,r,n)}},e.performLongPressed=function(e,n){void 0===n&&(n=null);var t=this.getNodeEventHandler(e);if(t&&t.onLongPressed){var r=new cc.Event("performLongPressed",!0);r.target=t.target.node,t.onLongPressed.call(t.target,r,n)}},e.removeClickListener=function(e){var n=this.getNodeEventHandler(e);n&&(n.onClick=null)},e.removeLongClickListener=function(e){var n=this.getNodeEventHandler(e);n&&(n.onLongClick=null)},e.removeDragListener=function(e){var n=this.getNodeEventHandler(e);n&&(n.onDrag=null)},e.setBubble=function(e,n){var t=this.getNodeEventHandler(e);t&&t.setBubble(n)},e.getNodeEventHandler=function(e){var n=e instanceof cc.Component?e.node:e;if(!(n instanceof cc.Node))return console.info("setClickListener node param incorrect!"),null;return n._eventHandler?n._eventHandler:new o(n)},e.clearEvents=function(e){var n=e instanceof cc.Component?e.node:e;if(!(n instanceof cc.Node))return console.info("setClickListener node param incorrect!"),null;n.getComponent(i)&&n.removeComponent(i)},n(e,null,[{key:"isMobile",get:function(){return cc.sys.isMobile||cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform===cc.sys.QQ_PLAY}}]),e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/CommonUtils.ts",["cc"],(function(exports){"use strict";var cclegacy,sys,v2,misc;return{setters:[function(e){cclegacy=e.cclegacy,sys=e.sys,v2=e.v2,misc=e.misc}],execute:function(){cclegacy._RF.push({},"1f9e3+xlTxKKqN5UTHUaClO","CommonUtils",void 0);var CommonUtils=exports("CommonUtils",function(){function CommonUtils(){}return CommonUtils.formatTime=function(e){var t=new Date(1e3*e),o=t.getUTCHours(),n=t.getMinutes(),r=t.getSeconds();return(o>0?(o>=10?o:"0"+o)+":":"")+(n>=10?n:"0"+n)+":"+(r>=10?r:"0"+r)},CommonUtils.formatTime2=function(e){var t=new Date(1e3*e),o=t.getUTCHours(),n=t.getMinutes();return(o>0?o+"小时":"")+(n>0?n+"分钟":"")+t.getSeconds()+"秒"},CommonUtils.formatMoney=function(e,t){void 0===t&&(t=2);var o="",n=t,r=0;if(e>=1e20&&(o+=Math.floor(e/1e20)+"垓",e%=1e20,++r>=n))return o;if(e>=1e16&&(o+=Math.floor(e/1e16)+"京",e%=1e16,++r>=n))return o;if(e>=1e12&&(o+=Math.floor(e/1e12)+"兆",e%=1e12,++r>=n))return o;if(e>=1e8&&(o+=Math.floor(e/1e8)+"亿",e%=1e8,++r>=n))return o;if(e>=1e4&&(o+=Math.floor(e/1e4)+"万",e%=1e4,++r>=n))return o;return""!=o&&0==e||(o+=Math.round(e)),o},CommonUtils.AllformatMoney=function(e){var t="";e>=1e20&&(t+=Math.floor(e/1e20)+"垓",e%=1e20);e>=1e16&&(t+=Math.floor(e/1e16)+"京",e%=1e16);e>=1e12&&(t+=Math.floor(e/1e12)+"兆",e%=1e12);e>=1e8&&(t+=Math.floor(e/1e8)+"亿",e%=1e8);e>=1e4&&(t+=Math.floor(e/1e4)+"万",e%=1e4);return""!=t&&0==e||(t+=e),t},CommonUtils.getCurTime=function(){return(new Date).getTime()},CommonUtils.getYMDTime=function(){return(new Date).toLocaleDateString()},CommonUtils.getUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},CommonUtils.setLocalData=function(e,t){sys.localStorage.setItem("TZYX_LOCDATA_"+e,t)},CommonUtils.getLocalData=function(e){return sys.localStorage.getItem("TZYX_LOCDATA_"+e)},CommonUtils.getRandomName=function(){return this.randomName1[Math.floor(Math.random()*this.randomName1.length)]+this.randomName2[Math.floor(Math.random()*this.randomName2.length)]},CommonUtils.getRandomNetName=function(){for(var e="",t=1;t<=4;t++){if(!(~~(100*Math.random())>60)){var o=this["randomNetname"+t];if((e+=o[~~(Math.random()*o.length)]).length>=7)break}}return 0==e.length&&(e=this.randomNetname5[~~(Math.random()*this.randomNetname5.length)]),e},CommonUtils.vectorsToDegress=function(e){var t=v2(0,1),o=e.signAngle(t);return misc.radiansToDegrees(o)},CommonUtils.degreesToVectors=function(e){var t=misc.degreesToRadians(e);return v2(0,1).rotate(-t)},CommonUtils.getNailPrefixByColor=function(e){return["a","b","c","d","e","f","g","h","i","j"][e%=10]},CommonUtils.Random=function(e){var t=((36969*(65535&this.RandomSeed)+(this.RandomSeed>>16)&this.RandomMask)<<16)+(e=18e3*(65535&e)+(e>>16)&this.RandomMask)&this.RandomMask;return~~(1e7*((t/=4294967296)+.5))},CommonUtils.getRankRandomValue=function(e){var t=0,o=new Date,n=o.getDate(),r=60*o.getHours()+o.getMinutes(),a=this.Random(n+e),m=0;switch(e){case 11:case 15:case 6:case 7:case 12:case 1:m=2e4;break;case 22:case 21:case 33:case 26:case 34:m=5e3;break;case 23:m=1e3;break;default:m=14e3}return t=m+a%1e3*(5-a%10),t=Math.round(Math.abs(t*(r/1440)))},CommonUtils.encryptStr=function(e){console.log("加密中");for(var t,o,n,r=this.strKey,a=r.length,m=r.split(""),s="",i=0;i<e.length;i++)s+=m[(t=((t=((t=e.charCodeAt(i))-(o=t%a))/a)-(n=t%a))/a)%a]+m[n]+m[o];return s},CommonUtils.decryptStr=function decryptStr(str){var key=this.strKey,len=key.length,b,b1,b2,b3,d=0,s;s=new Array(Math.floor(str.length/3)),b=s.length;for(var i=0;i<b;i++)b1=key.indexOf(str.charAt(d)),d++,b2=key.indexOf(str.charAt(d)),d++,b3=key.indexOf(str.charAt(d)),d++,s[i]=b1*len*len+b2*len+b3;return b=eval("String.fromCharCode("+s.join(",")+")"),b},CommonUtils}());CommonUtils.randomName1=["张","孙","杨","赵","欧阳","上官","陈","李","章"],CommonUtils.randomName2=["念","倩","幂","辰","慕","周","理","霜","依","唐","喻","微","紫","盼","语","音","杏","晓","葵","媛"],CommonUtils.randomNetname1=["唱歌的","柠檬味の","待在盒子里の","可爱の","酷炫","混吃等死的","山松下的","盛夏的","初冬的","搞怪","秃头","无聊","摆烂","乱七八糟的","乞讨的","音乐的","书中的","天空的","鬼畜","云端","时间的","瞎搞的","疯狂的","搞笑","自嘲","滑稽","哈哈哈哈的"],CommonUtils.randomNetname2=["西瓜","地鼠","夏天","眼睛","角落","花朵","青春","照片","猫","烟花","小情歌","影子","琴声","宝盒","仙子","舞者","冒险家","绿蛙","葫芦娃","泡泡","精灵","键盘侠","大师","小王子","青年","少女","神算子","王者","道士","胡萝卜","苹果","游侠","葡萄","雨水","电脑","叶子","台风","龙卷风","奶茶","小小","吃货","七七","然然","晚晚","欧欧"],CommonUtils.randomNetname3=["打游戏","喝水","吃饭","写代码","自拍","恰火锅","旅行","神游天际","逛淘宝","爬山","游泳","滑冰","冲浪","吹泡泡","吐泡泡","唱歌","滑雪","炒菜","爱洗澡","爱敲鼓"],CommonUtils.randomNetname4=["·","A","！","~","+","233","w",".","@","……","&","#","="],CommonUtils.randomNetname5=["依然ヽ随风","冷心冷血冷感情","恍如隔世","风雨都一个人扛","孤独街角","像风一样","孤独患者","一只人的天荒地老","转身、两个世界","孤痞成性","青灯夜游","唱腔另类","鱼生有柑桔","感觉汹涌","春秋与你入画","雪姬","劣质少女","青纱不改旧人还","无关风月","旧巷纸伞无故人","余温","不诉离殇","寒枫","江牧","半兮","余烬","听风看月","风华笔墨","觅否","天生帅才","秋日思雨","梦沽潇缃"],CommonUtils.RandomSeed=67786,CommonUtils.RandomMask=4294967295,CommonUtils.strKey="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",cclegacy._RF.pop()}}}));

System.register("chunks:///_virtual/DailyChallengeUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameArgs.ts","./scrollViewCtr.ts","./UIBase.ts"],(function(e){"use strict";var t,l,a,i,o,n,r,c,s,d,g,m,h,u,C,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,r=e._decorator,c=e.SpriteFrame,s=e.Sprite,d=e.Label,g=e.color,m=e.director},function(e){h=e.GameModel},function(e){u=e.default},function(e){C=e.UIHideAnimType,v=e.default}],execute:function(){var y,f,p,b,L,N,B;n._RF.push({},"9de81lYHlpDuZmbbafrSSZt","DailyChallengeUI",void 0);var k=r.ccclass,G=r.property;e("DailyChallengeUI",(y=k("DailyChallengeUI"),f=G([c]),p=G([c]),y((N=t((L=function(e){function t(){for(var t,l=arguments.length,o=new Array(l),n=0;n<l;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,a(t,"blankList",N,i(t)),a(t,"frameList",B,i(t)),t._LevelView=void 0,t.selectNode=null,t._content=void 0,t}l(t,e);var n=t.prototype;return n.onLoad=function(){this.flushView()},n.flushView=function(){this.selectNode=null;var e=Global.gameController.getZodiacLevelList();this._LevelView.getComponent(u).dataList=e},n.flushLevelItem=function(e,t,l){var a=Global.gameController.checkZodiacLevelUnlock(t),i=Global.gameController.checkZodiacLevelIsToday(t);if(e.getChildByName("lock").active=a||i,e.getChildByName("unlock").active=!a&&!i,e.getChildByName("lock").getChildByName("frame").active=!0,a){e.getChildByName("lock").getChildByName("frame").active=!1,e.getChildByName("lock").getChildByName("blank").getComponent(s).spriteFrame=Global.art.getZodiacCgTexture(t+"");var o=Global.data.getZodiacLevelConfigById(t);e.getChildByName("lock").getChildByName("LevelName").getComponent(d).string=o.LevelName,e.getChildByName("lock").getChildByName("blank").getComponent(s).color=g(255,255,255,255)}else if(i){e.getChildByName("lock").getChildByName("blank").getComponent(s).spriteFrame=this.blankList[t-1],e.getChildByName("lock").getChildByName("frame").getComponent(s).spriteFrame=this.frameList[t-1];var n=Global.data.getZodiacLevelConfigById(t);e.getChildByName("lock").getChildByName("LevelName").getComponent(d).string=n.LevelName,e.getChildByName("lock").getChildByName("blank").getComponent(s).color=g(86,79,116,255)}e.getChildByName("select").active=!1,i&&(e.getChildByName("select").active=!0,this.selectNode=e)},n.playZodiacLevel=function(e){null!=e?(Global.ui.startLoadingBar(!1),Global.gameController.tempSelectLevel=e,Global.gameController.curModel=h.dailyGame,m.loadScene("Game",(function(){}))):Global.ui.showTipStr("请选择关卡前往")},n.onClickBtn=function(e,t){if(e.target!=this.selectNode){var l=this._LevelView.getComponent(u).getDataByUuid(e.target.uuid),a=Global.gameController.checkZodiacLevelUnlock(l),i=Global.gameController.checkZodiacLevelIsToday(l);a||i?(this.hideAllItem(),e.target.getChildByName("select").active=!0,this.selectNode=e.target):Global.ui.showTipStr("每日可解锁一个新生肖")}},n.on_btnIntoGame=function(){if(null!=this.selectNode){var e=this._LevelView.getComponent(u).getDataByUuid(this.selectNode.uuid);this.playZodiacLevel(e)}else Global.ui.showTipStr("请选择关卡前往")},n.on_btnClose=function(){this.hideUI(C.fadeHide,!0)},n.on_btnOpenAll=function(){Global.gameController.curZodiacLevel.LevelSchedule=12,Global.gameController.saveZodiacLevelMsg(),this.flushView()},n.hideAllItem=function(){for(var e,t=o(this._content.children);!(e=t()).done;){var l=e.value.getChildByName("select");l&&(l.active=!1)}},t}(v)).prototype,"blankList",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(L.prototype,"frameList",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=L))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/DataEnum.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var t;e("PlayerDataEnum",void 0),a._RF.push({},"d3909qY6u9DlIzP4Z4Ziwhi","DataEnum",void 0),function(e){e.GameLevel="GameLevel",e.RealLevel="RealLevel"}(t||(t=e("PlayerDataEnum",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/DataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AreaData.ts","./CallPeopleData.ts","./LevelData.ts","./OtherGameData.ts","./RewardGoodsData.ts","./SkinData.ts","./ZodiacLevelData.ts","./SubGameData.ts","./GameArgs.ts"],(function(e){"use strict";var a,t,n,o,r,i,s,u,l,f,d,c,v,m;return{setters:[function(e){a=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy,n=e.resources,o=e.JsonAsset,r=e.log},function(e){i=e.AreaData},function(e){s=e.CallPeopleData},function(e){u=e.LevelData},function(e){l=e.OtherGameData},function(e){f=e.RewardGoodsData},function(e){d=e.SkinData},function(e){c=e.ZodiacLevelData},function(e){v=e.SubGameData},function(e){m=e.ResourcesArgs}],execute:function(){t._RF.push({},"9f3b6QAfBtJ1qw43ioHrpQO","DataManager",void 0);e("DataManager",function(){function e(){this.curStartBarValue=0,this.LevelList=[],this.RewardGoodsList=[],this.ZodiacLevelList=[],this.SkinDataList=[],this.AreaDataList=[],this.OtherGameList=[],this.SubGameList=[],this.CallpeopleDataList=[]}var t=e.prototype;return t.init=function(e,a){var t=0;return t+=this.loadJson(e,a)},t.loadJson=function(e,a){var t=this;return n.load(m.JsonDirectory+m.LevelConfigJsonName,o,(function(n,o){n?a("未找到LevelConfig数据!"):(o.json.forEach((function(e){var a=new u;a.LevelId=e.ID,a.PrefabName=e.PrefabName,a.LevelReward=e.LevelReward,a.DifficultyType=e.DifficultyType,t.LevelList.push(a)})),e("已成功加载LevelConfig数据！"))})),1,n.load(m.JsonDirectory+m.RewardGoodsJsonName,o,(function(n,o){n?a("未找到RewardGoods数据!"):(o.json.forEach((function(e){var a=new f;a.GoodsId=e.ID,a.GoodsName=e.GoodsName,a.ImgName=e.ImgName,t.RewardGoodsList.push(a)})),e("已成功加载RewardGoods数据！"))})),1,n.load(m.JsonDirectory+m.ZodiacLevelConfigJsonName,o,(function(n,o){n?a("未找到ZodiacLevel数据!"):(o.json.forEach((function(e){var a=new c;a.LevelId=e.ID,a.LevelName=e.LevelName,a.PrefabName=e.PrefabName,a.LevelReward=e.LevelReward,a.Type=e.type,t.ZodiacLevelList.push(a)})),e("已成功加载ZodiacLevel数据！"))})),1,n.load(m.JsonDirectory+m.SkinDataJsonName,o,(function(n,o){n?a("未找到SkinData数据!"):(o.json.forEach((function(e){var a=new d;a.id=e.ID,a.skinName=e.skinName,a.skinPrefab=e.skinPrefab,a.type=e.type,t.SkinDataList.push(a)})),e("已成功加载SkinData数据！"))})),1,n.load(m.JsonDirectory+m.AreaDataJsonName,o,(function(n,o){n?a("未找到AreaData数据!"):(o.json.forEach((function(e){var a=new i;a.AreaId=e.ID,a.AreaName=e.AreaName,t.AreaDataList.push(a)})),e("已成功加载AreaData数据！"))})),1,n.load(m.JsonDirectory+m.OtherGameConfigJsonName,o,(function(n,o){n?a("未找到OtherGame数据!"):(o.json.forEach((function(e){var a=new l;a.GameId=e.ID,a.GameName=e.GameName,a.IconName=e.IconName,a.GameType=e.GameType,a.load=e.load,a.appid=e.appid,a.isShow=e.isShow,t.OtherGameList.push(a)})),e("已成功加载OtherGame数据！"))})),1,n.load(m.JsonDirectory+m.SubGameConfigJsonName,o,(function(n,o){n?a("未找到SubGameConfig数据!"):(o.json.forEach((function(e){var a=new v;a.SubGameId=e.ID,a.SubGameName=e.SubGameName,a.UnlockAd=e.UnlockAd,a.IconName=e.IconName,a.GameType=e.GameType,a.SenceName=e.SenceName,a.isShow=e.isShow,a.H5PassWord=e.H5PassWord,a.classifyList=e.classifyList,a.load=e.load,t.SubGameList.push(a)})),e("已成功加载SubGameConfig数据！"))})),1,n.load(m.JsonDirectory+m.CallPeopleConfigJsonName,o,(function(n,o){n?a("未找到CallPeopleConfig数据!"):(o.json.forEach((function(e){var a=new s;a.stage=e.ID,a.InvitationNeedNum=e.InvitationNum,a.reward=e.reward,t.CallpeopleDataList.push(a)})),e("已成功加载CallPeopleConfig数据！"))})),1,r("DataManager总计数:",8),8},t.getLevelConfigById=function(e){for(var t,n=a(this.LevelList);!(t=n()).done;){var o=t.value;if(o.LevelId==e)return o}return null},t.getLevelCount=function(){return this.LevelList.length},t.getRandomLevelConfig=function(){var e=this.getLevelCount();return this.LevelList[Math.floor(Math.random()*e)]},t.getRewardGoodsConfigById=function(e){for(var t,n=a(this.RewardGoodsList);!(t=n()).done;){var o=t.value;if(o.GoodsId==e)return o}return null},t.getRewardGoodsCount=function(){return this.RewardGoodsList.length},t.getRewardGoodsListMsg=function(){return this.RewardGoodsList},t.getZodiacLevelConfigById=function(e){for(var t,n=a(this.ZodiacLevelList);!(t=n()).done;){var o=t.value;if(o.LevelId==e)return o}return null},t.getZodiacLevelCount=function(){return this.ZodiacLevelList.length},t.getSkinDataList=function(){for(var e,t=[],n=a(this.SkinDataList);!(e=n()).done;){var o=e.value;t.push(o)}return t},t.getSkinDataById=function(e){for(var t,n=a(this.SkinDataList);!(t=n()).done;){var o=t.value;if(o.id==e)return o}return null},t.getAllAreaList=function(){for(var e,t=[],n=a(this.AreaDataList);!(e=n()).done;){var o=e.value;t.push(o)}return t},t.getAreaNameById=function(e){for(var t,n=a(this.AreaDataList);!(t=n()).done;){var o=t.value;if(o.AreaId==e)return o.AreaName}},t.getAreaIdByName=function(e){for(var t,n=a(this.AreaDataList);!(t=n()).done;){var o=t.value;if(o.AreaName==e)return o.AreaId}},t.getOtherGameConfigById=function(e){for(var t,n=a(this.OtherGameList);!(t=n()).done;){var o=t.value;if(o.GameId==e)return o}return null},t.getOtherGameConfig=function(){return this.OtherGameList},t.getOtherGameCount=function(){return this.OtherGameList.length},t.getSubGameConfigById=function(e){for(var t,n=a(this.SubGameList);!(t=n()).done;){var o=t.value;if(o.SubGameId==e)return o}return null},t.getSubGameConfig=function(){return this.SubGameList},t.getSubGameCount=function(){return this.SubGameList.length},t.getCallpeopleConfigById=function(e){for(var t,n=a(this.CallpeopleDataList);!(t=n()).done;){var o=t.value;if(o.stage==e)return o}return null},t.getCallpeopleConfig=function(){return this.CallpeopleDataList},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/EnergyItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameArgs.ts","./CommonUtils.ts","./UIBase.ts"],(function(t){"use strict";var e,s,i,o,r,n,a,c,l,p,u,h,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,n=t._decorator,a=t.SpriteFrame,c=t.UIOpacity,l=t.v2,p=t.tween},function(t){u=t.PrefabEnum},function(t){h=t.CommonUtils},function(t){y=t.default}],execute:function(){var d,f,P,g,m;r._RF.push({},"3c772EN+gZG2LiajXPITHNJ","EnergyItem",void 0);var v=n.ccclass,b=n.property;t("EnergyItem",(d=v("EnergyItem"),f=b([a]),d((m=e((g=function(t){function e(){for(var e,s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return e=t.call.apply(t,[this].concat(r))||this,i(e,"spList",m,o(e)),e.startPos=void 0,e.endPos=void 0,e._sp=void 0,e}s(e,t);var r=e.prototype;return r.initData=function(t,e,s){this.startPos=t,this.endPos=e,this.node.setWorldPosition(this.startPos),this.getComponent(c).opacity=0,this._sp.$Sprite.spriteFrame=this.spList[s],this.playAc()},r.playAc=function(){var t=this,e=l(this.endPos.x-this.startPos.x,this.endPos.y-this.startPos.y).length()/500,s=this.startPos.subtract(this.endPos);this.node.angle=-h.vectorsToDegress(l(s.x,s.y))-90,p(this.node).to(e,{worldPosition:this.endPos}).start(),p(this.getComponent(c)).to(e/10,{opacity:255}).delay(.8*e).to(e/10,{opacity:0}).call((function(){Global.prefab.DestroyPrefab(u.EnergyItem,t.node),Global.gameUI.refreshBarView()})).start()},e}(y)).prototype,"spList",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=g))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/EventEnum.ts",["cc"],(function(e){"use strict";var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){var a,i,n,t;e({GameEvent:void 0,GameLogicEvent:void 0,GameUIEvent:void 0,SoundEvent:void 0}),o._RF.push({},"19facmVg0lJroBmLxX1+5VZ","EventEnum",void 0),function(e){e.Common_TryRevive="Common_TryRevive",e.Main_RefreshBoxData="Main_RefreshBoxData",e.Main_CheckBox="Main_CheckBox",e.Main_AddBox="Main_AddBox",e.Main_AddGrid="Main_AddGrid",e.Main_Hammer="Main_Hammer",e.Main_ClearTempSlot="Main_ClearTempSlot",e.Main_SwitchHammerProp="Main_SwitchHammerProp",e.Main_RefreshBarView="Main_RefreshBarView",e.Main_SpawnMoveNail="Main_SpawnMoveNail",e.RemoveNail_BaseObjDestory="RemoveNail_BaseObjDestory",e.Commom_SetCurLevel="Commom_SetCurLevel",e.Commom_GamePass="Commom_GamePass",e.ShowInterstitialAd="ShowInterstitialAd",e.commonNextLevel="commonNextLevel",e.RefreshPlayerCount="RefreshPlayerCount",e.flushShowPath="flushShowPath",e.temporarilyCloseShow="temporarilyCloseShow"}(a||(a=e("GameLogicEvent",{}))),function(e){e.RefreshPropMsg="RefreshPropMsg",e.flushDailySp="flushDailySp",e.flushForSubGame="flushForSubGame",e.playResultAc="playResultAc",e.ShowGameFail="GameFail",e.ShowGameSuccess="GameSuccess",e.RefreshLevelBar="RefreshLevelBar",e.openSubPlayUI="openSubPlayUI",e.IntoSubGame="IntoSubGame",e.ShowSubPlayAd="ShowSubPlayAd",e.ShowSkinGetUI="ShowSkinGetUI",e.flushPreserveView="flushPreserveView",e.Main_ClickBox="Main_ClickBox",e.Lobby_ShowLobbyAnimIdle="Lobby_ShowLobbyAnimIdle",e.Lobby_HideLobbyAnimIdle="Lobby_HideLobbyAnimIdle",e.FlushSecondUI="FlushSecondUI"}(i||(i=e("GameUIEvent",{}))),function(e){e.buttonMusic="buttonMusic"}(n||(n=e("GameEvent",{}))),t||(t=e("SoundEvent",{})),o._RF.pop()}}}));

System.register("chunks:///_virtual/EventGHandler.ts",["cc"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.cclegacy,n=e.EventTarget}],execute:function(){t._RF.push({},"cd6ealPxaxGpbE8U82Ao1LL","EventGHandler",void 0);var s=e("TestEnum",(function(){this.test="测试测试测试"}));window.newUIEvent=new n,window.testEnum=new s,globalThis.testEnum=new s,t._RF.pop()}}}));

System.register("chunks:///_virtual/ExportOtherGameController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,e,o,n;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,n=t.Component}],execute:function(){var c;e._RF.push({},"3cec4MDBAdC7LRB2NsQZEQ5","ExportOtherGameController",void 0);var s=o.ccclass;o.property,t("ExportOtherGameController",s("ExportOtherGameController")(c=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},e}(n))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/FeedbackUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(e){"use strict";var o,t,i,l,n,c;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,l=e.EditBox},function(e){n=e.UIHideAnimType,c=e.default}],execute:function(){var r;t._RF.push({},"c9d4cqFZ+RLz5F2Qa47wMEV","FeedbackUI",void 0);var a=i.ccclass;i.property,e("FeedbackUI",a("FeedbackUI")(r=function(e){function t(){for(var o,t=arguments.length,i=new Array(t),l=0;l<t;l++)i[l]=arguments[l];return(o=e.call.apply(e,[this].concat(i))||this)._toggle0=void 0,o._toggle1=void 0,o._toggle2=void 0,o._toggle3=void 0,o._FeedContent=void 0,o}o(t,e);var i=t.prototype;return i.getAllFeedBackType=function(){var e="";return this._toggle0.$Toggle.isChecked&&(""!=e&&(e+="|"),e+="1"),this._toggle1.$Toggle.isChecked&&(""!=e&&(e+="|"),e+="2"),this._toggle2.$Toggle.isChecked&&(""!=e&&(e+="|"),e+="3"),this._toggle3.$Toggle.isChecked&&(""!=e&&(e+="|"),e+="4"),e},i.on_btnFeedBack=function(){if(Global.gameController.FeedBackFlag){var e=this.getAllFeedBackType(),o=this._FeedContent.getComponent(l).string;console.log("反馈日志:"+o),""!=e||""!=o?(Global.sdk.reportPlayerFeedback(e,o,(function(){})),Global.gameController.FeedBackIntoCooling(),Global.ui.showTipStr("反馈已提交"),this.hideUI(n.fadeHide,!0)):Global.ui.showTipStr("请选择反馈类型")}else Global.ui.showTipStr("请勿频繁提交")},i.on_btnClose=function(){this.hideUI(n.fadeHide,!0)},t}(c))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/FlutterStrUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameArgs.ts"],(function(t){"use strict";var e,o,r,i,n,a,s,l,c,u,p,y,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.Node,l=t.UIOpacity,c=t.Label,u=t.v3,p=t.tween,y=t.Component},function(t){f=t.PrefabEnum}],execute:function(){var h,m,v,b,d,g,L;n._RF.push({},"d82b808HHRErKdzoxzOOLB8","FlutterStrUI",void 0);var w=a.ccclass,F=a.property;t("FlutterStrUI",(h=w("FlutterStrUI"),m=F(s),v=F(s),h((g=e((d=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"moveLayer",g,i(e)),r(e,"showT",L,i(e)),e}o(e,t);var n=e.prototype;return n.onLoad=function(){this.moveLayer.getComponent(l).opacity=0},n.initData=function(t){var e=this;this.showT.getComponent(c).string=t,this.moveLayer.setPosition(u(0,-50,0)),this.moveLayer.getComponent(l).opacity=0,p(this.moveLayer.getComponent(l)).to(.75,{opacity:255}).delay(1).to(.75,{opacity:0}).start(),p(this.moveLayer).by(2.6,{position:u(0,200,0)}).call((function(){e.destroySelf()})).start()},n.destroySelf=function(){Global.prefab.DestroyPrefab(f.Fluttering,this.node)},e}(y)).prototype,"moveLayer",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(d.prototype,"showT",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=d))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/ForceSubGameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./EventEnum.ts"],(function(e){"use strict";var t,n,o,i,u,a,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.director},function(e){u=e.UIHideAnimType,a=e.default},function(e){c=e.GameUIEvent}],execute:function(){var r;n._RF.push({},"6381aDbtDlDYYwkURaBnc8Y","ForceSubGameUI",void 0);var s=o.ccclass;o.property,e("ForceSubGameUI",s("ForceSubGameUI")(r=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.on_btnBackLobby=function(){var e=this;Global.ui.startLoadingBar(!1),this.scheduleOnce((function(){i.loadScene("Lobby",(function(){Global.uiEvent.emit(c.flushDailySp),Global.uiEvent.emit(c.flushForSubGame),Global.ui.stopLoadingBar()})),e.hideUI(u.fadeHide,!0)}),.2)},o.on_btnClose=function(){this.hideUI(u.fadeHide,!0)},n}(a))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameArgs.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var i,r,o,l,d,n,t,p,m,u,s;e({ADTargetType:void 0,EventTrackingName:void 0,GameModel:void 0,PrefabEnum:void 0,PropId:void 0,ResourcesArgs:void 0,SceneValue:void 0,ShareTargetType:void 0,SoundEnum:void 0,TTSceneVlaue:void 0,WXSceneVlaue:void 0}),a._RF.push({},"3969cGcbb1D1LkTAS4cBj2U","GameArgs",void 0),e("GameArgs",(function(){})).PhysicsGroupCount=10,function(e){e.UIPrefabDirectory="Prefabs/UI/",e.TipStrUIPrefabName="TipStrUI",e.JsonDirectory="Data/Json/",e.TempJsonName="Temp",e.LevelConfigJsonName="LevelConfig",e.RewardGoodsJsonName="RewardGoods",e.ZodiacLevelConfigJsonName="ZodiacLevelConfig",e.RemoveNailLevelConfigJsonName="RemoveNailLevelConfig",e.OtherGameConfigJsonName="OtherGame",e.SubGameConfigJsonName="SubGameConfig",e.CallPeopleConfigJsonName="CallPeopleConfig",e.SkinDataJsonName="Skin",e.RoleDataJsonName="Role",e.AreaDataJsonName="Area",e.ArtDirectory="Art/",e.TextureArtDirectory="Texture/",e.TempArtName="Temp",e.NailArtName="Nail",e.NailBoxArtName="NailBox",e.RewardGoodsArtName="RewardGoods",e.RewardGoods2ArtName="RewardGoods2",e.RewardGoods3ArtName="RewardGoods3",e.RewardGoods4ArtName="RewardGoods4",e.ZodiacArtName="Zodiac",e.ZodiacCgArtName="ZodiacCg",e.OtherGameIconName="otherGameIcon",e.SubGameIconName="SubGameIcon",e.SubGameIcon2Name="SubGameIcon2",e.SkinArtName="Skin",e.SoundDirectory="Sound/",e.CommonSoundName="Common",e.PrefabDirectory="Prefabs/",e.TempPrefabName="Temp",e.GamePrefabDirectory="Game/",e.RoleDirectory="Role/",e.UIDirectory="UI/",e.BoxDirectory="Box/",e.EnergyDirectory="Energy/",e.SingleDirectory="Single/",e.BoxPrefabName="BaseBox",e.LevelDirectory="Level",e.RemoveNailLevelDirectory="Module/RemoveNail/Level",e.EnergyPrefabName="EnergyItem",e.GlodPrefabName="GlodItem",e.RandomPropPrefabName="RandomProp",e.SkinDirectory="Skin/",e.BaseSkinPrefabName="BaseSkin",e.FlutterStrUIPrefabName="FlutterStrUI",e.pre_RolePrefabName="pre_Role",e.RoleComPrefabName="RoleCom"}(i||(i=e("ResourcesArgs",{}))),function(e){e.BGM="BGM",e.Button="点击按钮",e.boxMove="飞刀切水果",e.IntoBox="放置物品",e.nailOut="点击",e.getGold="收集钱",e.objEnter="物品进洞",e.objChange="物品变色",e.SlapCollision="啪啪圈碰撞",e.BlockCrush="方块破碎",e.TouchScrew="点击螺丝",e.NutUp="螺母上升",e.NutDown="螺母下降",e.split="撕开",e.turtleSount0="幸运色",e.turtleSount1="碰",e.turtleSount2="三连",e.turtleSount3="清台",e.buildFinish="建造完成"}(r||(r=e("SoundEnum",{}))),function(e){e[e.AddGrid=1]="AddGrid",e[e.Hammer=2]="Hammer",e[e.AddBox=3]="AddBox",e[e.ClearGrid=4]="ClearGrid",e[e.OpenCurPlay1=5]="OpenCurPlay1",e[e.SwapNail_PullNail=6]="SwapNail_PullNail",e[e.SwapNail_AddGrid=7]="SwapNail_AddGrid",e[e.SwapNail_Tips=8]="SwapNail_Tips",e[e.OpenCurPlay2=9]="OpenCurPlay2",e[e.OpenCurPlay3=10]="OpenCurPlay3",e[e.SortNail_Tips=11]="SortNail_Tips",e[e.OpenCurPlay4=12]="OpenCurPlay4",e[e.OpenCurPlay5=13]="OpenCurPlay5",e[e.OpenCurPlay6=14]="OpenCurPlay6",e[e.OpenCurPlay=15]="OpenCurPlay",e[e.SortEliminate_AddGrid=15]="SortEliminate_AddGrid",e[e.SortEliminate_AddNut=16]="SortEliminate_AddNut",e[e.SortEliminate_ClearGrid=17]="SortEliminate_ClearGrid",e[e.GraspNail_AddGrid=15]="GraspNail_AddGrid",e[e.GraspNail_Disruption=16]="GraspNail_Disruption",e[e.GraspNail_RoundUp=17]="GraspNail_RoundUp",e[e.GraspNail_ClearGrid=18]="GraspNail_ClearGrid",e[e.FindMisTake_Tips=19]="FindMisTake_Tips",e[e.HelpBaby_Retard=20]="HelpBaby_Retard",e[e.Zipping_AddBox=21]="Zipping_AddBox",e[e.Zipping_AddGrid=22]="Zipping_AddGrid",e[e.Zipping_ClearGrid=23]="Zipping_ClearGrid",e[e.TurtleBlindBox_ChooseBox=24]="TurtleBlindBox_ChooseBox",e[e.TurtleBlindBox_AddBox=25]="TurtleBlindBox_AddBox",e[e.TurtleBlindBox_UnlockSkin=26]="TurtleBlindBox_UnlockSkin",e[e.TurtleBlindBox_UnlockGrid=27]="TurtleBlindBox_UnlockGrid"}(o||(o=e("ADTargetType",{}))),function(e){e[e.None=0]="None",e[e.AddGrid=1]="AddGrid",e[e.Hammer=2]="Hammer",e[e.ClearGrid=3]="ClearGrid",e[e.AddBox=4]="AddBox",e[e.GetRandom=5]="GetRandom",e[e.SwapNail_PullNail=6]="SwapNail_PullNail",e[e.SwapNail_AddGrid=7]="SwapNail_AddGrid",e[e.SwapNail_Tips=8]="SwapNail_Tips",e[e.SortEliminate_AddGrid=9]="SortEliminate_AddGrid",e[e.SortEliminate_AddNut=10]="SortEliminate_AddNut",e[e.SortEliminate_ClearGrid=11]="SortEliminate_ClearGrid",e[e.GraspNail_AddGrid=12]="GraspNail_AddGrid",e[e.GraspNail_Disruption=13]="GraspNail_Disruption",e[e.GraspNail_RoundUp=14]="GraspNail_RoundUp",e[e.GraspNail_ClearGrid=15]="GraspNail_ClearGrid",e[e.FindMisTake_Tips=16]="FindMisTake_Tips",e[e.HelpBaby_Retard=17]="HelpBaby_Retard",e[e.Zipping_AddBox=18]="Zipping_AddBox",e[e.Zipping_AddGrid=19]="Zipping_AddGrid",e[e.Zipping_ClearGrid=20]="Zipping_ClearGrid"}(l||(l=e("ShareTargetType",{}))),function(e){e.occupy="occupy",e.ClearGrid="ClearGrid",e.AddGrid="AddGrid",e.Hammer="Hammer",e.AddBox="AddBox",e.Revive="Revive",e.OpenCurPlay="OpenCurPlay",e.OpenCurPlay1="OpenCurPlay1",e.OpenCurPlay2="OpenCurPlay2",e.SwapNail_PullNail="SwapNail_PullNail",e.SwapNail_AddGrid="SwapNail_AddGrid",e.SwapNail_Tips="SwapNail_Tips",e.OpenCurPlay3="OpenCurPlay3",e.OpenCurPlay4="OpenCurPlay4",e.OpenCurPlay5="OpenCurPlay5",e.OpenCurPlay6="OpenCurPlay6",e.FindMisTake_Tips=" FindMisTake_Tips"}(d||(d=e("EventTrackingName",{}))),function(e){e[e.AddGrid=1]="AddGrid",e[e.Hammer=2]="Hammer",e[e.AddBox=3]="AddBox",e[e.ClearGrid=4]="ClearGrid",e[e.SwapNail_PullNail=5]="SwapNail_PullNail",e[e.SwapNail_AddGrid=6]="SwapNail_AddGrid",e[e.SwapNail_Tips=7]="SwapNail_Tips",e[e.SortEliminate_AddGrid=8]="SortEliminate_AddGrid",e[e.SortEliminate_AddNut=9]="SortEliminate_AddNut",e[e.SortEliminate_ClearGrid=10]="SortEliminate_ClearGrid",e[e.GraspNail_AddGrid=11]="GraspNail_AddGrid",e[e.GraspNail_Disruption=12]="GraspNail_Disruption",e[e.GraspNail_RoundUp=13]="GraspNail_RoundUp",e[e.GraspNail_ClearGrid=14]="GraspNail_ClearGrid",e[e.FindMisTake_Tips=15]="FindMisTake_Tips",e[e.HelpBaby_Retard=16]="HelpBaby_Retard",e[e.Zipping_AddBox=17]="Zipping_AddBox",e[e.Zipping_AddGrid=18]="Zipping_AddGrid",e[e.Zipping_ClearGrid=19]="Zipping_ClearGrid"}(n||(n=e("PropId",{}))),function(e){e[e.Lobby=1]="Lobby",e[e.Game=2]="Game"}(t||(t=e("SceneValue",{}))),function(e){e.Box="Box",e.EnergyItem="EnergyItem",e.GlodItem="GlodItem",e.BaseSkin="BaseSkin",e.RandomProp="RandomProp",e.Fluttering="Fluttering",e.RoleCom="RoleCom",e.pre_Role="pre_Role"}(p||(p=e("PrefabEnum",{}))),function(e){e[e.normalGame=1]="normalGame",e[e.dailyGame=2]="dailyGame",e[e.removeNail=3]="removeNail",e[e.swapNail=4]="swapNail",e[e.sortNail=5]="sortNail",e[e.sortEliminate=6]="sortEliminate",e[e.rollMode=7]="rollMode",e[e.diamondMode=8]="diamondMode",e[e.memeSpNail=9]="memeSpNail",e[e.memeNail=10]="memeNail",e[e.unscrew=11]="unscrew",e[e.GravityMode=12]="GravityMode",e[e.graspNail=13]="graspNail",e[e.tetrisModePro=14]="tetrisModePro",e[e.moveIron=15]="moveIron",e[e.artChallenge=16]="artChallenge",e[e.tetrisMode=17]="tetrisMode",e[e.moreMoreNail=18]="moreMoreNail",e[e.syntheticNail=20]="syntheticNail",e[e.TurkeyBlock=21]="TurkeyBlock",e[e.findMistake=22]="findMistake",e[e.PullNail=23]="PullNail",e[e.Posing=24]="Posing",e[e.SyntheticJob=25]="SyntheticJob",e[e.HelpBaby=26]="HelpBaby",e[e.EatNum=27]="EatNum",e[e.CornDle=28]="CornDle",e[e.MineClear=29]="MineClear",e[e.DelFlower=30]="DelFlower",e[e.JabBalloon=31]="JabBalloon",e[e.NutSort=32]="NutSort",e[e.PluckNeedle=33]="PluckNeedle",e[e.CompositePen=34]="CompositePen",e[e.SlidingBlock=35]="SlidingBlock",e[e.Zipping=36]="Zipping",e[e.TurtleBlindBox=37]="TurtleBlindBox"}(m||(m=e("GameModel",{}))),function(e){e.normal="1000",e.MyProgram="1104"}(u||(u=e("WXSceneVlaue",{}))),function(e){e.normal="1000",e.SiderBar1="021001",e.SiderBar2="101036",e.desktop1="021020",e.desktop2="101020",e.desktop3="181020",e.desktop4="141020",e.desktop5="991020"}(s||(s=e("TTSceneVlaue",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/GameController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./CallPeopleGameData.ts","./ProvinceRankData.ts","./ZodiacLevelGameData.ts","./EventEnum.ts","./GameArgs.ts","./SdkController.ts","./CommonUtils.ts"],(function(e){"use strict";var a,t,l,o,i,n,r,s,c,u,d,g,L,h,b,m,S,v,G,k,f,y,C,p;return{setters:[function(e){a=e.inheritsLoose,t=e.createForOfIteratorHelperLoose,l=e.createClass},function(e){o=e.cclegacy,i=e._decorator,n=e.log,r=e.assetManager,s=e.error,c=e.director,u=e.Component},function(e){d=e.BYTEDANCE},function(e){g=e.CallPeopleGameData},function(e){L=e.ProvinceRankData},function(e){h=e.ZodiacLevelGameData},function(e){b=e.GameLogicEvent,m=e.GameUIEvent},function(e){S=e.ADTargetType,v=e.EventTrackingName,G=e.PropId,k=e.GameModel,f=e.SoundEnum},function(e){y=e.SdkEventEnum,C=e.ChannelType},function(e){p=e.CommonUtils}],execute:function(){var M;o._RF.push({},"5d22dP/69dO6ZXCND5bi2sD","GameController",void 0);var N=i.ccclass;i.property,e("GameController",N("GameController")(M=function(e){function o(){for(var a,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(a=e.call.apply(e,[this].concat(l))||this).curModel=k.normalGame,a.isOpenCheat=!0,a.isForceSubGame=!1,a.isOpenH5PassWord=!1,a.finishCheckPlayerDataCall=function(){},a.GetRewarList=[],a.isNewPlayer=!1,a.isUseFailShare=!1,a.lastLevelData={AddGridPropNum:0,HammerPropNum:0,AddBoxPropNum:0},a.settingCurLevel=0,a.showNumModel=!1,a.showPathModel=!1,a.curSkinId=0,a.unlockSkinList=[0],a.accrueLevelCount=0,a.SkinGetList=[1,1,2,2,3,3,3,4,4,4,4,5],a.SkinSchedule=0,a.nationalRankList=[],a.provincePlayerRankList=[],a.nationalPlayerRankList=[],a.AreaId=-1,a.curZodiacLevel=void 0,a.tempSelectLevel=void 0,a.SubPlayAdList=[],a.PlanSubPlayID=0,a.SubPlayExperienceNum=0,a.ExperienceUseFlag=!1,a._coin=0,a.CallPeopleMsg=void 0,a.InterstitialAdTimeFlag=!1,a.InterstitialAdTimer=600,a.FeedBackFlag=!0,a.FeedBackTimer=60,a.FeedBackTimeIndex=null,a.GravityCurLevel=void 0,a.SubGameList=[],a.H5LoginList=[],a}a(o,e);var i=o.prototype;return i.onLoad=function(){Global.gameController=this},i.start=function(){this.initGame(),this.initEvent()},i.initEvent=function(){Global.logicEvent.on(y.Looked_AdCommon,this.commonAdLooked,this),Global.logicEvent.on(y.Shared_Common,this.commonShared,this),Global.logicEvent.on(b.commonNextLevel,this.commonNextLevel,this),Global.uiEvent.on(m.ShowSubPlayAd,this.ShowSubPlayAd,this),Global.uiEvent.on(m.IntoSubGame,this.openSubPlayUI,this)},i.initGame=function(){var e=this,a=0,t=0,l=function(){e.loadgetRewardListMsg(),e.loadZodiacLevelMsg(),e.checkNewPlayer(),e.loadUnlockSkinData(),e.loadSkinGetMsg(),e.loadAreaMsg(),e.loadSubPlayAdSign(),e.loadSubPlayExperience(),e.loadCallPeopleMsg(),e.loadNationalPlayerRankList(),e.loadInterstitialAdTime(),e.loadGravityModelMsg(),e.loadH5LoginListMsg(),e.loadGold(),Global.sdk.curChannel==C.H5NoAd?(Global.uiEvent.emit(m.openSubPlayUI),Global.ui.stopLoadingBar()):(e.curModel=k.normalGame,c.loadScene("Game")),Global.sound.playCommonMusic(f.BGM)},o=function(e){n(e),t+=1,Global.ui.refreshLoadingBar(t,a),t==a&&l()},i=function(e){s(e),(t+=1)==a&&l()};Global.ui.startLoadingBar(),a+=Global.data.init(o,i),a+=Global.sound.initCommonClip(o,i),a+=Global.art.init(o,i),a+=Global.prefab.init(o,i),a+=this.checkPlayerData(o,i),Global.sound.initAudioSource(),Global.ui.init(),Global.time.init(),Global.sdk.initSdk()},i.checkPlayerData=function(e,a){p.getLocalData("IsNewPlayer");return 0},i.checkPlayerDataCall=function(){p.getLocalData("IsNewPlayer")},i.commonAdLooked=function(e,a){if(e.isEnded)switch(a){case S.OpenCurPlay:v.OpenCurPlay,Global.gameController.AddSubPlayAdSignNum(this.PlanSubPlayID)}Global.ui.stopLoading()},i.commonShared=function(e,a){},i.checkFirstLogin=function(){var e=!1,a=p.getLocalData("IsNewPlayer");return null!=a&&""!=a||(console.log("正在检查是否第一次登陆！！！！！！"),Global.sdk.reportPlayerId(),Global.sdk.reportTEFirstLogin(),e=!0,Global.sdk.curChannel==C.Zhise_wx1&&p.setLocalData("IsNewPlayer","1")),e},i.parseGameData=function(e){if(p.setLocalData("IsNewPlayer","1"),e&&""!=e&&"-1"!=e){var a=JSON.parse(e);console.log("后台发过来的数据"),console.log(a),p.setLocalData("GameLevel",a.GameLevel),p.setLocalData("RealLevel",a.RealLevel),p.setLocalData("GameSelectLevel",a.GameSelectLevel),p.setLocalData("GameGetRewarList",a.GameGetRewarList),p.setLocalData("FirstLoginTime",a.FirstLoginTime),p.setLocalData("UseFailShare",a.UseFailShare),p.setLocalData("UnlockSkinList",a.UnlockSkinList),p.setLocalData("CurSkinId",a.CurSkinId),p.setLocalData("LevelCount",a.LevelCount),p.setLocalData("SkinSchedule",a.SkinSchedule),p.setLocalData("AreaMsg",a.AreaMsg),p.setLocalData("ZodiacLevelMsg",a.ZodiacLevelMsg),p.setLocalData("SubPlayAdList",a.SubPlayAdList),p.setLocalData("SubPlayExperienceNum",a.SubPlayExperienceNum),p.setLocalData("RemoveNailGameLevel",a.RemoveNailGameLevel)}else Global.sdk.createPlayerRemoteData()},i.getAllDataByStr=function(){var e={GameLevel:p.getLocalData("GameLevel"),RealLevel:p.getLocalData("RealLevel"),GameSelectLevel:p.getLocalData("GameSelectLevel"),GameGetRewarList:p.getLocalData("GameGetRewarList"),FirstLoginTime:p.getLocalData("FirstLoginTime"),UseFailShare:p.getLocalData("UseFailShare"),UnlockSkinList:p.getLocalData("UnlockSkinList"),CurSkinId:p.getLocalData("CurSkinId"),LevelCount:p.getLocalData("LevelCount"),SkinSchedule:p.getLocalData("SkinSchedule"),AreaMsg:p.getLocalData("AreaMsg"),ZodiacLevelMsg:p.getLocalData("ZodiacLevelMsg"),SubPlayAdList:p.getLocalData("SubPlayAdList"),SubPlayExperienceNum:p.getLocalData("SubPlayExperienceNum"),RemoveNailGameLevel:p.getLocalData("RemoveNailGameLevel")};return JSON.stringify(e)},i.clearGameData=function(){p.setLocalData("GameLevel",""),p.setLocalData("RealLevel",""),p.setLocalData("GameSelectLevel",""),p.setLocalData("GameGetRewarList",""),p.setLocalData("FirstLoginTime",""),p.setLocalData("UseFailShare",""),p.setLocalData("UnlockSkinList",""),p.setLocalData("CurSkinId",""),p.setLocalData("LevelCount",""),p.setLocalData("SkinSchedule",""),p.setLocalData("AreaMsg",""),p.setLocalData("ZodiacLevelMsg",""),p.setLocalData("NationalPlayerRankList",""),p.setLocalData("ProvincePlayerRankList",""),p.setLocalData("NationalRankList",""),p.setLocalData("SubPlayAdList",""),p.setLocalData("SubPlayExperienceNum",""),p.setLocalData("RemoveNailGameLevel",""),p.setLocalData("IsNewPlayer",""),this.GetRewarList=[],Global.ui.showTipStr("已清理数据，请重启游戏")},i.getPlayerLocalData=function(e){return p.getLocalData(e)},i.loadgetRewardListMsg=function(){var e=p.getLocalData("GameGetRewarList");this.GetRewarList=e&&""!=e?JSON.parse(e):[]},i.savegetRewardListMsg=function(){var e=JSON.stringify(this.GetRewarList);p.setLocalData("GameGetRewarList",e)},i.addRewardGoods=function(e){for(var a,l=t(this.GetRewarList);!(a=l()).done;){if(a.value==e)return}this.GetRewarList.push(e),this.savegetRewardListMsg()},i.getRewardListData=function(){return this.GetRewarList},i.checkRewardOwn=function(e){return this.GetRewarList.indexOf(e)<0},i.testGetAllReward=function(){for(var e=[],a=1;a<=64;a++)e.push(a,1e3+a,2e3+a);this.GetRewarList=e,this.savegetRewardListMsg()},i.checkNewPlayer=function(){var e=p.getLocalData("FirstLoginTime"),a=(new Date).toLocaleDateString();null==e||""==e||e==a?(this.isNewPlayer=!0,p.setLocalData("FirstLoginTime",a)):this.isNewPlayer=!1},i.loadUseFailShare=function(){var e=p.getLocalData("UseFailShare");this.isUseFailShare=null!=e&&""!=e},i.saveUseFailShare=function(){p.setLocalData("UseFailShare",this.isUseFailShare?"1":"")},i.RandomAddLevelData=function(e){for(var a=0;a<e;a++){switch(~~(3*Math.random())){case 0:this.lastLevelData.AddGridPropNum+=1;break;case 1:this.lastLevelData.HammerPropNum+=1;break;case 2:this.lastLevelData.AddBoxPropNum+=1}}},i.getRandomProp=function(){if(!Global.gameController.isUseFailShare){var e=[G.Hammer,G.AddGrid,G.ClearGrid],a=e[Math.floor(Math.random()*e.length)];switch(a){case G.Hammer:this.scheduleOnce((function(){Global.ui.showTipStr("获得“溶解板子”1次")}),.5);break;case G.AddGrid:this.scheduleOnce((function(){Global.ui.showTipStr("获得“增加临时格”1次")}),.5);break;case G.ClearGrid:this.scheduleOnce((function(){Global.ui.showTipStr("获得“清理临时格”1次")}),.5)}Global.levelUI.AddPropNum(a,1,!1)}},i.unlockSkin=function(e){this.checkSkinUnlock(e)||null!=Global.data.getSkinDataById(e)&&(this.unlockSkinList.push(e),Global.uiEvent.emit(m.ShowSkinGetUI,e))},i.checkSkinUnlock=function(e){return-1!=this.unlockSkinList.indexOf(e)},i.switchSkin=function(e){this.curSkinId=e,this.saveUnlockSkinData()},i.loadUnlockSkinData=function(){var e=p.getLocalData("UnlockSkinList"),a=p.getLocalData("CurSkinId");null!=e&&""!=e?(this.unlockSkinList=JSON.parse(e),null!=a&&""!=a&&(this.curSkinId=JSON.parse(a))):(this.curSkinId=0,this.unlockSkinList=[0],this.saveUnlockSkinData())},i.saveUnlockSkinData=function(){p.setLocalData("CurSkinId",JSON.stringify(this.curSkinId)),p.setLocalData("UnlockSkinList",JSON.stringify(this.unlockSkinList))},i.getNewSkinId=function(){for(var e,a=Global.data.getSkinDataList().filter((function(e){return 0==e.type})),l=t(a);!(e=l()).done;){var o=e.value;if(!this.checkSkinUnlock(o.id))return o.id}},i.AddLevelCount=function(){this.accrueLevelCount+=1;var e=0;if(e=this.SkinSchedule>=this.SkinGetList.length?5:this.SkinGetList[this.SkinSchedule],this.accrueLevelCount>=e){this.getNewSkinId();this.unlockSkin(this.getNewSkinId()),this.accrueLevelCount=0,this.SkinSchedule++}this.saveUnlockSkinData(),this.saveSkinGetMsg()},i.loadSkinGetMsg=function(){var e=p.getLocalData("LevelCount"),a=p.getLocalData("SkinSchedule");null!=e&&""!=e?(this.accrueLevelCount=JSON.parse(e),null!=a&&""!=a&&(this.SkinSchedule=JSON.parse(a))):(this.accrueLevelCount=0,this.SkinSchedule=this.unlockSkinList.length-1)},i.saveSkinGetMsg=function(){p.setLocalData("LevelCount",JSON.stringify(this.accrueLevelCount)),p.setLocalData("SkinSchedule",JSON.stringify(this.SkinSchedule))},i.getSkinUnlockNeed=function(e){if(this.checkSkinUnlock(e))return 0;var a=0,t=0,l=Global.data.getSkinDataList().filter((function(e){return 0==e.type}));for(var o in l){if(l[o].id==e){t=Number(o);break}}for(var i=this.SkinGetList.length,r=this.SkinSchedule;r<t;r++)a+=r<i?this.SkinGetList[r]:5;return n("NeedCount",a),n("accrueLevelCount",this.accrueLevelCount),a-this.accrueLevelCount},i.loadNationalRankList=function(){var e=p.getLocalData("NationalRankList");e&&""!=e&&(this.nationalRankList=JSON.parse(e))},i.saveNationalRankList=function(){var e=JSON.stringify(this.nationalRankList);p.setLocalData("NationalRankList",e)},i.nationalRankListTest=function(){this.nationalRankList=[];var e=new L;e.id=0,e.province="上海",e.score=Math.floor(5e4*Math.random());var a=new L;a.id=1,a.province="北京",a.score=Math.floor(5e4*Math.random());var t=new L;t.id=2,t.province="天津",t.score=Math.floor(5e4*Math.random());var l=new L;l.id=3,l.province="四川",l.score=Math.floor(5e4*Math.random());var o=new L;o.id=4,o.province="重庆",o.score=Math.floor(5e4*Math.random()),this.nationalRankList.push(e),this.nationalRankList.push(a),this.nationalRankList.push(t),this.nationalRankList.push(l),this.nationalRankList.push(o)},i.loadProvincePlayerRankList=function(){var e=p.getLocalData("ProvincePlayerRankList");e&&""!=e&&(this.provincePlayerRankList=JSON.parse(e))},i.saveProvincePlayerRankList=function(){var e=JSON.stringify(this.provincePlayerRankList);p.setLocalData("ProvincePlayerRankList",e)},i.loadNationalPlayerRankList=function(){var e=p.getLocalData("NationalPlayerRankList");e&&""!=e&&(this.nationalPlayerRankList=JSON.parse(e))},i.saveNationalPlayerRankList=function(){var e=JSON.stringify(this.nationalPlayerRankList);p.setLocalData("NationalPlayerRankList",e)},i.loadAreaMsg=function(){var e=p.getLocalData("AreaMsg");e&&(this.AreaId=JSON.parse(e))},i.saveAreaMsg=function(){var e=JSON.stringify(this.AreaId);p.setLocalData("AreaMsg",e)},i.changeAreaMsg=function(e){this.AreaId=e,this.saveAreaMsg()},i.getAreaMsg=function(){return this.AreaId},i.loadZodiacLevelMsg=function(){var e=p.getLocalData("ZodiacLevelMsg");if(e&&""!=e){this.curZodiacLevel=JSON.parse(e);var a=p.getYMDTime();a!=this.curZodiacLevel.Data&&(this.curZodiacLevel.Sp=1,this.curZodiacLevel.Data=a)}else{this.curZodiacLevel=new h,this.curZodiacLevel.Sp=1,this.curZodiacLevel.Data=p.getYMDTime(),this.curZodiacLevel.LevelSchedule=0;for(var t=[1,2,3,4,7,8,9,10,11,6,12,5],l=t.length-3,o=0;o<l;o++){var i=Math.floor(Math.random()*(l-o)),r=[t[l-o-1],t[i]];t[i]=r[0],t[l-o-1]=r[1]}this.curZodiacLevel.LevelList=t,n(t)}this.saveZodiacLevelMsg(),Global.uiEvent.emit(m.flushDailySp)},i.saveZodiacLevelMsg=function(){var e=JSON.stringify(this.curZodiacLevel);p.setLocalData("ZodiacLevelMsg",e)},i.checkZodiacLevelUnlock=function(e){for(var a in this.curZodiacLevel.LevelList){if(this.curZodiacLevel.LevelList[a]==e)return Number(a)<this.curZodiacLevel.LevelSchedule}},i.checkZodiacLevelIsToday=function(e){return!(this.curZodiacLevel.Sp<=0)&&(!(this.curZodiacLevel.LevelSchedule>=this.curZodiacLevel.LevelList.length)&&this.curZodiacLevel.LevelList[this.curZodiacLevel.LevelSchedule]==e)},i.getZodiacLevelList=function(){return this.curZodiacLevel.LevelList},i.DailyGamePass=function(){this.checkZodiacLevelIsToday(this.tempSelectLevel)&&(this.curZodiacLevel.Sp=Math.max(0,this.curZodiacLevel.Sp-1),this.curZodiacLevel.LevelSchedule=Math.min(this.curZodiacLevel.LevelList.length,this.curZodiacLevel.LevelSchedule+1),this.saveZodiacLevelMsg())},i.loadSubPlayAdSign=function(){var e=p.getLocalData("SubPlayAdList");this.SubPlayAdList=e&&""!=e?JSON.parse(e):[]},i.saveSubPlayAdSign=function(){var e=JSON.stringify(this.SubPlayAdList);p.setLocalData("SubPlayAdList",e)},i.AddSubPlayAdSignNum=function(e){if(void 0===e&&(e=-1),-1!=e){var a=Global.data.getSubGameConfigById(e);null!=a&&(this.SubPlayAdList[e]?this.SubPlayAdList[e]+=1:this.SubPlayAdList[e]=1,this.SubPlayAdList[e]>=a.UnlockAd&&Global.uiEvent.emit(m.IntoSubGame,e),this.saveSubPlayAdSign(),Global.uiEvent.emit(m.FlushSecondUI))}},i.getSubDataById=function(e){return this.SubPlayAdList[e]?this.SubPlayAdList[e]:0},i.checkSubGameUnlock=function(e){var a=Global.data.getSubGameConfigById(e);return this.getSubDataById(e)>=a.UnlockAd},i.loadSubPlayExperience=function(){var e=p.getLocalData("SubPlayExperienceNum");this.SubPlayExperienceNum=e&&""!=e?JSON.parse(e):1},i.saveSubPlayExperience=function(){var e=JSON.stringify(this.SubPlayExperienceNum);p.setLocalData("SubPlayExperienceNum",e)},i.UseSubPlayExperience=function(){this.SubPlayExperienceNum<=0||(this.SubPlayExperienceNum=Math.max(this.SubPlayExperienceNum-1,0),this.ExperienceUseFlag=!0,this.saveSubPlayExperience())},i.checkIsUseSubPlayExperienceNum=function(){return d},i.addGold=function(e){this.coin+=e,Global.logicEvent.emit(b.RefreshPlayerCount)},i.getGold=function(){return this.coin},i.loadGold=function(){var e=p.getLocalData("LobbyGameGold");""!=e&&(this.coin=Number(e))},i.saveGold=function(){p.setLocalData("LobbyGameGold",""+this.getGold())},i.loadCallPeopleMsg=function(){var e=p.getLocalData("CallPeopleMsg");e&&""!=e?this.CallPeopleMsg=JSON.parse(e):(this.CallPeopleMsg=new g,this.CallPeopleMsg.InvitationNum=0,this.CallPeopleMsg.rewardState=1)},i.flushInvitationNum=function(){var e=this;Global.sdk.getPlayerInviteCount((function(a){var t=JSON.parse(a);e.CallPeopleMsg.InvitationNum=t.result,console.log(e.CallPeopleMsg.InvitationNum),e.saveCallPeopleMsg()}))},i.saveCallPeopleMsg=function(){var e=JSON.stringify(this.CallPeopleMsg);p.setLocalData("CallPeopleMsg",e)},i.getCallPeopleMsg=function(){return this.CallPeopleMsg},i.AddCallPeopleReward=function(){var e=Global.data.getCallpeopleConfigById(this.CallPeopleMsg.rewardState);if(null!=e){for(var a,l=t(e.reward);!(a=l()).done;){var o=a.value;this.AddGoods(o[0],o[1])}this.CallPeopleMsg.rewardState+=1,this.saveCallPeopleMsg()}},i.AddGoods=function(e,a){switch(e){case 1:this.coin+=a;break;case 2:this.unlockSkin(a);break;case 3:this.RandomAddLevelData(a)}},i.loadInterstitialAdTime=function(){var e=this;this.InterstitialAdTimeFlag=!1,Global.time.registerTimerFunc((function(a){e.InterstitialAdTimeFlag=!0,a.pause=!0}),this.InterstitialAdTimer)},i.CheckWXInterstitialAdShow=function(){return!!this.InterstitialAdTimeFlag&&(!this.isNewPlayer&&(this.curModel==k.normalGame&&!(Global.gameUI.curLevel<=10||Global.gameUI.curLevel%2==0)))},i.FeedBackIntoCooling=function(){var e=this;this.FeedBackFlag=!1,null==this.FeedBackTimeIndex?Global.time.registerTimerFunc((function(a){e.FeedBackFlag=!0,a.pause=!0}),this.FeedBackTimer):Global.time.switchTimerFunc(this.FeedBackTimeIndex,!1)},i.loadGravityModelMsg=function(){var e=p.getLocalData("GravityCurLevel");this.GravityCurLevel=e&&""!=e?JSON.parse(e):1},i.saveGravityModelMsg=function(){var e=JSON.stringify(this.GravityCurLevel);p.setLocalData("GravityCurLevel",e)},i.GravityModelPass=function(){this.GravityCurLevel++,this.saveGravityModelMsg()},i.getGravityRealLevel=function(){return this.GravityCurLevel<=Global.data.getLevelCount()?this.GravityCurLevel:(this.GravityCurLevel-1)%Global.data.getLevelCount()+1},i.commonNextLevel=function(){var e,a=this;console.log("下一关"),this.ExperienceUseFlag?(e={ID:0,SenceName:"Game"},this.curModel=k.normalGame,this.ExperienceUseFlag=!1):e=this.getCurModelConfig();var t=function(){switch(Global.sdk.eventTracking("Enter",{}),Global.logicEvent.emit(b.flushShowPath),a.curModel){case k.unscrew:a.scheduleOnce((function(){var e;null==(e=Unscrew)||e.gameUI.toNextLevel(),Global.ui.stopLoadingBar()}),.2);break;case k.rollMode:a.scheduleOnce((function(){var e;null==(e=RollMode)||e.gameUI.toNextLevel(),Global.ui.stopLoadingBar()}),.2);break;case k.sortEliminate:a.scheduleOnce((function(){var e;null==(e=SortEliminate)||e.gameUI.toNextLevel(),Global.ui.stopLoadingBar()}),.2);break;case k.sortNail:a.scheduleOnce((function(){var e;null==(e=SortNail)||e.gameUI.toNextLevel(),Global.ui.stopLoadingBar()}),.2);break;case k.diamondMode:Global.ui.startLoadingBar(!1),a.scheduleOnce((function(){var e;null==(e=Diamond)||e.gameUI.toNextLevel(),Global.ui.stopLoadingBar()}),.2);break;case k.GravityMode:c.loadScene("Lobby",(function(){c.loadScene("Game",(function(){Global.ui.stopLoadingBar()}))}));break;case k.graspNail:a.scheduleOnce((function(){var e;null==(e=GraspNail)||e.gameUI.toNextLevel(),Global.ui.stopLoadingBar()}),.2);break;case k.findMistake:a.scheduleOnce((function(){var e;null==(e=FindMistake)||e.gameUI.toNextLevel(),Global.ui.stopLoadingBar()}),.2);break;case k.syntheticNail:a.scheduleOnce((function(){var e;null==(e=SyntheticNail)||e.gameUI.toNextLevel(),Global.ui.stopLoadingBar()}),.2);break;default:a.scheduleOnce((function(){Global.logicEvent.emit(b.temporarilyCloseShow),c.loadScene("Lobby",(function(){c.loadScene(e.SenceName,(function(){Global.ui.stopLoadingBar(),Global.logicEvent.emit(b.flushShowPath)}))}))}),.2)}};Global.ui.startLoadingBar(!1),"Game"==e.SenceName||r.getBundle(e.SenceName)?t():r.loadBundle(e.SenceName,{},(function(){t()}))},i.getCurModelConfig=function(){var e;switch(this.curModel){case k.removeNail:e=Global.data.getSubGameConfigById(1);break;case k.swapNail:e=Global.data.getSubGameConfigById(2);break;case k.rollMode:e=Global.data.getSubGameConfigById(3);break;case k.memeSpNail:e=Global.data.getSubGameConfigById(4);break;case k.memeNail:e=Global.data.getSubGameConfigById(5);break;case k.tetrisMode:e=Global.data.getSubGameConfigById(6);break;case k.sortEliminate:e=Global.data.getSubGameConfigById(7);break;case k.sortNail:e=Global.data.getSubGameConfigById(8);break;case k.diamondMode:e=Global.data.getSubGameConfigById(9);break;case k.unscrew:e=Global.data.getSubGameConfigById(10);break;case k.moreMoreNail:e=Global.data.getSubGameConfigById(11);break;case k.GravityMode:e=Global.data.getSubGameConfigById(12);break;case k.graspNail:e=Global.data.getSubGameConfigById(13);break;case k.tetrisModePro:e=Global.data.getSubGameConfigById(14);break;case k.moveIron:e=Global.data.getSubGameConfigById(15);break;case k.artChallenge:e=Global.data.getSubGameConfigById(16);break;case k.syntheticNail:e=Global.data.getSubGameConfigById(17);break;case k.findMistake:e=Global.data.getSubGameConfigById(18);break;case k.PullNail:e=Global.data.getSubGameConfigById(19);break;case k.Posing:e=Global.data.getSubGameConfigById(20);break;case k.TurkeyBlock:e=Global.data.getSubGameConfigById(21);break;case k.SyntheticJob:e=Global.data.getSubGameConfigById(22);break;case k.HelpBaby:e=Global.data.getSubGameConfigById(23);break;case k.EatNum:e=Global.data.getSubGameConfigById(24);break;case k.CornDle:e=Global.data.getSubGameConfigById(25);break;case k.CompositePen:e=Global.data.getSubGameConfigById(26);break;case k.MineClear:e=Global.data.getSubGameConfigById(27);break;case k.DelFlower:e=Global.data.getSubGameConfigById(28);break;case k.JabBalloon:e=Global.data.getSubGameConfigById(29);break;case k.NutSort:e=Global.data.getSubGameConfigById(30);break;case k.PluckNeedle:e=Global.data.getSubGameConfigById(31);break;case k.SlidingBlock:e=Global.data.getSubGameConfigById(32);break;case k.Zipping:e=Global.data.getSubGameConfigById(33);break;case k.TurtleBlindBox:e=Global.data.getSubGameConfigById(34);break;default:e={ID:0,SenceName:"Game"}}return e},i.ShowSubPlayAd=function(e){if(this.checkIsUseSubPlayExperienceNum())return this.UseSubPlayExperience(),void this.openSubPlayUI(e);if(this.checkSubGameUnlock(e))this.openSubPlayUI(e);else{if(Global.sdk.checkShowAd())return this.PlanSubPlayID=e,void Global.sdk.showAd(S.OpenCurPlay);this.openSubPlayUI(e)}},i.openSubPlayUI=function(e){var a=this,t=Global.data.getSubGameConfigById(e);if(t){var l=function(){if(a.SubGameList.push(e),a.SubGameList.length>1){var l=a.SubGameList.shift(),o=Global.data.getSubGameConfigById(l);r.getBundle(o.SenceName).releaseAll()}a.setGameMode(t.SenceName),Global.sdk.eventTracking("Enter",{}),"GravityMode"==t.SenceName?c.loadScene("Game",(function(){Global.ui.stopLoadingBar()})):c.loadScene(t.SenceName,(function(){Global.ui.stopLoadingBar(),Global.logicEvent.emit(b.flushShowPath)}))},o=this.SubGameList.indexOf(e);o>=0&&this.SubGameList.splice(o,1),Global.ui.startLoadingBar(!1),r.getBundle(t.SenceName)?l():r.loadBundle(t.SenceName,{},(function(){l()}))}},i.setGameMode=function(e){switch(n("=========modeName",e),e){case"RemoveNail":Global.gameController.curModel=k.removeNail;break;case"SwapNail":Global.gameController.curModel=k.swapNail;break;case"SortNail":Global.gameController.curModel=k.sortNail;break;case"SortEliminate":Global.gameController.curModel=k.sortEliminate;break;case"RollMode":Global.gameController.curModel=k.rollMode;break;case"DiamondMode":Global.gameController.curModel=k.diamondMode;break;case"MemeSpNail":Global.gameController.curModel=k.memeSpNail;break;case"MemeNail":Global.gameController.curModel=k.memeNail;break;case"Unscrew":Global.gameController.curModel=k.unscrew;break;case"GravityMode":Global.gameController.curModel=k.GravityMode;break;case"GraspNail":Global.gameController.curModel=k.graspNail;break;case"TetrisModePro":Global.gameController.curModel=k.tetrisModePro;break;case"TetrisMode":Global.gameController.curModel=k.tetrisMode;break;case"MoveIron":Global.gameController.curModel=k.moveIron;break;case"ArtChallenge":Global.gameController.curModel=k.artChallenge;break;case"MoreMoreNail":Global.gameController.curModel=k.moreMoreNail;break;case"SyntheticNail":Global.gameController.curModel=k.syntheticNail;break;case"FindMistake":Global.gameController.curModel=k.findMistake;break;case"PullNail":Global.gameController.curModel=k.PullNail;break;case"Posing":Global.gameController.curModel=k.Posing;break;case"TurkeyBlock":Global.gameController.curModel=k.TurkeyBlock;break;case"SyntheticJob":Global.gameController.curModel=k.SyntheticJob;break;case"HelpBaby":Global.gameController.curModel=k.HelpBaby;break;case"EatNum":Global.gameController.curModel=k.EatNum;break;case"CornDle":Global.gameController.curModel=k.CornDle;break;case"MineClear":Global.gameController.curModel=k.MineClear;break;case"DelFlower":Global.gameController.curModel=k.DelFlower;break;case"JabBalloon":Global.gameController.curModel=k.JabBalloon;break;case"NutSort":Global.gameController.curModel=k.NutSort;break;case"PluckNeedle":Global.gameController.curModel=k.PluckNeedle;break;case"CompositePen":Global.gameController.curModel=k.CompositePen;break;case"SlidingBlock":Global.gameController.curModel=k.SlidingBlock;break;case"TurtleBlindBox":Global.gameController.curModel=k.TurtleBlindBox;break;case"Zipping":Global.gameController.curModel=k.Zipping}},i.checkH5LoginState=function(e){return this.H5LoginList.indexOf(e)>=0},i.H5LoginSubGame=function(e){for(var a,l=t(this.H5LoginList);!(a=l()).done;){if(a.value==e)return}this.H5LoginList.push(e),this.saveH5LoginListMsg()},i.loadH5LoginListMsg=function(){var e=p.getLocalData("H5LoginList");this.H5LoginList=e&&""!=e?JSON.parse(e):[]},i.saveH5LoginListMsg=function(){var e=JSON.stringify(this.H5LoginList);p.setLocalData("H5LoginList",e)},i.getH5LoginPassWord=function(e){return Global.data.getSubGameConfigById(e).H5PassWord},l(o,[{key:"coin",get:function(){return this._coin},set:function(e){"number"!=typeof e||Number.isNaN(e)?this._coin=Number(this._coin):(this._coin=Math.round(e),this._coin<0&&(this._coin=0),this.saveGold())}}]),o}(u))||M);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameFail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventEnum.ts","./GameArgs.ts","./SdkController.ts","./UIBase.ts"],(function(t){"use strict";var i,e,o,a,r,s,n,l,h,c,u,p,d,v,_,g,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,n=t.SpriteFrame,l=t.director,h=t.v3,c=t.tween},function(t){u=t.GameUIEvent,p=t.GameLogicEvent},function(t){d=t.GameModel,v=t.ShareTargetType},function(t){_=t.ChannelType},function(t){g=t.UIHideAnimType,f=t.default}],execute:function(){var m,b,P,y,G,S,L;r._RF.push({},"86419oN5FVFKaVCkNignnQ1","GameFail",void 0);var F=s.ccclass,C=s.property;t("GameFail",(m=F("GameFail"),b=C([n]),P=C([n]),m((S=i((G=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,o(i,"showSp",S,a(i)),o(i,"frameList",L,a(i)),i._sp=void 0,i.curData={},i._tipQp=void 0,i._btnShare=void 0,i._type1=void 0,i._type2=void 0,i._nail=void 0,i._starPos=void 0,i._endPos=void 0,i._proValue=void 0,i._role=void 0,i._Zodiac1=void 0,i._Zodiac2=void 0,i._levelValue=void 0,i._showstring=void 0,i.curPro=0,i.playAcFlag=!1,i}e(i,t);var r=i.prototype;return r.onLoad=function(){Global.gameController.curModel==d.removeNail?this._tipQp.active=!1:this._tipQp.active=!Global.gameController.isUseFailShare,this._btnShare.active=Global.sdk.curChannel!=_.H5NoAd,Global.uiEvent.on("HideFailShare",this.hideShareBtn,this),this._sp.$Sprite.spriteFrame=this.showSp[Math.floor(Math.random()*this.showSp.length)]},r.start=function(){Global.gameController.curModel==d.dailyGame?this.InitPro2():Global.gameController.curModel==d.removeNail?this.InitPro3():this.InitPro1()},r.onDestroy=function(){Global.uiEvent.targetOff(this)},r.initData=function(t){this.curData=t},r.on_btnClose=function(){var t=this;Global.ui.startLoadingBar(!1),this.scheduleOnce((function(){l.loadScene("Lobby",(function(){Global.uiEvent.emit(u.flushDailySp),Global.ui.stopLoadingBar()})),t.hideUI(g.fadeHide,!0)}),.2)},r.on_btnRe=function(){var t=this;this.scheduleOnce((function(){Global.logicEvent.emit(p.commonNextLevel),t.hideUI(g.fadeHide,!0)}),.2)},r.hideShareBtn=function(){this._tipQp.active=!1},r.on_btnShare=function(){Global.sdk.lastShareInitiator=-1,Global.gameController.curModel==d.removeNail?(Global.sdk.share(v.None),Global.sdk.setTEShareType("失败")):(Global.sdk.share(v.GetRandom),Global.sdk.setTEShareType("失败"))},r.InitPro1=function(){this._type1.active=!0,this._type2.active=!1,this.curPro=this.curData.proValue,this.playAcFlag=!0,this._nail.setPosition(this._starPos.getPosition()),this.playResultAc()},r.InitPro2=function(){this._type1.active=!1,this._type2.active=!0,this.curPro=Global.gameController.curZodiacLevel.LevelSchedule/12;var t=(this._endPos.getPosition().x-this._starPos.getPosition().x)*this.curPro+this._starPos.getPosition().x;this._role.setPosition(h(t,this._role.getPosition().y,0));var i=Global.gameController.curZodiacLevel,e=i.LevelList[Math.max(0,i.LevelSchedule-1)];this._Zodiac1.$Sprite.spriteFrame=Global.art.getZodiacTexture(e+""),this._Zodiac2.$Sprite.spriteFrame=this.frameList[e-1],this._levelValue.$Label.string="第"+i.LevelSchedule+"关",i.LevelSchedule>=12?this._showstring.$Label.string="你已经集齐所有生肖":this._showstring.$Label.string="差一点就集齐12生肖了，再接再厉"},r.InitPro3=function(){var t;this._type1.active=!0,this._type2.active=!1,this.curPro=null==(t=RemoveNail)?void 0:t.levelUI.getCurCountBar(),this.playAcFlag=!0,this._nail.setPosition(this._starPos.getPosition()),this.playResultAc()},r.playResultAc=function(){var t=this;if(this.playAcFlag){this.playAcFlag=!1;var i=(this._endPos.getPosition().x-this._starPos.getPosition().x)*this.curPro+this._starPos.getPosition().x;c(this._nail).to(.5,{position:h(i,this._nail.getPosition().y,0)}).start();c({_pro:0}).to(.5,{_pro:100*this.curPro},{onUpdate:function(i,e){t._proValue.$Label.string=Math.floor(i._pro)+"%"}}).start()}},i}(f)).prototype,"showSp",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=i(G.prototype,"frameList",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=G))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameSuccess.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventEnum.ts","./GameArgs.ts","./SdkController.ts","./AtlasUI.ts","./UIBase.ts"],(function(e){"use strict";var a,t,o,i,l,n,r,s,c,d,h,u,m,G,b,v,f,g,p,_,w;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,n=e._decorator,r=e.Prefab,s=e.SpriteFrame,c=e.log,d=e.director,h=e.instantiate,u=e.Animation},function(e){m=e.GameLogicEvent,G=e.GameUIEvent},function(e){b=e.GameModel,v=e.ShareTargetType},function(e){f=e.ChannelType},function(e){g=e.AtlasUI},function(e){p=e.UIHideAnimType,_=e.UIShowAnimType,w=e.default}],execute:function(){var I,k,S,L,y,A,C,U,M;l._RF.push({},"3c8bcgvsiBPS45dK7M0XwJ6","GameSuccess",void 0);var D=n.ccclass,T=n.property;e("GameSuccess",(I=D("GameSuccess"),k=T(r),S=T([s]),L=T([s]),I((C=a((A=function(e){function a(){for(var a,t=arguments.length,l=new Array(t),n=0;n<t;n++)l[n]=arguments[n];return a=e.call.apply(e,[this].concat(l))||this,o(a,"AtlasUIPrefab",C,i(a)),o(a,"showSp",U,i(a)),o(a,"frameList",M,i(a)),a._btnNext=void 0,a._SubLayer=void 0,a._sp=void 0,a._showstring=void 0,a.curData={},a._btnShare=void 0,a._otherGameAd=void 0,a._otherGameAd2=void 0,a._otherGame2Sp=void 0,a._otherGame2Name=void 0,a._otherGameAnim=void 0,a._showGetGold=void 0,a._showGoldTip=void 0,a}t(a,e);var l=a.prototype;return l.onLoad=function(){var e;if(this._otherGameAd.active=!1,this._otherGameAd2.active=!1,Global.sdk.checkSuccessUIOtherGameChannel(Global.sdk.curChannel))Global.gameController.curModel==b.normalGame&&(null==(e=Global.gameUI)?void 0:e.curLevel)>=6&&(this._otherGameAd.active=!0);else if(Global.sdk.checkOtherGame2Channel(Global.sdk.curChannel)){var a;Global.gameController.curModel==b.normalGame&&((null==(a=Global.gameUI)?void 0:a.curLevel)==Global.sdk.otherGameTargetLevel||-1!=Global.sdk.otherGameTargetLevelList.indexOf(Global.gameUI.curLevel))&&Global.sdk.otherGameCountAdLimit>Global.sdk.curAllAdCount&&this.flushOtherGame2()}Global.logicEvent.on(m.ShowInterstitialAd,this.showInterstitialAd,this),this._showstring.active=!1,this._showGoldTip.active=!1},l.onDestroy=function(){Global.uiEvent.targetOff(this),Global.logicEvent.targetOff(this)},l.initData=function(e){var a,t;switch(this.curData=e,c("初始化数据",e),Global.gameController.curModel){case b.removeNail:null==(a=RemoveNail)||a.gameUI.PassLevel();break;case b.diamondMode:null==(t=Diamond)||t.gameUI.PassLevel();break;default:this.curData.gameUI.PassLevel()}this._showGetGold.active=!0,this._btnShare.active=Global.sdk.curChannel!=f.H5NoAd,this._showstring.active=!1,Global.gameController.curModel==b.dailyGame?(this._btnNext.active=!1,this._showstring.active=!0,this._showGetGold.active=!1):Global.gameController.curModel==b.GravityMode||Global.gameController.curModel==b.removeNail||Global.gameController.curModel==b.diamondMode||this.curData.gameUI.checkOwnRewardData()&&this.showReward(),this._sp.$Sprite.spriteFrame=this.showSp[Math.floor(Math.random()*this.showSp.length)]},l.on_btnClose=function(){var e=this;switch(Global.gameController.curModel){case b.removeNail:case b.diamondMode:Global.ui.startLoadingBar(!1),this.scheduleOnce((function(){d.loadScene("Lobby",(function(){Global.uiEvent.emit(G.flushDailySp),Global.ui.stopLoadingBar()})),e.hideUI(p.fadeHide,!0)}),.2);break;default:if(Global.ui.startLoadingBar(!1),this.curData.gameUI.curLevel<=Global.data.getLevelCount()){var a=this.curData.gameUI.curLevel;Global.sdk.eventTracking("Level_Back_"+a,{})}this.scheduleOnce((function(){d.loadScene("Lobby",(function(){Global.uiEvent.emit(G.flushDailySp),Global.ui.stopLoadingBar()})),e.hideUI(p.fadeHide,!0)}),.2)}},l.on_btnNext=function(){var e=this;this.scheduleOnce((function(){Global.logicEvent.emit(m.commonNextLevel),e.hideUI(p.fadeHide,!0)}),.2)},l.showReward=function(){var e=h(this.AtlasUIPrefab);this.node.addChild(e);var a=e.getComponent(g);a.initData(Global.gameUI.curRewardId),this.scheduleOnce((function(){a.playGetReward()}),.7),a.initData(Global.gameUI.curRewardId),a.showUI(_.fadeShow)},l.on_btnShare=function(){Global.sdk.share(v.None)},l.on_btnGame1=function(){var e=Global.data.getOtherGameConfigById(4);Global.sdk.navigateToMiniProgram(e.appid,e.load)},l.on_btnGame2=function(){var e=Global.data.getOtherGameConfigById(3);Global.sdk.navigateToMiniProgram(e.appid,e.load)},l.showInterstitialAd=function(){Global.gameController.CheckWXInterstitialAdShow()&&Global.sdk.showInterstitialAd()},l.flushOtherGame2=function(){var e=this;Global.sdk.eventTracking("ResultOtherGameShow",{}),this._otherGameAd2.active=!0,this._otherGameAnim.getComponent(u).play();var a=Global.sdk.otherGameResultData;a&&Global.art.getRemoteSprite(a.IconName,(function(t){e._otherGame2Sp.$Sprite.spriteFrame=t,e._otherGame2Name.$Label.string=a.GameName}))},l.on_btnGame3=function(){var e=Global.sdk.otherGameResultData;e&&Global.sdk.navigateToMiniProgram(e.appid,e.load),Global.sdk.eventTracking("ResultOtherGameClick",{})},l.on_btnGoldTip=function(){this._showGoldTip.active=!this._showGoldTip.active},a}(w)).prototype,"AtlasUIPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=a(A.prototype,"showSp",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=a(A.prototype,"frameList",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=A))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/GameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataEnum.ts","./EventEnum.ts","./GameArgs.ts","./MoveNail.ts","./SdkController.ts","./CommonUtils.ts","./AtlasUI.ts","./EnergyItem.ts","./FeedbackUI.ts","./GameFail.ts","./GameSuccess.ts","./PropUI.ts","./ReviveUI.ts","./SettingUI.ts","./UIBase.ts","./LevelUI.ts","./HandShankUI.ts","./FlutterStrUI.ts","./SubGame.ts","./ForceSubGameUI.ts"],(function(e){"use strict";var a,l,o,t,i,r,n,s,d,c,h,v,u,m,b,G,f,p,g,S,P,k,C,L,I,U,A,w,_,y,B,N,T,R,x,H,E,F,M,D,O,V,z,$,J,W,Z;return{setters:[function(e){a=e.applyDecoratedDescriptor,l=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,n=e._decorator,s=e.Prefab,d=e.Tween,c=e.instantiate,h=e.tween,v=e.log,u=e.v3,m=e.color,b=e.size,G=e.UITransform,f=e.bezier},function(e){p=e.PlayerDataEnum},function(e){g=e.GameUIEvent,S=e.GameLogicEvent},function(e){P=e.SceneValue,k=e.PropId,C=e.SoundEnum,L=e.GameModel,I=e.ADTargetType,U=e.ShareTargetType,A=e.PrefabEnum,w=e.EventTrackingName},function(e){_=e.MoveNail},function(e){y=e.SdkEventEnum,B=e.ChannelType},function(e){N=e.CommonUtils},function(e){T=e.AtlasUI},function(e){R=e.EnergyItem},function(e){x=e.FeedbackUI},function(e){H=e.GameFail},function(e){E=e.GameSuccess},function(e){F=e.PropUI},function(e){M=e.ReviveUI},function(e){D=e.SettingUI},function(e){O=e.UIShowAnimType,V=e.default},function(e){z=e.LevelUI},function(e){$=e.HandShankUI},function(e){J=e.FlutterStrUI},function(e){W=e.SubGame},function(e){Z=e.ForceSubGameUI}],execute:function(){var j,q,K,Q,X,Y,ee,ae,le,oe,te,ie,re,ne,se,de,ce,he,ve,ue,me,be,Ge,fe,pe;r._RF.push({},"4d3b2g0fnxFLrUa+z8ZftOr","GameUI",void 0);var ge=n.ccclass,Se=n.property;e("GameUI",(j=ge("GameUI"),q=Se(s),K=Se(s),Q=Se(s),X=Se(s),Y=Se(s),ee=Se(s),ae=Se(s),le=Se(s),oe=Se(s),te=Se(s),ie=Se(s),j((se=a((ne=function(e){function a(){for(var a,l=arguments.length,i=new Array(l),r=0;r<l;r++)i[r]=arguments[r];return a=e.call.apply(e,[this].concat(i))||this,o(a,"propUIPrefab",se,t(a)),o(a,"SettingPrefab",de,t(a)),o(a,"GameSuccessPrefab",ce,t(a)),o(a,"GameFailPrefab",he,t(a)),o(a,"ReviveUIPrefab",ve,t(a)),o(a,"AtlasUIPrefab",ue,t(a)),o(a,"FeedbackUIPrefab",me,t(a)),o(a,"HandShankUIPrefab",be,t(a)),o(a,"SubGameUIPrefab",Ge,t(a)),o(a,"ForceSubGameUIPrefab",fe,t(a)),a._HammerLayer=void 0,a._AddGridNum=void 0,a._Value1=void 0,a._Prop1Add=void 0,a._Prop1New=void 0,a._Prop1Share=void 0,a._Prop1Ad=void 0,a._HammerNum=void 0,a._Value2=void 0,a._Prop2Add=void 0,a._Prop2New=void 0,a._Prop2Share=void 0,a._Prop2Ad=void 0,a._AddBoxNum=void 0,a._Value3=void 0,a._Prop3Add=void 0,a._Prop3New=void 0,a._Prop3Share=void 0,a._Prop3Ad=void 0,o(a,"moveNailPrefab",pe,t(a)),a._recycleNailLayer=void 0,a._gameLayer=void 0,a._EnergyPos=void 0,a._levelProgressBarT=void 0,a._levelProgressNum=void 0,a._maskSp=void 0,a._recycleLayer=void 0,a.inRevive=!1,a._tempSlotTip=void 0,a.curLevelFirstClickProp=!0,a.nailPlayTime=.2,a.isFinishGame=!1,a.curLevel=1,a.realLevel=1,a.canSelectLevel=[],a.reviveTime=1.5,a.tempReviveTime=0,a.inReviveing=!1,a.ProValue=0,a.goldIconPlayTime=1,a.curRewardId=0,a._btnFeedback=void 0,a.targetClickBoxCheckList=[0,1,0,1,0,0,1,1,0,1],a.curClickBoxCheckList=[],a.isOpenHandShank=!1,a.ClickBoxShowStr="12345上山打老虎",a._showSubGameGuide=void 0,a}l(a,e);var r=a.prototype;return r.onLoad=function(){Global.gameUI=this,this.initEvent(),this.SwitchHammerProp(!1),this.loadLevelMsg(),this.loadCanSelectLevel(),this.loadRewardData(),this.fluhCurRewardUI(),this.refreshFeedBack(),this.flushShowPath(),Global.gameController.checkIsUseSubPlayExperienceNum()&&this.showSubPlayUI()},r.onDestroy=function(){Global.gameUI=null,d.stopAll(),Global.sdk.stopRecord(),Global.uiEvent.targetOff(this),Global.logicEvent.targetOff(this)},r.start=function(){this.switchLevel(this.getCurLevelIndex()),Global.gameUI._tempSlotTip.active=!1,Global.sdk.startRecord()},r.update=function(e){this.reviveUpdate(e)},r.initEvent=function(){Global.uiEvent.on("refreshBar",this.refreshBarData,this),Global.uiEvent.on(g.RefreshPropMsg,this.RefreshPropMsg,this),Global.logicEvent.on(S.Common_TryRevive,this.tryRevive,this),Global.logicEvent.on(y.Looked_AdCommon,this.commonAdLooked,this),Global.logicEvent.on(y.Shared_Common,this.commonShared,this),this.node.on(S.Main_AddBox,this.AddBox,this),this.node.on(S.Main_AddGrid,this.AddGrid,this),this.node.on(S.Main_Hammer,this.Hammer,this),this.node.on(S.Main_ClearTempSlot,this.ClearTempSlot,this),this.node.on(S.Main_SwitchHammerProp,this.SwitchHammerProp,this),this.node.on(S.Main_SpawnMoveNail,this.spawnMoveNail,this),this.node.on(S.Main_RefreshBarView,this.refreshBarView,this),Global.logicEvent.on(S.Commom_GamePass,this.ShowGameSuccess,this),Global.logicEvent.on(S.Commom_SetCurLevel,this.setCurLevel,this),Global.uiEvent.on(g.Main_ClickBox,this.clickBox,this)},r.on_btnSetting=function(){var e=c(this.SettingPrefab);this.node.addChild(e);var a=e.getComponent(D);a.initData({gameUI:this,curSceneValue:P.Game}),a.showUI(O.fadeShow)},r.on_btnAddGrid=function(){for(var e,a=!1,l=i(Global.levelUI.baseTempSlotList);!(e=l()).done;){if(!e.value.node.active){a=!0;break}}if(a)if(Global.sdk.curChannel!=B.H5NoAd)if(Global.levelUI.levelGameData.AddGridPropNum>0)Global.levelUI.UsePropNum(k.AddGrid);else{var o=c(this.propUIPrefab);this.node.addChild(o);var t=o.getComponent(F);t.init(k.AddGrid,(function(){if(0==Global.sdk.getShareType(0)){if(Global.sdk.checkShowAd())return void Global.sdk.showAd(I.AddGrid,0);Global.levelUI.AddPropNum(k.AddGrid)}else{if(Global.sdk.checkShowAd())return Global.sdk.share(U.AddGrid),void Global.sdk.setTEShareType("添加孔位");Global.levelUI.AddPropNum(k.AddGrid)}Global.sdk.curUserPropShareIndex+=1})),t.showUI(O.fadeShow)}else Global.levelUI.AddPropNum(k.AddGrid);else Global.ui.showTipStr("格子已经添加至上限")},r.on_btnHammer=function(){if(Global.levelUI.getUpBlockBylayerId(0).length<=0)Global.ui.showTipStr("场上没有玻璃");else if(Global.sdk.curChannel!=B.H5NoAd)if(Global.levelUI.levelGameData.HammerPropNum>0)Global.levelUI.UsePropNum(k.Hammer);else{var e=c(this.propUIPrefab);this.node.addChild(e);var a=e.getComponent(F);a.init(k.Hammer,(function(){if(0==Global.sdk.getShareType(0)){if(Global.sdk.checkShowAd())return void Global.sdk.showAd(I.Hammer,0);Global.levelUI.AddPropNum(k.Hammer)}else{if(Global.sdk.checkShowAd())return Global.sdk.share(U.Hammer),void Global.sdk.setTEShareType("敲碎板子");Global.levelUI.AddPropNum(k.Hammer)}Global.sdk.curUserPropShareIndex+=1})),a.showUI(O.fadeShow)}else Global.levelUI.AddPropNum(k.Hammer)},r.spawnMoveNail=function(e,a,l,o,t){var i=this;void 0===t&&(t=0),Global.sdk.TriggerVibrate(),Global.sound.playCommonSound(C.nailOut),this.scheduleOnce((function(){}),.05*o+this.nailPlayTime);for(var r=0;r<o;r++)this.scheduleOnce((function(){var o=c(i.moveNailPrefab);i._recycleNailLayer.addChild(o);var r=o.getComponent(_);r.initData(l,0),o.setWorldPosition(e),0==t&&h(o).call((function(){r.playUp()})).delay(.14).to(i.nailPlayTime,{worldPosition:a},{easing:"sineInOut"}).delay(.1).call((function(){r.playDown()})).delay(.27).call((function(){o.removeAllChildren(),o.destroy()})).start()}),.05*r)},r.on_btnClearGrid=function(){if(Global.sdk.curChannel!=B.H5NoAd)if(Global.levelUI.levelGameData.AddBoxPropNum>0)Global.levelUI.UsePropNum(k.ClearGrid);else{var e=c(this.propUIPrefab);this.node.addChild(e);var a=e.getComponent(F);a.init(k.ClearGrid,(function(){if(0==Global.sdk.getShareType(0)){if(Global.sdk.checkShowAd())return void Global.sdk.showAd(I.ClearGrid,0);Global.levelUI.AddPropNum(k.ClearGrid)}else{if(Global.sdk.checkShowAd())return Global.sdk.share(U.ClearGrid),void Global.sdk.setTEShareType("清理孔位");Global.levelUI.AddPropNum(k.ClearGrid)}Global.sdk.curUserPropShareIndex+=1})),a.showUI(O.fadeShow)}else Global.levelUI.AddPropNum(k.ClearGrid)},r.RefreshPropMsg=function(){var e=Global.levelUI.getLevelGameMsg(),a=Global.sdk.getShareType(0);e.AddGridPropNum>0?(this._AddGridNum.active=!0,this._Value1.$Label.string=e.AddGridPropNum+"",this._Prop1Add.active=!1):(this._AddGridNum.active=!1,this._Prop1Add.active=!0,this._Prop1Ad.active=!1,this._Prop1Share.active=!1,this._Prop1New.active=!1,3==Global.sdk.curABTestGroup&&(this._Prop1New.active=!0,1==a?this._Prop1Share.active=!0:this._Prop1Ad.active=!0)),e.HammerPropNum>0?(this._HammerNum.active=!0,this._Value2.$Label.string=e.HammerPropNum+"",this._Prop2Add.active=!1):(this._HammerNum.active=!1,this._Prop2Add.active=!0,this._Prop2Ad.active=!1,this._Prop2Share.active=!1,this._Prop2New.active=!1,3==Global.sdk.curABTestGroup&&(this._Prop2New.active=!0,1==a?this._Prop2Share.active=!0:this._Prop2Ad.active=!0)),e.AddBoxPropNum>0?(this._AddBoxNum.active=!0,this._Value3.$Label.string=e.AddBoxPropNum+"",this._Prop3Add.active=!1):(this._AddBoxNum.active=!1,this._Prop3Add.active=!0,this._Prop3Ad.active=!1,this._Prop3Share.active=!1,this._Prop3New.active=!1,3==Global.sdk.curABTestGroup&&(this._Prop3New.active=!0,1==a?this._Prop3Share.active=!0:this._Prop3Ad.active=!0))},r.AddGrid=function(){for(var e,a=i(Global.levelUI.baseTempSlotList);!(e=a()).done;){var l=e.value;if(!l.node.active){l.node.active=!0;break}}},r.Hammer=function(){this.SwitchHammerProp(!0)},r.AddBox=function(e){void 0===e&&(e=!1),e=!1,Global.levelUI.addBox(1,e)},r.ClearTempSlot=function(){Global.levelUI.clearAllTempSlot()},r.SwitchHammerProp=function(e){this._HammerLayer.active=e},r.ShowGameSuccess=function(){if(!this.isFinishGame){this.isFinishGame=!0;var e=c(this.GameSuccessPrefab);this.node.addChild(e);var a=e.getComponent(E);if(a.initData({gameUI:this}),a.showUI(O.fadeShow),this.curLevel<=Global.data.getLevelCount()){var l=this.curLevel;Global.sdk.eventTracking("Level_Success_"+l,{})}Global.sdk.reportPlayerRank(this.curLevel+1),Global.gameController.addGold(200)}},r.ShowGameFail=function(){var e=c(this.GameFailPrefab);this.node.addChild(e);var a=e.getComponent(H);if(a.initData({proValue:this.ProValue}),a.showUI(O.fadeShow),this.curLevel<=Global.data.getLevelCount()){var l=this.curLevel;Global.sdk.eventTracking("Level_Fail_"+l,{})}},r.PassLevel=function(){Global.gameController.curModel==L.dailyGame?Global.gameController.DailyGamePass():Global.gameController.curModel==L.GravityMode?Global.gameController.GravityModelPass():(this.curLevel+=1,this.saveLevelMsg(),this.flushRealLevel(),Global.gameController.AddLevelCount()),Global.sdk.sendPlayerDataByServer()},r.setCurLevel=function(e){this.curLevel=e,this.saveLevelMsg(),this.flushRealLevel()},r.getCurLevelIndex=function(){return this.realLevel},r.flushRealLevel=function(){if(this.curLevel<=Global.data.getLevelCount())this.realLevel=this.curLevel;else{this.curLevel==Global.data.getLevelCount()&&(this.canSelectLevel=[2,3,4,5,6,7,8,9]);var e=2+(this.curLevel+6)%(Global.data.getLevelCount()-1);this.canSelectLevel.push(e),this.canSelectLevel=Array.from(new Set(this.canSelectLevel)),this.realLevel=this.canSelectLevel.splice(Math.random()*this.canSelectLevel.length,1)[0]}v("当前真实关卡为："+this.realLevel),this.saveRealLevel(),this.saveCanSelectLevel()},r.loadLevelMsg=function(){var e=N.getLocalData("GameLevel");this.curLevel=e&&""!=e?JSON.parse(e):1;var a=N.getLocalData("RealLevel");a&&""!=a?this.realLevel=JSON.parse(a):this.flushRealLevel(),Global.gameController.settingCurLevel=this.curLevel},r.saveLevelMsg=function(){var e=JSON.stringify(this.curLevel);N.setLocalData("GameLevel",e)},r.saveRealLevel=function(){var e=JSON.stringify(this.realLevel);N.setLocalData("RealLevel",e)},r.loadCanSelectLevel=function(){var e=N.getLocalData("GameSelectLevel");this.canSelectLevel=e&&""!=e?JSON.parse(e):[2,3,4,5,6,7,8,9]},r.saveCanSelectLevel=function(){var e=JSON.stringify(this.canSelectLevel);N.setLocalData("GameSelectLevel",e)},r.switchLevel=function(e){var a,l=this;if(a=Global.gameController.curModel==L.dailyGame?Global.data.getZodiacLevelConfigById(Global.gameController.tempSelectLevel):Global.gameController.curModel==L.GravityMode?Global.data.getLevelConfigById(Global.gameController.getGravityRealLevel()):Global.data.getLevelConfigById(e),Global.prefab.getLevelPrefabByName(a.PrefabName,(function(e){var a=c(e);l._gameLayer.addChild(a),a.getComponent(z).initData(l),l.scheduleOnce((function(){Global.ui.stopLoadingBar()}),.5)})),this.curLevel<=Global.data.getLevelCount()){var o=this.curLevel;Global.sdk.eventTracking("Level_Enter_"+o,{})}Global.gameUI.curLevelFirstClickProp=!0},r.reviveUpdate=function(e){this.inReviveing&&(this.tempReviveTime+=e,this.tempReviveTime>this.reviveTime&&(this.tempReviveTime=0,this.inReviveing=!1,this.Revive(),Global.ui.stopLoading()))},r.tryRevive=function(){this.inReviveing||(this.inReviveing=!0,Global.ui.startLoading(!1))},r.Revive=function(){for(var e,a=this,l=!1,o=i(Global.levelUI.baseTempSlotList);!(e=o()).done;){var t=e.value;t.node.active&&!t.checkFinish()&&(v("当前还有空位！！！"),l=!0)}if(!l&&!this.inRevive){var r=null;if(Global.levelUI.curEnableBoxLimit<4&&(r=k.AddBox),null==r&&(r=k.ClearGrid),r>0){var n=c(this.ReviveUIPrefab);this.node.addChild(n);var s=n.getComponent(M);s.init(this,r,(function(){var e=Global.sdk.getShareType(1);switch(r){case k.ClearGrid:if(0==e){if(Global.sdk.checkShowAd())return void Global.sdk.showAd(I.ClearGrid,1);Global.uiEvent.emit("HideRevive"),a.ClearTempSlot()}else{if(Global.sdk.checkShowAd())return Global.sdk.share(U.ClearGrid),void Global.sdk.setTEShareType("复活");Global.uiEvent.emit("HideRevive"),a.ClearTempSlot()}break;case k.AddBox:if(0==e){if(Global.sdk.checkShowAd())return void Global.sdk.showAd(I.AddBox,1);Global.uiEvent.emit("HideRevive"),a.AddBox(1==Global.sdk.curABTestGroup)}else{if(Global.sdk.checkShowAd())return Global.sdk.share(U.AddBox),void Global.sdk.setTEShareType("复活");Global.uiEvent.emit("HideRevive"),a.AddBox(1==Global.sdk.curABTestGroup)}}Global.sdk.curUserReviveShareIndex+=1})),s.showUI(O.fadeShow)}else this.ShowGameFail()}},r.refreshBarData=function(e){this.ProValue=e},r.refreshBarView=function(){this._levelProgressBarT.$Sprite.fillRange=this.ProValue,this._levelProgressNum.$Label.string="进度"+Math.floor(100*this.ProValue)+"%"},r.createEnergy=function(e,a){var l=Global.prefab.getNoolPrefab(A.EnergyItem);l.parent=this._recycleLayer,l.getComponent(R).initData(e,this._EnergyPos.getWorldPosition(),a)},r.spawnGoldIcon=function(e,a){var l=this;void 0===a&&(a=3);for(var o=function(a){l.scheduleOnce((function(){var o=Global.prefab.getNoolPrefab(A.GlodItem);l._recycleLayer.addChild(o),o.setWorldPosition(e);var t=l._recycleLayer.getComponent(G).convertToNodeSpaceAR(l._EnergyPos.getWorldPosition()),i=o.position,r=o.eulerAngles,n=h(i),s=t.y+100*Math.random()-200,d=t.y+100*Math.random()-100,c=t.x+200*Math.random()-120,v=t.x+200*Math.random()-120,u=Math.random()>.5?360:-360;n.parallel(h().to(l.goldIconPlayTime,{x:t.x},{progress:function(e,a,l,o){return f(e,c,v,a,o)},easing:"smooth",onUpdate:function(){o.setPosition(i)}}),h().to(l.goldIconPlayTime,{y:t.y},{progress:function(e,a,l,o){return f(e,s,d,a,o)},easing:"smooth",onUpdate:function(){o.setPosition(i)}})).start(),h(r).to(l.goldIconPlayTime,{z:u},{onUpdate:function(){o.eulerAngles=r}}).call((function(){0==a&&Global.sound.playCommonSound(C.getGold),Global.prefab.DestroyPrefab(A.GlodItem,o),l.refreshBarView()})).start()}),.05*a)},t=0;t<a;t++)o(t)},r.loadRewardData=function(){this.curRewardId=this.getNewGoods(),this.fluhCurRewardUI()},r.getNewGoods=function(){for(var e,a=Global.data.getRewardGoodsListMsg().map((function(e){return e.GoodsId})),l=Global.gameController.getRewardListData(),o=[],t=i(a);!(e=t()).done;){var r=e.value;l.indexOf(r)<0&&o.push(r)}return o.length>0?o[0]:a[~~(Math.random()*a.length)]},r.fluhCurRewardUI=function(){if(Global.gameController.curModel==L.dailyGame){this._levelProgressBarT.scale=u(.4,.4,.4),this._maskSp.scale=u(.4,.4,.4);var e=Global.art.getZodiacTexture(Global.gameController.tempSelectLevel+"");this._levelProgressBarT.$Sprite.spriteFrame=e,this._maskSp.$Sprite.spriteFrame=e,this._levelProgressBarT.$Sprite.color=m(255,194,40,255),this._maskSp.$Sprite.color=m(86,79,116,255)}else{var a=Global.data.getRewardGoodsConfigById(this.curRewardId),l=a.ImgName,o=Global.art.getRewardGoodsTextureByType(l,~~(a.GoodsId/1e3)),t=o.getRect(),i=b(163,145),r=Math.min(i.width/t.width,i.height/t.height);o&&(this._levelProgressBarT.$Sprite.spriteFrame=o,this._maskSp.$Sprite.spriteFrame=o,this._maskSp.$Sprite.grayscale=!0,this._levelProgressBarT.scale=u(r,r,r),this._maskSp.scale=u(r,r,r)),this._levelProgressBarT.$Sprite.color=m(255,255,255,255),this._maskSp.$Sprite.color=m(255,255,255,255)}},r.on_btnGameProgress=function(){if(Global.gameController.curModel!=L.dailyGame){var e=c(this.AtlasUIPrefab);this.node.addChild(e);var a=e.getComponent(T);a.initData(this.curRewardId),a.showUI(O.fadeShow)}},r.checkOwnRewardData=function(){return Global.gameController.checkRewardOwn(this.curRewardId)},r.commonAdLooked=function(e,a){var l=null;if(e.isEnded){switch(a){case I.ClearGrid:l=w.ClearGrid,Global.levelUI.AddPropNum(k.ClearGrid);break;case I.AddGrid:l=w.AddGrid,Global.levelUI.AddPropNum(k.AddGrid);break;case I.Hammer:l=w.Hammer,Global.levelUI.AddPropNum(k.Hammer);break;case I.AddBox:l=w.AddBox,Global.gameUI.AddBox(1==Global.sdk.curABTestGroup)}Global.uiEvent.emit("HideRevive");var o=Global.sdk.lastShareInitiator;if(0==o?Global.sdk.curUserPropShareIndex+=1:1==o&&(Global.sdk.curUserReviveShareIndex+=1,l=w.Revive),null!=l){var t=Global.gameController.getPlayerLocalData(p.GameLevel),i=""==t?0:Number(t);i<=Global.data.getLevelCount()&&Global.sdk.eventTracking("AdVideo_"+l+"_"+i,{})}}Global.ui.stopLoading(),Global.uiEvent.emit(g.RefreshPropMsg)},r.commonShared=function(e,a){var l=null;if(console.log("当前复活数据",e),1==e){switch(a){case U.ClearGrid:Global.levelUI.AddPropNum(k.ClearGrid);break;case U.AddGrid:Global.levelUI.AddPropNum(k.AddGrid);break;case U.Hammer:Global.levelUI.AddPropNum(k.Hammer);break;case U.AddBox:Global.gameUI.AddBox(1==Global.sdk.curABTestGroup);break;case U.GetRandom:Global.gameController.getRandomProp(),Global.gameController.isUseFailShare=!0,Global.gameController.saveUseFailShare(),Global.uiEvent.emit("HideFailShare")}console.log("当前复活数据2",e),Global.uiEvent.emit("HideRevive");var o=Global.sdk.lastShareInitiator;0==o?Global.sdk.curUserPropShareIndex+=1:1==o&&(Global.sdk.curUserReviveShareIndex+=1)}switch(Global.ui.stopLoading(),a){case U.ClearGrid:l=w.ClearGrid;break;case U.AddGrid:l=w.AddGrid;break;case U.Hammer:l=w.Hammer;break;case U.AddBox:l=w.AddBox}var t=Global.sdk.lastShareInitiator;if(0==t||1==t&&(l=w.Revive),null!=l){var i=Global.gameController.getPlayerLocalData(p.GameLevel),r=""==i?0:Number(i);r<=Global.data.getLevelCount()&&Global.sdk.eventTracking("Share_"+l+"_"+r,{});var n="";n=e?"Success":"Fail",r<=Global.data.getLevelCount()&&Global.sdk.eventTracking("Share_"+n+"_"+r,{})}Global.uiEvent.emit(g.RefreshPropMsg)},r.on_btnFeedback=function(){var e=c(this.FeedbackUIPrefab);this.node.addChild(e),e.getComponent(x).showUI(O.fadeShow)},r.refreshFeedBack=function(){this._btnFeedback.active=this.curLevel<=3},r.clickBox=function(e,a){var l=this;if(Global.sdk.curChannel==B.H5NoAd&&!(this.isOpenHandShank||(this.curClickBoxCheckList.push(e),this.curClickBoxCheckList.length>this.targetClickBoxCheckList.length))){var o=this.checkCurClickBoxCheckList();switch(1!=o&&2!=o||Global.prefab.getNoolPrefab(A.Fluttering,(function(e){e.parent=l.node;var o=l.ClickBoxShowStr[l.curClickBoxCheckList.length-1];l.scheduleOnce((function(){e.setWorldPosition(a),e.getComponent(J).initData(o)}))})),o){case 0:this.curClickBoxCheckList=[];break;case 1:break;case 2:this.curClickBoxCheckList=[],this.showHandShank()}}},r.checkCurClickBoxCheckList=function(){var e=1;if(0==this.curClickBoxCheckList.length)return 0;for(var a=0;a<this.curClickBoxCheckList.length;a++)if(this.curClickBoxCheckList[a]!=this.targetClickBoxCheckList[a]){e=0;break}return 1==e&&this.curClickBoxCheckList.length==this.targetClickBoxCheckList.length&&(e=2),e},r.showHandShank=function(){v("显示手柄");var e=c(this.HandShankUIPrefab);this.node.addChild(e),e.getComponent($).show()},r.showSubPlayUI=function(){var e=c(this.SubGameUIPrefab);this.node.addChild(e),e.getComponent(W).showUI(O.fadeShow)},r.flushShowPath=function(){this._showSubGameGuide.active=Global.gameController.isForceSubGame&&Global.gameController.curModel==L.normalGame&&this.curLevel<=2,Global.gameController.isForceSubGame&&L.normalGame&&7==this.curLevel&&this.showForceSubGameUI()},r.showForceSubGameUI=function(){var e=c(this.ForceSubGameUIPrefab);this.node.addChild(e),e.getComponent(Z).showUI(O.fadeShow)},a}(V)).prototype,"propUIPrefab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=a(ne.prototype,"SettingPrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=a(ne.prototype,"GameSuccessPrefab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=a(ne.prototype,"GameFailPrefab",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=a(ne.prototype,"ReviveUIPrefab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=a(ne.prototype,"AtlasUIPrefab",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=a(ne.prototype,"FeedbackUIPrefab",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=a(ne.prototype,"HandShankUIPrefab",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=a(ne.prototype,"SubGameUIPrefab",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=a(ne.prototype,"ForceSubGameUIPrefab",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=a(ne.prototype,"moveNailPrefab",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=ne))||re));r._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalManager.ts",["cc","./SdkController.ts","./ArtManager.ts","./DataManager.ts","./PrefabManager.ts","./SoundManager.ts","./UIManager.ts"],(function(t){"use strict";var n,i,e,a,o,s,r,l;return{setters:[function(t){n=t.cclegacy,i=t.EventTarget},function(t){e=t.SdkController},function(t){a=t.ArtManager},function(t){o=t.DataManager},function(t){s=t.PrefabManager},function(t){r=t.SoundManager},function(t){l=t.UIManager}],execute:function(){n._RF.push({},"fd0e1BseAlFUaAQRnbZWWpk","GlobalManager",void 0);var v=t("GlobalManager",(function(){this.gameController=void 0,this.gameUI=void 0,this.levelUI=void 0,this.persistRootCanvas=void 0,this.ui=void 0,this.data=void 0,this.sound=void 0,this.art=void 0,this.prefab=void 0,this.time=void 0,this.uiEvent=void 0,this.logicEvent=void 0,this.sdk=void 0,this.uiEvent=new i,this.logicEvent=new i,this.ui=new l,this.data=new o,this.sound=new r,this.art=new a,this.prefab=new s,this.sdk=new e}));v.single=new v,globalThis.Global=v.single,window.uiEvent=Global.uiEvent,window.logicEvent=Global.logicEvent,n._RF.pop()}}}));

System.register("chunks:///_virtual/GridUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var r,t,n,e,u;return{setters:[function(i){r=i.createForOfIteratorHelperLoose},function(i){t=i.cclegacy,n=i.Vec2,e=i.Intersection2D,u=i.v2}],execute:function(){t._RF.push({},"f5ddcPIs9NBNpovBy39KHZT","GridUtil",void 0);i("GridUtil",function(){function i(){this.gridList=[],this.gridUuidList=[],this.deswidth=370,this.desheight=800}var t=i.prototype;return t.testPointInQuadrilateral=function(i,r,t,e,u){var d=function(i,r,t){return Math.abs(.5*(i.x*r.y+r.x*t.y+t.x*i.y-i.x*t.y-r.x*i.y-t.x*r.y))},o=d(i,r,u)+d(r,t,u)+d(t,e,u)+d(i,e,u),s=new n(i.x+(e.x-i.x)/2,i.y+(e.y-i.y)/2),a=d(i,r,s)+d(r,t,s)+d(t,e,s);return Math.abs(o-a)<.01},t.createGridBySize=function(i,r,t,n,e){void 0===i&&(i=0),void 0===r&&(r=0),void 0===t&&(t=20),void 0===n&&(n=20),void 0===e&&(e=.5);for(var u=0,o=e/2,s=[],a=[],v=[],h=Math.ceil(t/e/2),f=Math.ceil(n/e/2),c=0;c<=h;c++)c?(a.push(i+e*c),a.push(i-e*c)):a.push(i);for(var p=0;p<=f;p++)p?(v.push(r+e*p),v.push(r-e*p)):v.push(r);for(var y in a){var l=a[y];for(var g in v){u++;var x=v[g],G=new d;G.uuid=u,G.aroundGrid=[],G.cx=l,G.cy=x,G.p1_x=l-o,G.p1_y=x-o,G.p2_x=l-o,G.p2_y=x+o,G.p3_x=l+o,G.p3_y=x+o,G.p4_x=l+o,G.p4_y=x-o,s.push(G)}}return s},t.setGridDire=function(i,r){void 0===r&&(r=.8);var t=new n(0,0),e=new n(0,0);for(var u in i){var d=i[u];for(var o in t.x=d.cx,t.y=d.cy,i){var s=i[o];if(d.uuid!=s.uuid)e.x=s.cx,e.y=s.cy,n.distance(t,e)<r&&d.aroundGrid.push(s.uuid)}}},t.setGridType=function(i,t,n){for(var d in i)for(var o,s=i[d],a=r(n);!(o=a()).done;){var v=o.value;if(e.pointInPolygon(u(s.cx,s.cy),v)){s.type=t;break}}},t.deleGridByType=function(i,r){var t=[];for(var n in i){var e=i[n];e.type!=r&&t.push(e)}return t},t.setGridMsg=function(i){for(var r in this.gridList=[],this.gridUuidList=[],i){var t=i[r];this.gridList[t.uuid]=t}},t.testKeepNode=function(i,r){for(var t in i){if(i[t].uuid==r.uuid)return!0}return!1},t.moveToPos=function(i,r){var t=this.getGridDataByPos(i);if(t){var e=this.getGridDataByPos(r);if(e){var d=!1,o=[],s=100,a=[],v=function(i){var r=!1,t=null,h=0;if(--s<=0)return d=!1,o=[],void console.log("超出寻找上限");for(var f in i.aroundGrid){var c=i.aroundGrid[f];if(c>=0){var p=this.gridList[c];if(null==p||p.type)continue;if(p.uuid==e.uuid)return o.push(p),void(d=!0);if(this.testKeepNode(a,p))continue;var y=n.distance(u(i.cx,i.cy),u(p.cx,p.cy))+n.distance(u(e.cx,e.cy),u(p.cx,p.cy));t?y<h&&(r=!0,t=p,h=y):(r=!0,t=p,h=y)}}if(r)o.push(t),a.push(t),v(t);else{if(o.pop(),!o.length)return;v(o[o.length-1])}}.bind(this);return v(t),d&&(o=this.fixGridList(o),o=this.addOverGrid(o)),o}console.log("寻路终点位置不在网格中")}else console.log("寻路开始位置不在网格中")},t.fixGridList=function(i){var r,t,n=[];for(var e in i){var u=i[e],d=void 0;if(n.length){if(!(Number(e)<=Number(t))){for(var o in i)if(!(Number(o)<=Number(e))){var s=i[o];r.aroundGrid.indexOf(s.uuid)>=0&&(d=s,t=o)}d?(n.push(d),r=d):(n.push(u),r=u)}}else n.push(u),r=u,t=e}return n},t.addOverGrid=function(i){var r,t,n=[];for(var e in i){var u=i[e],d=void 0;if(n.length){if(!(Number(e)<=Number(t))){for(var o in i)if(!(Number(o)<=Number(e))){var s=i[o];r.uuid==s.uuid&&(d=s,t=o,console.log("交叉1"))}d?(n.push(d),r=d):(n.push(u),r=u)}}else n.push(u),r=u,t=e}return n},t.getGridDataByPos=function(i){for(var r in this.gridList){var t=this.gridList[r];if(this.testPointInQuadrilateral(u(t.p1_x,t.p1_y),u(t.p2_x,t.p2_y),u(t.p3_x,t.p3_y),u(t.p4_x,t.p4_y),i))return t}},t.getPosAroundGrid=function(i){var r=this.getGridDataByPos(i);if(r){var t=~~(Math.random()*(r.aroundGrid.length-1)),n=r.aroundGrid[t];return this.gridList[n]}},t.getRandGrid=function(){if(!this.gridUuidList.length)for(var i in this.gridList)this.gridUuidList.push(i);var r=~~(Math.random()*(this.gridUuidList.length-1));return this.gridList[this.gridUuidList[r]]},i}());var d=i("GridItem",(function(){this.uuid=void 0,this.type=void 0,this.aroundGrid=void 0,this.cx=void 0,this.cy=void 0,this.p1_x=void 0,this.p1_y=void 0,this.p2_x=void 0,this.p2_y=void 0,this.p3_x=void 0,this.p3_y=void 0,this.p4_x=void 0,this.p4_y=void 0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/GuideUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){"use strict";var i,e,c,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,c=t._decorator},function(t){o=t.default}],execute:function(){var n;e._RF.push({},"cbee4D94x1OWqwWtLinYE1X","GuideUI",void 0);var u=c.ccclass;c.property,t("GuideUI",u("GuideUI")(n=function(t){function e(){for(var i,e=arguments.length,c=new Array(e),o=0;o<e;o++)c[o]=arguments[o];return(i=t.call.apply(t,[this].concat(c))||this)._guide=void 0,i._click=void 0,i.GruideTarget=void 0,i.checkNode=void 0,i.count=0,i}i(e,t);var c=e.prototype;return c.onLoad=function(){var t=this;this._guide.active=!1,this.scheduleOnce((function(){t.initdata()}),1)},c.initdata=function(){this.GruideTarget=Global.levelUI.boxDataList[0],this.count=0,this.playGuide(),Global.logicEvent.on("Guide",this.checkGuide,this)},c.playGuide=function(){this.count>=this.GruideTarget.NailNum?this.close():(this.count++,this.checkNode=Global.levelUI.getNailEntityByType(this.GruideTarget.type),this._guide.active=!0,this._guide.setWorldPosition(this.checkNode.getWorldPosition()),this._click.$Animation.play())},c.checkGuide=function(t){var i=this;t==this.GruideTarget.type&&this.scheduleOnce((function(){i.playGuide()}))},c.close=function(){this._guide.active=!1,Global.logicEvent.targetOff(this),this.node.active=!1},e}(o))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/H5LoginUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(i){"use strict";var t,n,o,e,s;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,o=i._decorator},function(i){e=i.UIHideAnimType,s=i.default}],execute:function(){var a;n._RF.push({},"b91ad9evnhAVZUyfwalRb90","H5LoginUI",void 0);var l=o.ccclass;o.property,i("H5LoginUI",l("H5LoginUI")(a=function(i){function n(){for(var t,n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return(t=i.call.apply(i,[this].concat(o))||this)._passEdit=void 0,t.SubGameId=null,t.LoginCallFunc=void 0,t}t(n,i);var o=n.prototype;return o.initdata=function(i,t){this.SubGameId=i,this.LoginCallFunc=t},o.on_btnLogin=function(){null!=this.SubGameId&&(this._passEdit.$EditBox.string==Global.gameController.getH5LoginPassWord(this.SubGameId)?(Global.gameController.H5LoginSubGame(this.SubGameId),this.LoginCallFunc(),this.hideUI(e.fadeHide,!0)):(this._passEdit.$EditBox.string="",Global.ui.showTipStr("登入密码错误，请重新输入")))},o.on_btnClose=function(){this.hideUI(e.fadeHide,!0)},n}(s))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/hammerTouch.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./BaseLayer.ts","./BaseNail.ts","./BasePlank.ts"],(function(e){"use strict";var o,n,t,i,r,a,l,c,s,u,h,p,d,f;return{setters:[function(e){o=e.inheritsLoose,n=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy,i=e._decorator,r=e.Node,a=e.PolygonCollider2D,l=e.UITransform,c=e.v3,s=e.Intersection2D,u=e.v2},function(e){h=e.default},function(e){p=e.BaseLayer},function(e){d=e.BaseNail},function(e){f=e.BasePlank}],execute:function(){var v;t._RF.push({},"387096uL21Ky726qEWDdUZz","hammerTouch",void 0);var T=i.ccclass;i.property,e("hammerTouch",T("hammerTouch")(v=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var i=t.prototype;return i.onLoad=function(){this.initEvent()},i.start=function(){},i.update=function(e){},i.initEvent=function(){this.node.on(r.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(r.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(r.EventType.TOUCH_END,this.onTouchEnd,this)},i.onTouchStart=function(e){},i.onTouchMove=function(e){},i.onTouchEnd=function(e){var o=Global.levelUI.getUpBlockBylayerId(0);o.length<=0&&(Global.ui.showTipStr("场上没有玻璃"),this.closeSelf());for(var t,i,r=e.getUILocation(),h=null,v=n(o);!(i=v()).done;){var T=i.value,m=T.getComponent(a).points,g=T.getComponent(l).convertToNodeSpaceAR(c(r.x,r.y,0)),y=s.pointInPolygon(u(g.x,g.y),m),U=T.parent.parent.getComponent(p).curGroup;y&&(null==h||h<U)&&(t=T,h=U)}if(t){for(var B,I=t.getComponent(f),G=t.parent.parent.getComponent(p),b=n(G._nailNode.children);!(B=b()).done;){var C=B.value.getComponent(d);if(C)if(C.mHingeJoint.connectedBody.node==I.node)if(Global.levelUI.addBaseNailToBox(C.curType)){Global.levelUI.curNailCount+=1;var E=C.node.getWorldPosition(),S=Global.levelUI._nextBoxNode.getWorldPosition();Global.gameUI.spawnMoveNail(E,S,C.curType,1),Global.logicEvent.emit("Guide",C),C.node.destroy()}}I.triggerHammer(),this.closeSelf()}else Global.ui.showTipStr("请选择一个玻璃敲碎")},i.closeSelf=function(){Global.levelUI.refreshLayer(),Global.gameUI.SwitchHammerProp(!1)},t}(h))||v);t._RF.pop()}}}));

System.register("chunks:///_virtual/HandShankUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){"use strict";var i,e,c,n,o,s,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,c=t._decorator,n=t.v3,o=t.tween},function(t){s=t.UIHideAnimType,r=t.default}],execute:function(){var h;e._RF.push({},"5217bytbDhKfrbj580c3fR1","HandShankUI",void 0);var a=c.ccclass;c.property,t("HandShankUI",a("HandShankUI")(h=function(t){function e(){for(var i,e=arguments.length,c=new Array(e),n=0;n<e;n++)c[n]=arguments[n];return(i=t.call.apply(t,[this].concat(c))||this)._block=void 0,i._arrowKeyRun=void 0,i._arrowKeyIdle=void 0,i.targetClickBoxCheckList=[0,0,2,2,1,3,1,3,5,4,5,4],i.curClickBoxCheckList=[],i.isOpenCheat=!1,i}i(e,t);var c=e.prototype;return c.onLoad=function(){this._arrowKeyRun.active=!1},c.on_btnUp=function(){this.clickBox(0),this.showArrowBtn(0)},c.on_btnDown=function(){this.clickBox(2),this.showArrowBtn(2)},c.on_btnRight=function(){this.clickBox(3),this.showArrowBtn(3)},c.on_btnLeft=function(){this.clickBox(1),this.showArrowBtn(1)},c.on_btnB=function(){this.clickBox(5)},c.on_btnA=function(){this.clickBox(4)},c.showArrowBtn=function(t){var i=this;switch(this.unscheduleAllCallbacks(),t){case 0:this._arrowKeyIdle.active=!1,this._arrowKeyRun.active=!0,this._arrowKeyRun.angle=0;break;case 1:this._arrowKeyIdle.active=!1,this._arrowKeyRun.active=!0,this._arrowKeyRun.angle=90;break;case 2:this._arrowKeyIdle.active=!1,this._arrowKeyRun.active=!0,this._arrowKeyRun.angle=180;break;case 3:this._arrowKeyIdle.active=!1,this._arrowKeyRun.active=!0,this._arrowKeyRun.angle=270}this.scheduleOnce((function(){i._arrowKeyIdle.active=!0,i._arrowKeyRun.active=!1}),.5)},c.clickBox=function(t){if(!this.isOpenCheat&&(this.curClickBoxCheckList.push(t),!(this.curClickBoxCheckList.length>this.targetClickBoxCheckList.length)))switch(this.checkCurClickBoxCheckList()){case 0:this.curClickBoxCheckList=[];break;case 1:break;case 2:this.curClickBoxCheckList=[],Global.levelUI.OpenSameColor(),Global.gameUI.isOpenHandShank=!0,this.on_btnClose()}},c.checkCurClickBoxCheckList=function(){var t=1;if(0==this.curClickBoxCheckList.length)return 0;for(var i=0;i<this.curClickBoxCheckList.length;i++)if(this.curClickBoxCheckList[i]!=this.targetClickBoxCheckList[i]){t=0;break}return 1==t&&this.curClickBoxCheckList.length==this.targetClickBoxCheckList.length&&(t=2),t},c.on_btnClose=function(){this.hideUI(s.fadeHide,!0)},c.show=function(){this._block.setPosition(n(0,-1e3,0)),o(this._block).to(.5,{position:n(0,0,0)},{easing:"sineInOut"}).start()},e}(r))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/LevelData.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"4587fzIVEJI0rRL96zmpwQJ","LevelData",void 0);e("LevelData",(function(){this.LevelId=void 0,this.PrefabName=void 0,this.LevelReward=void 0,this.DifficultyType=0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/LevelGameData.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b4b3bN9RrpMM4OA8VGenHYM","LevelGameData",void 0);e("LevelGameData",(function(){this.levelStage=void 0,this.AddGridPropNum=void 0,this.HammerPropNum=void 0,this.AddBoxPropNum=void 0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/LevelUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BoxData.ts","./LevelGameData.ts","./EventEnum.ts","./GameArgs.ts","./BaseBox.ts","./TempBox.ts","./BaseLayer.ts","./BaseNail.ts","./BasePlank.ts","./BaseTempSlot.ts","./UIBase.ts"],(function(e){"use strict";var t,a,i,o,r,n,l,s,h,c,u,d,v,f,m,b,x,p,L,g,y,B,G,D,C,N,I,P,E,T,k,A,S,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,l=e._decorator,s=e.CCBoolean,h=e.Prefab,c=e.v2,u=e.PhysicsSystem2D,d=e.input,v=e.Input,f=e.log,m=e.instantiate,b=e.v3,x=e.Vec3,p=e.Color,L=e.tween,g=e.clamp},function(e){y=e.BoxData},function(e){B=e.LevelGameData},function(e){G=e.GameLogicEvent},function(e){D=e.GameModel,C=e.SoundEnum,N=e.PrefabEnum,I=e.PropId},function(e){P=e.BaseBox},function(e){E=e.TempBox},function(e){T=e.BaseLayer},function(e){k=e.BaseNail},function(e){A=e.BasePlank},function(e){S=e.BaseTempSlot},function(e){M=e.default}],execute:function(){var _,w,U,O,H,V,R,z,F;n._RF.push({},"aea68PewFBB6LL5gobo6/yU","LevelUI",void 0);var W=l.ccclass,$=l.property;e("LevelUI",(_=W("LevelUI"),w=$({type:[y],visible:!0,displayName:"箱子列表",tooltip:"填入箱子"}),U=$(s),O=$(h),_((R=t((V=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=e.call.apply(e,[this].concat(r))||this,i(t,"boxDataList",R,o(t)),i(t,"randomData",z,o(t)),i(t,"tempBoxPrefab",F,o(t)),t.srcGameUI=void 0,t.baseLayerList=[],t.baseTempSlotList=[],t._layerList=void 0,t._tempNailSlot=void 0,t._boxNode=void 0,t._nextBoxNode=void 0,t._titleT=void 0,t.maxShowLayerNum=4,t.maxGrayLayerNum=2,t.DifficultyType=0,t.onceTime=1,t.tempTime=0,t.baseColorList=[0,1,2,3,4,5,6,7,8,9],t.allColorCount=10,t.curColorCount=3,t.curColorList=[],t.lastNum=-1,t.levelGameData=void 0,t.curEnableBoxList=[],t.curEnableBoxLimit=2,t.curBakBoxList=[],t.curBakBoxListLimit=0,t.boxIndex=0,t.lastIndex=[],t.allNailCount=0,t.curNailCount=0,t.ColorIndex=0,t.curColorPool=["#dbbf61","#1a6bc4","#ff6c84","#6ed6ed","#7d38cd","#8fec6d","#e687ff"],t.InitGravityV2=void 0,t.InitGravityValue=void 0,t.GravityChange=0,t}a(t,e);var n=t.prototype;return n.onLoad=function(){Global.levelUI=this,this.InitGravityV2=c(u.instance.gravity.x,u.instance.gravity.y),this.InitGravityValue=this.InitGravityV2.length(),u.instance.enable=!1,this.initEvent(),Global.gameController.curModel==D.GravityMode&&(d.setAccelerometerEnabled(!0),d.on(v.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this))},n.onDestroy=function(){Global.levelUI=null,Global.gameController.lastLevelData.AddBoxPropNum=this.levelGameData.AddBoxPropNum,Global.gameController.lastLevelData.AddGridPropNum=this.levelGameData.AddGridPropNum,Global.gameController.lastLevelData.HammerPropNum=this.levelGameData.HammerPropNum,Global.logicEvent.targetOff(this),Global.uiEvent.targetOff(this),d.off(v.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this),u.instance.gravity=c(this.InitGravityV2.x,this.InitGravityV2.y)},n.start=function(){this.InitColorPool(),this.initMap(),this.initBox()},n.update=function(e){this.tempTime+=e,this.tempTime>=this.onceTime&&(this.tempTime=0,this.checkAllTempSlot())},n.initEvent=function(){Global.logicEvent.on(G.Main_RefreshBoxData,this.refreshBoxData,this),Global.logicEvent.on(G.Main_CheckBox,this.checkBox,this)},n.initData=function(e){this.srcGameUI=e;for(var t,a=r(this._layerList.children);!(t=a()).done;){var i=t.value,o=i.getComponent(T);o&&i.active&&this.baseLayerList.push(o)}for(var n,l=r(this._tempNailSlot.children);!(n=l()).done;){var s=n.value.getComponent(S);s&&this.baseTempSlotList.push(s)}if(Global.gameController.curModel==D.dailyGame){this._titleT.$Label.fontSize=50;var h=Global.data.getZodiacLevelConfigById(Global.gameController.tempSelectLevel);this._titleT.$Label.string="生肖挑战-"+h.LevelName,this.DifficultyType=0}else Global.gameController.curModel==D.GravityMode?(this._titleT.$Label.fontSize=50,this._titleT.$Label.string="重力模式",this.DifficultyType=Global.data.getLevelConfigById(this.srcGameUI.getCurLevelIndex()).DifficultyType):(this._titleT.$Label.fontSize=30,this._titleT.$Label.string="第"+this.srcGameUI.curLevel+"关",this.DifficultyType=Global.data.getLevelConfigById(this.srcGameUI.getCurLevelIndex()).DifficultyType)},n.initMap=function(){var e=[];if(this.randomData){this.baseLayerList.forEach((function(t,a){e=t.getAllNailInfo().concat(e)})),e.forEach((function(e){e.color=-1}));var t=this.initNailData(e);e=t.nailData,this.boxDataList=t.boxData,f("当前螺丝",e.length),this.allNailCount=e.length;for(var a=this.baseLayerList.length-1;a>=0;a--){var i=this.baseLayerList[a];i.initLayer(a+1,e.splice(0,i.getAllNailInfo().length),this.getColor())}}else{this.baseLayerList.forEach((function(t,a){e=e.concat(t.getAllNailInfo())})),this.allNailCount=e.length;for(var o=0;o<this.baseLayerList.length;o++){var r=this.baseLayerList[o];r.initLayer(o+1,e.splice(0,r.getAllNailInfo().length),this.getColor())}}this.initGameData(),this.refreshLayer(),u.instance.enable=!0},n.initNailData=function(e){for(var t=e.concat([]),a=[],i=0;i<this.allColorCount;i++){var o=this.arrNumEliminate(this.baseColorList,this.curColorList);this.curColorList.push(o[Math.floor(Math.random()*o.length)])}f("当前可用的颜色列表",this.curColorList);var n=this.getDifficulty();console.log(n);for(var l=0;l<t.length;l++){var s=t[l];if(s.num=l+1,-1==s.color){for(var h,c=n[0][1],u=r(n);!(h=u()).done;){var d=h.value;if(l<=t.length*d[0]){c=d[1];break}}var v=this.getCurColorRandom(c);s.color=v,s.type=0;var m=new y;m.type=v,m.NailNum=3,a.push(m);for(var b=[],x=0;x<t.length*c*.1;x++)b.push(t[x]);for(var p=0;p<2;p++){for(var L=0;L<b.length;L++)-1!=b[L].color&&(b.splice(L,1),L-=1);if(0==b.length)for(var g,B=r(t);!(g=B()).done;){var G=g.value;if(-1==G.color){G.color=v,G.type=0;break}}else{var D=b[Math.floor(Math.random()*b.length)];D.color=v,D.type=0}}}}return{nailData:t,boxData:a}},n.getDifficulty=function(){var e=[];switch(this.DifficultyType){case 1:e=[[.1,4],[.2,5],[.25,6],[.3,7],[.35,8],[.4,9],[1,10]];break;default:e=[[.1,4],[.2,5],[.3,6],[.4,7],[.5,8],[.6,9],[1,10]]}return e},n.getCurColorRandom=function(e){var t=this.curColorList.concat([]),a=t.indexOf(this.lastNum);-1!=a&&(t.splice(a,1),e-=1);var i=t[Math.floor(Math.random()*e)];return this.lastNum=i,i},n.arrNumEliminate=function(e,t){for(var a,i=e.concat([]),o=r(t);!(a=o()).done;){var n=a.value,l=i.indexOf(n);-1!=l&&i.splice(l,1)}return i},n.initGameData=function(){this.levelGameData=new B,this.levelGameData.AddBoxPropNum=Global.gameController.lastLevelData.AddBoxPropNum,this.levelGameData.AddGridPropNum=Global.gameController.lastLevelData.AddGridPropNum,this.levelGameData.HammerPropNum=Global.gameController.lastLevelData.HammerPropNum,this.srcGameUI.RefreshPropMsg()},n.getLevelGameMsg=function(){return this.levelGameData},n.refreshLayer=function(){for(var e=this,t=0,a=0,i=function(i){e.scheduleOnce((function(){var o=e.baseLayerList[i];0==o._nailNode.children.length||(t<e.maxShowLayerNum?(o.uiOpacity.opacity=255,o.node.active=!0,o.showAll(),t+=1):a<e.maxGrayLayerNum?(o.hideAll(),a+=1,o.node.active||(o.node.active=!0,o.uiOpacity.opacity=0,L(o.uiOpacity).to(1,{opacity:255-100*(a-1)},{easing:"sineIn"}).start())):o.node.active=!1)}),.05*e.baseLayerList.length-i)},o=this.baseLayerList.length-1;o>=0;o--)i(o)},n.initBox=function(){this.switchBox(this.boxIndex);for(var e=0;e<2;e++){var t=m(this.tempBoxPrefab);this._boxNode.addChild(t)}this.refreshAllEnableBoxPos()},n.switchBox=function(e){e>=this.boxDataList.length||(this.curEnableBoxList.forEach((function(e){e.node.active=!1})),this.curEnableBoxList=[],this.boxIndex=e,this.refreshBoxData())},n.refreshBoxData=function(e,t){var a=this;void 0===e&&(e=!1),void 0===t&&(t=!1);var i=!1,o=[],n=!1;if(this.curEnableBoxList.forEach((function(e,t){e.checkFinish()&&(n=!0,f("当前盒子已填满"),e.moveToPos(b(e.node.getPosition().x,e.node.getPosition().y+400,0),.5,(function(){e.destroySelf()})),e.isDead=!0,i=!0,o.push(t),a.lastIndex.push(e.node.getSiblingIndex()))})),n&&Global.sound.playCommonSound(C.boxMove),o.reverse().forEach((function(e){a.curEnableBoxList.splice(e,1)})),this.curEnableBoxList.length<this.curEnableBoxLimit){for(var l=this.curEnableBoxLimit-this.curEnableBoxList.length,s=0;s<this.curBakBoxList.length;s++){var h=this.curBakBoxList[s],c=h.node.getWorldPosition();if(h.node.removeFromParent(),this._boxNode.addChild(h.node),h.node.setWorldPosition(c),this.curBakBoxList.splice(s,1),this.curEnableBoxList.push(h),i=!0,0==(l-=1))break}if(l>0)for(var u=function(){if(a.boxIndex>=a.boxDataList.length)return"break";for(var t,o=a.boxDataList[a.boxIndex],n=[],l=r(a.baseTempSlotList);!(t=l()).done;){var s=t.value;s.hasData()&&n.push(s.curColor)}if(e&&n.length>0)for(var h=n[~~(Math.random()*n.length)],c=a.boxIndex;c<a.boxDataList.length;c++){var u=a.boxDataList[c];if(u.type==h){o=u;var d=a.boxDataList.splice(Number(c),1);a.boxDataList.splice(g(a.boxIndex,0,a.boxDataList.length),0,d[0]);break}}else{var v=!1,f=0;do{v=!1;for(var m,x=r(a.curEnableBoxList);!(m=x()).done;){var p=m.value;if(p.hasEmpty()&&p.boxType==o.type){v=!0,f+=1;break}}if(v){var L=a.boxDataList.splice(a.boxIndex,1);a.boxDataList.splice(g(a.boxIndex+5,0,a.boxDataList.length),0,L[0]),o=a.boxDataList[a.boxIndex]}}while(v&&f<5)}a.boxIndex+=1;var y=Global.prefab.getNoolPrefab(N.Box);0!=a.lastIndex.length?a._boxNode.insertChild(y,a.lastIndex.shift()):a._boxNode.addChild(y);var B=y.getComponent(P);B.initData(o.type),y.setPosition(b(-550,0,0)),o.baseNailList.forEach((function(e){B.addNailInCurBox(e,0)})),a.curEnableBoxList.unshift(B),i=!0},d=1;d<=l;d++){if("break"===u())break}this.scheduleOnce((function(){a.checkAllTempSlot(),a.checkBox(),t&&a.srcGameUI.ClearTempSlot()}),.55)}if(this.boxIndex<this.boxDataList.length&&this.curBakBoxList.length<this.curBakBoxListLimit){var v=this.curBakBoxListLimit-this.curBakBoxList.length;if(v>0)for(var m=0;m<v&&!(this.boxIndex>=this.boxDataList.length);m++){var x=this.boxDataList[this.boxIndex];this.boxIndex+=1;var p=Global.prefab.getNoolPrefab(N.Box);this._nextBoxNode.addChild(p);var L=p.getComponent(P);L.initData(x.type),p.setPosition(b(-250,0,0)),this.curBakBoxList.push(L),i=!0}}i&&this.refreshAllEnableBoxPos()},n.refreshAllEnableBoxPos=function(){var e=180,t=0;this._boxNode.children.forEach((function(e,a){if(e.active){var i=e.getComponent(P);i&&i.isDead||(t+=1)}}));var a=0;this._boxNode.children.forEach((function(i,o){if(i.active){var r=i.getComponent(P);r&&!r.isDead&&(r.moveToPos(b(-180*t*.5+e*(a+.5),0,0)),a+=1)}})),this._boxNode.children.forEach((function(i,o){if(i.active){var r=i.getComponent(E);r&&(r.moveToPos(b(-180*t*.5+e*(a+.5),0,0)),a+=1)}})),this.curBakBoxList.forEach((function(e,t){e.moveToPos(x.ZERO)}))},n.checkBox=function(){var e=this;if(0==this.curEnableBoxList.length)this.refreshBoxData();else for(var t,a=r(this.curEnableBoxList);!(t=a()).done;){var i=t.value;if(i.checkAllFinish()){i.runPackagingAnim(),this.srcGameUI.spawnGoldIcon(i.node.getWorldPosition());break}}this.scheduleOnce((function(){0==e.curEnableBoxList.length&&e.srcGameUI.ShowGameSuccess()}),.5)},n.addBox=function(e,t){if(!(this.curEnableBoxLimit>=4)){for(var a,i=r(this._boxNode.children);!(a=i()).done;){var o=a.value;if(o.getComponent(E)){o.removeFromParent(),o.destroy();break}}this.curEnableBoxLimit+=e,this.refreshBoxData(!0,t)}},n.addBaseNailToBox=function(e){for(var t=this.boxIndex;t<this.boxDataList.length;t++){var a=this.boxDataList[t];if(a.type==e&&a.baseNailList.length<a.NailNum)return a.baseNailList.push(e),!0}return!1},n.clearAllTempSlot=function(){for(var e,t=r(this.baseTempSlotList);!(e=t()).done;){var a=e.value;if(a.hasData())if(this.addBaseNailToBox(a.curColor)){this.curNailCount+=1;var i=a.node.getWorldPosition(),o=this._nextBoxNode.getWorldPosition();this.srcGameUI.spawnMoveNail(i,o,a.curColor,1),a.setData(-1,0)}}},n.checkAllTempSlot=function(){for(var e,t=r(this.baseTempSlotList);!(e=t()).done;){var a=e.value;a.checkSlot(),a.node.active&&a.hasData()}},n.checkTargetTypeByType=function(e,t){if(void 0===t&&(t=0),0==this.curEnableBoxList.length)return null;if(0==t||1==t){for(var a,i=r(this.curEnableBoxList);!(a=i()).done;){var o=a.value;if(!o.inAnim&&o.checkHasEmptyByInfo(e)&&o.checkHasSomeData())return o}for(var n,l=r(this.curEnableBoxList);!(n=l()).done;){var s=n.value;if(!s.inAnim&&s.checkHasEmptyByInfo(e))return s}}if(0==t||2==t)for(var h,c=r(this.baseTempSlotList);!(h=c()).done;){var u=h.value;if(u.node.active&&!u.hasData())return u}return 0==t&&this.srcGameUI.tryRevive(),null},n.addNailInCurBox=function(e,t){var a=this.checkTargetTypeByType(e);if(a)if(a instanceof P){var i=a.addNailInCurBox(e,.433+.266);this.srcGameUI.spawnMoveNail(t,i.node.getWorldPosition(),e,1,0),this.curNailCount+=1,Global.uiEvent.emit("refreshBar",this.curNailCount/this.allNailCount)}else a instanceof S&&(a.setData(e,.433+.266),this.srcGameUI.spawnMoveNail(t,a.node.getWorldPosition(),e,1,0))},n.getUpBlockBylayerId=function(e){for(var t=[],a=this.baseLayerList.length-1;a>=0;a--){var i=this.baseLayerList[a];if(i.plankId==e)break;i.isShow&&i._plankNode.children.forEach((function(e){e.getComponent(A).PlankState&&t.push(e)}))}return t},n.AddPropNum=function(e,t,a){switch(void 0===t&&(t=1),void 0===a&&(a=!0),e){case I.AddGrid:this.levelGameData.AddGridPropNum=Math.max(this.levelGameData.AddGridPropNum+t,0);break;case I.Hammer:this.levelGameData.HammerPropNum=Math.max(this.levelGameData.HammerPropNum+t,0);break;case I.ClearGrid:this.levelGameData.AddBoxPropNum=Math.max(this.levelGameData.AddBoxPropNum+t,0)}a&&this.UsePropNum(e)},n.UsePropNum=function(e){switch(e){case I.AddGrid:if(this.levelGameData.AddGridPropNum<=0)return void Global.ui.showTipStr("道具数量不够");this.levelGameData.AddGridPropNum=Math.max(this.levelGameData.AddGridPropNum-1,0),this.srcGameUI.AddGrid();break;case I.Hammer:if(this.levelGameData.HammerPropNum<=0)return void Global.ui.showTipStr("道具数量不够");this.levelGameData.HammerPropNum=Math.max(this.levelGameData.HammerPropNum-1,0),this.srcGameUI.Hammer();break;case I.ClearGrid:if(this.levelGameData.AddBoxPropNum<=0)return void Global.ui.showTipStr("道具数量不够");this.levelGameData.AddBoxPropNum=Math.max(this.levelGameData.AddBoxPropNum-1,0),this.srcGameUI.ClearTempSlot()}this.srcGameUI.RefreshPropMsg()},n.InitColorPool=function(){this.ColorIndex=~~(Math.random()*this.curColorPool.length)},n.getColor=function(){p.BLACK;var e=this.curColorPool[this.ColorIndex];e=0===e.indexOf("#")?e.substring(1):e;var t=parseInt(e.substr(0,2),16)||0,a=parseInt(e.substr(2,2),16)||0,i=parseInt(e.substr(4,2),16)||0;return this.ColorIndex++,this.ColorIndex=this.ColorIndex%this.curColorPool.length,new p(t,a,i,204)},n.getNailEntityByType=function(e){for(var t,a=r(this.baseLayerList);!(t=a()).done;)for(var i,o=t.value,n=r(o._nailNode.children);!(i=n()).done;){var l=i.value;if(l.active&&l.getComponent(k).curType==e)return l}},n.onDeviceMotionEvent=function(e){this.GravityChange<3?this.GravityChange++:(this.GravityChange=0,u.instance.gravity=c(this.InitGravityValue*e.acc.x,this.InitGravityValue*e.acc.y))},n.OpenSameColor=function(){for(var e,t=~~(10*Math.random()),a=r(this.baseLayerList);!(e=a()).done;)for(var i,o=e.value,n=r(o._nailNode.children);!(i=n()).done;){var l=i.value;l.active&&l.getComponent(k).initNail(t,o.plankId,l.getComponent(k).curNum)}for(var s,h=r(this.boxDataList);!(s=h()).done;){s.value.type=t,this.flushSameColorBoxShow(t),this.refreshBoxData()}for(var c,u=r(this.baseTempSlotList);!(c=u()).done;){var d=c.value;-1!=d.curColor&&d.setData(t)}},n.flushSameColorBoxShow=function(e){for(var t,a=r(this.curEnableBoxList);!(t=a()).done;){t.value.initData(e)}},t}(M)).prototype,"boxDataList",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(V.prototype,"randomData",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=t(V.prototype,"tempBoxPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=V))||H));n._RF.pop()}}}));

System.register("chunks:///_virtual/ListView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Common.ts"],(function(t){"use strict";var e,i,n,s,o,a,r,h,l,c,u,g,p,d,m,f,C,y,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.createClass,a=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){h=t.cclegacy,l=t._decorator,c=t.Node,u=t.ScrollView,g=t.Component,p=t.NodePool,d=t.UITransform,m=t.v2,f=t.UIOpacity,C=t.instantiate,y=t.rect},function(t){w=t.default}],execute:function(){var I,b,v,_,V,P,x,L,z,D,R,O,k,M,H,A,N,T,F,S,U;h._RF.push({},"f746eyCmBxIEJEKKwO3MFqo","ListView",void 0);var W=l.ccclass,B=l.property,X=(t("default",(I=B({displayName:"子项模板",tooltip:"子项模板",type:c}),b=B({displayName:"间距",tooltip:"间距"}),v=B({displayName:"四周距离",tooltip:"四周距离"}),_=B({displayName:"裕量子项个数",tooltip:"裕量子项个数"}),V=B({displayName:"横向布局的子项数量",tooltip:"横向布局的子项数量"}),P=B({displayName:"滚动容器",tooltip:"滚动容器",type:u}),x=B({displayName:"空数据显示",tooltip:"空数据显示",type:c,visible:!1}),L=B({displayName:"刷新子项函数",tooltip:"用于刷新子项的显示内容",type:g.EventHandler}),z=B({type:Array,visible:!1}),D=B({visible:!1,type:Array}),W((k=e((O=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"itemTemplate",k,s(e)),n(e,"spacing",M,s(e)),n(e,"margin",H,s(e)),n(e,"spawnCount",A,s(e)),n(e,"column",N,s(e)),n(e,"scrollView",T,s(e)),n(e,"emptyView",F,s(e)),n(e,"flushFunc",S,s(e)),n(e,"_dataList",U,s(e)),e.content=null,e.adapter=null,e._items=new p,e.uuidDic=void 0,e._filledIds={},e.horizontal=!1,e._itemHeight=1,e._itemWidth=1,e._itemsVisible=1,e.dataChanged=!1,e._isInited=!1,e.visibleRange=[-1,-1],e.pager=void 0,e.comp=null,e}i(e,t);var h=e.prototype;return h.notify=function(t,e){this.adapter||(this.adapter=new Y),this.uuidDic?this.uuidDic.clear():this.uuidDic=new Map,this.adapter.setDataSet(e),null!=this.adapter?null!=this.itemTemplate?(this.visibleRange[0]=this.visibleRange[1]=-1,this.recycleAll(),this.notifyUpdate()):console.error("Listview111 未设置待显示的Item模板."):console.warn("adapter 为空.")},h.onLoad=function(){this.init(),this.pager=new X(this),this.scrollView,this.uuidDic||(this.uuidDic=new Map)},h.onEnable=function(){},h.onDisable=function(){},h.setAdapter=function(){var t=a(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.adapter!==e){t.next=3;break}return this.notifyUpdate(),t.abrupt("return");case 3:if(this.adapter=e,null!=this.adapter){t.next=7;break}return console.warn("adapter 为空."),t.abrupt("return");case 7:if(null!=this.itemTemplate){t.next=10;break}return console.error("Listview222 未设置待显示的Item模板."),t.abrupt("return");case 10:this.visibleRange[0]=this.visibleRange[1]=-1,this.recycleAll(),this.notifyUpdate();case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),h.getAdapter=function(){return this.adapter},h.getScrollView=function(){return this.scrollView},h.getAllItems=function(){return this._items},h.scrollToPage=function(t,e,i){if(!this.adapter||!this.scrollView)return!1;this.adapter.getCount();if(this.horizontal){var n=0,s=this.content.getComponent(d).width,o=this.getColumnWH();if(e)n=o*e;else{var a=this.content.parent.getComponent(d).width;n=Math.floor(a/o)*o}return this.scrollView.scrollToOffset(m(n*t,0),i),n*(t+1)>=s}var r=this.content.getComponent(d).height,h=this.getColumnWH(),l=0;if(e)l=h*e;else{var c=this.content.parent.getComponent(d).height;l=Math.floor(c/h)*h}return this.scrollView.scrollToOffset(m(0,l*t),i),l*(t+1)>=r},h.getVisibleElements=function(){var t=0;if(this.horizontal){var e=this.content.parent.getComponent(d).width;t=Math.floor(e/this.getColumnWH())}else{var i=this.content.parent.getComponent(d).height;t=Math.floor(i/this.getColumnWH())}return t*this.column},h.getColumnWH=function(){return this.horizontal?this._itemWidth+this.spacing.x:this._itemHeight+this.spacing.y},h.notifyUpdate=function(){null!=this.adapter&&(this._isOnLoadCalled||this.init(),this.scrollView&&this.content&&(this.emptyView&&(null==this.emptyView.getComponent(f)&&this.emptyView.addComponent(f),this.emptyView.getComponent(f).opacity=this.adapter.getCount()>0?0:255),this.visibleRange[0]=this.visibleRange[1]=-1,this.horizontal?this.content.getComponent(d).width=Math.ceil(this.adapter.getCount()/this.column)*(this._itemWidth+this.spacing.x)-this.spacing.x+this.margin.x+this.margin.width:this.content.getComponent(d).height=Math.ceil(this.adapter.getCount()/this.column)*(this._itemHeight+this.spacing.y)-this.spacing.y+this.margin.y+this.margin.height,this.dataChanged=!0))},h.lateUpdate=function(){var t=this.getVisibleRange();this.checkNeedUpdate(t)&&(this.recycleDirty(t),this.updateView(t))},h._layoutVertical=function(t,e){this.content.addChild(t);var i=e%(this.column||1),n=Math.floor(e/(this.column||1));t.setPosition(this.column>1?this.margin.x+t.getComponent(d).width*t.getComponent(d).anchorX+(t.getComponent(d).width+this.spacing.x)*i-this.content.getComponent(d).width*this.content.getComponent(d).anchorX:0,-this.margin.y-t.getComponent(d).height*(t.getComponent(d).anchorY+n)-this.spacing.y*n)},h._layoutHorizontal=function(t,e){this.content.addChild(t);var i=e%(this.column||1),n=Math.floor(e/(this.column||1));t.setPosition(t.getComponent(d).width*(t.getComponent(d).anchorX+n)+this.spacing.x*n+this.margin.x,this.column>1?-1*(this.margin.y+t.getComponent(d).height*t.getComponent(d).anchorY+(t.getComponent(d).height+this.spacing.y)*i-this.content.getComponent(d).height*this.content.getComponent(d).anchorY):0)},h.recycleAll=function(){for(var t in this._filledIds)this._filledIds.hasOwnProperty(t)&&this._items.put(this._filledIds[t]);this._filledIds={}},h.recycleDirty=function(t){if(t&&!(t.length<2)){for(var e=this.visibleRange[0];e<t[0];e++)e<0||!this._filledIds[e]||(this._items.put(this._filledIds[e]),this._filledIds[e]=null);for(var i=this.visibleRange[1];i>t[1];i--)i<0||!this._filledIds[i]||(this._items.put(this._filledIds[i]),this._filledIds[i]=null);this.visibleRange[0]=t[0],this.visibleRange[1]=t[1]}},h.checkNeedUpdate=function(t){return t&&this.visibleRange&&(this.visibleRange[0]!=t[0]||this.visibleRange[1]!=t[1])},h.updateView=function(t){for(var e=t[0];e<=t[1];e++)if(this.dataChanged||!this._filledIds[e]){var i=this._filledIds[e]||this._items.get()||C(this.itemTemplate);i.active=!0,!this.comp||i.getComponent(g)instanceof this.comp||(i.removeComponent(g),i.addComponent(this.comp)),i.removeFromParent(),this.horizontal?this._layoutHorizontal(i,e):this._layoutVertical(i,e),this._flushCallFunc(i,this.adapter.getItem(e),e),this._filledIds[e]=this.adapter._getView(i,e),i.setSiblingIndex(-i.getPosition().y)}this.dataChanged=!1},h.getVisibleRange=function(){if(null==this.adapter)return null;var t=this.scrollView.getScrollOffset(),e=0;(e=this.horizontal?Math.floor(-t.x/(this._itemWidth+this.spacing.x)):Math.floor(t.y/(this._itemHeight+this.spacing.y)))<0&&(e=0);var i=this.column*(e+this._itemsVisible+this.spawnCount);return i>=this.adapter.getCount()&&(i=this.adapter.getCount()-1),[e*this.column,i]},h.init=function(){if(!this._isInited){this._isInited=!0,this.scrollView?(this.content=this.scrollView.content,this.horizontal=this.scrollView.horizontal,this.horizontal?(this.scrollView.vertical=!1,this.content.getComponent(d).anchorX=0,this.content.getComponent(d).anchorY=this.content.parent.getComponent(d).anchorY,this.content.getPosition().x=0-this.content.parent.getComponent(d).width*this.content.parent.getComponent(d).anchorX,this.content.getPosition().y=0):(this.scrollView.vertical=!0,this.content.getComponent(d).anchorX=this.content.parent.getComponent(d).anchorX,this.content.getComponent(d).anchorY=1,this.content.getPosition().x=0,this.content.getPosition().y=this.content.parent.getComponent(d).height*this.content.parent.getComponent(d).anchorY)):console.error("ListView need a scrollView for showing.");var t=this._items.get()||C(this.itemTemplate);t.active=!0,this._items.put(t),this._itemHeight=t.getComponent(d).height||10,this._itemWidth=t.getComponent(d).width||10,this.horizontal?this._itemsVisible=Math.ceil((this.content.parent.getComponent(d).width-this.margin.x-this.margin.width)/(this._itemWidth+this.spacing.x)):this._itemsVisible=Math.ceil((this.content.parent.getComponent(d).height-this.margin.y-this.margin.height)/(this._itemHeight+this.spacing.y))}},h._flushCallFunc=function(t,e,i){if(this.uuidDic.set(t.uuid,i),this.flushFunc.length)for(var n in this.flushFunc){var s=this.flushFunc[n],o=s.target.getComponent(s._componentName);o[s.handler].bind(o)(t,e,i)}},h.getDataByUuid=function(t){var e=this.uuidDic.get(t);return this.adapter.getItem(e)},h.getIndexByUuid=function(t){return this.uuidDic.get(t)},h.getDataByIndex=function(t){return this.adapter.getItem(t)},h.getItemByIndex=function(t){return this._filledIds[t]},h.flushItemByIndex=function(t){var e=this.getItemByIndex(t);e&&this._flushCallFunc(e,this.adapter.getItem(t),t)},h.flushVisibleView=function(){for(var t=this.getVisibleRange(),e=t[0];e<=t[1];e++){var i=this._filledIds[e];this._flushCallFunc(i,this.adapter.getItem(e),e)}},o(e,[{key:"dataList",get:function(){return this._dataList},set:function(t){this._dataList=t,this.notify(this._dataList,t)}}]),e}(g)).prototype,"itemTemplate",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(O.prototype,"spacing",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m(0,0)}}),H=e(O.prototype,"margin",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y(0,0,0,0)}}),A=e(O.prototype,"spawnCount",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),N=e(O.prototype,"column",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=e(O.prototype,"scrollView",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(O.prototype,"emptyView",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(O.prototype,"flushFunc",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=e(O.prototype,"_dataList",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),e(O.prototype,"dataList",[D],Object.getOwnPropertyDescriptor(O.prototype,"dataList"),O.prototype),R=O))||R)),t("Pager",function(){function t(t,e){void 0===e&&(e=0),this.listView=null,this.pageOfItems=0,this.currentPageIndex=0,this.onPageChangeListener=null,this.listView=t,this.pageOfItems=e}var e=t.prototype;return e.getPageCount=function(){if(!this.listView.getAdapter())return 1;var t=this.listView.getAdapter().getCount();return this.pageOfItems||(this.pageOfItems=this.listView.getVisibleElements()),this.pageOfItems<=0&&(this.pageOfItems=1),Math.ceil(t/this.pageOfItems)},e.getCurrentPage=function(){return this.currentPageIndex},e.prePage=function(){this.currentPageIndex--,this.currentPageIndex<0&&(this.currentPageIndex=0),this.listView.scrollToPage(this.currentPageIndex,0,.2),this.onPageChangeListener&&this.onPageChangeListener(this.listView,this.currentPageIndex)},e.nextPage=function(){this.currentPageIndex++;var t=this.getPageCount();this.currentPageIndex>t-1&&(this.currentPageIndex=t-1),this.listView.scrollToPage(this.currentPageIndex,0,.2),this.onPageChangeListener&&this.onPageChangeListener(this.listView,this.currentPageIndex)},e.canPrePage=function(){return this.currentPageIndex>0},e.canNextPage=function(){return this.currentPageIndex<this.getPageCount()-1},e.setOnPageChangeListener=function(t){this.onPageChangeListener=t},t}())),Y=t("AbsAdapter",function(){function t(){this.onItemClickListener=void 0,this.dataSet=[]}var e=t.prototype;return e.setDataSet=function(t){this.dataSet=t||[]},e.getCount=function(){return this.dataSet?this.dataSet.length:0},e.getItem=function(t){return this.dataSet[t]},e._getView=function(t,e){return this.onItemClickListener&&w.setClickListenerAnim(t,!0,this.onItemClicked,this,e),t},e.setOnItemClickListener=function(t,e){this.onItemClickListener=e?t.bind(e):t},e.onItemClicked=function(t,e){this.onItemClickListener&&this.onItemClickListener(this,e)},t}());h._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingBarUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(a){"use strict";var i,t,e,n,r,o;return{setters:[function(a){i=a.inheritsLoose},function(a){t=a.cclegacy,e=a._decorator},function(a){n=a.UIShowAnimType,r=a.UIHideAnimType,o=a.default}],execute:function(){var u;t._RF.push({},"a20afRs0gBPLJb6FULa22dW","LoadingBarUI",void 0);var d=e.ccclass;e.property,a("LoadingBarUI",d("LoadingBarUI")(u=function(a){function t(){for(var i,t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(i=a.call.apply(a,[this].concat(e))||this)._loadingBarShow=void 0,i._gameTips=void 0,i.canAddNum=!0,i.curNum=0,i.defaultBarWidth=514,i.playerIdleTime=0,i}i(t,a);var e=t.prototype;return e.onLoad=function(){Global.ui.setCurLoadingBarUI(this),this._loadingBarShow.$UITransform.width=Global.data.curStartBarValue},e.startLoading=function(a){this.curNum=0,this.canAddNum=!0,this.showUI(n.default),this._gameTips.active=a,this.unscheduleAllCallbacks()},e.update=function(a){this.canAddNum&&(this.curNum+=10*a)},e.refreshLoading=function(a,i){var t=this.defaultBarWidth*a/i;t>this._loadingBarShow.$UITransform.width&&(this._loadingBarShow.$UITransform.width=t),this.curNum+=5},e.stopLoading=function(a){var i=this;void 0===a&&(a=0),this.canAddNum=!1,this.scheduleOnce((function(){i.curNum<i.playerIdleTime?i.scheduleOnce((function(){i.hideUI(r.fadeHide)}),i.playerIdleTime-i.curNum):i.hideUI(r.fadeHide)}),a)},t}(o))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var o,t,i,e,a,s;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,i=n._decorator,e=n.UIOpacity,a=n.Animation,s=n.Component}],execute:function(){var c;t._RF.push({},"66c368CDwRMVpCnXc3ao739","LoadingUI",void 0);var l=i.ccclass;i.property,n("LoadingUI",l("LoadingUI")(c=function(n){function t(){return n.apply(this,arguments)||this}o(t,n);var i=t.prototype;return i.onLoad=function(){Global.ui.hasLoadingUI()?this.node.destroy():(Global.ui.setCurLoadingUI(this),this.node.active=!1)},i.startLoading=function(n){void 0===n&&(n=!0),this.node.active=!0,this.getComponent(e).opacity=n?255:0,this.getComponent(a).play(),Global.sdk.checkZhiseKSChannel(Global.sdk.curChannel)&&this.scheduleOnce((function(){Global.sdk.inWXShare&&Global.sdk.wxShareCallBack()}),3.5)},i.stopLoading=function(){this.unscheduleAllCallbacks(),this.node.active=!1},t}(s))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/Lobby.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./ProvinceRankData.ts","./EventEnum.ts","./GameArgs.ts","./CommonUtils.ts","./AtlasUI.ts","./CallPeopleUI.ts","./DailyChallengeUI.ts","./OtherGame.ts","./LobbyRankItem.ts","./RankUI.ts","./SelectArea.ts","./SettingUI.ts","./SiderbarUI.ts","./SkinUI.ts","./FeedbackUI.ts","./OfficialAccount.ts","./SkinGetUI.ts","./SubGame2.ts","./ttAddDesktop.ts","./UIBase.ts","./wxAddCollectUI.ts","./SubGame3.ts"],(function(e){"use strict";var t,a,n,o,i,l,r,b,s,u,c,d,h,f,m,g,G,I,S,y,v,P,p,k,U,C,_,w,A,L,R,D,B,O,T,E,x,z,N,V;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,r=e.Prefab,b=e.PageView,s=e.instantiate,u=e.director,c=e.assetManager,d=e.log,h=e.Animation},function(e){f=e.BYTEDANCE,m=e.WECHAT},function(e){g=e.ProvinceRankData},function(e){G=e.GameUIEvent},function(e){I=e.PrefabEnum,S=e.SceneValue,y=e.GameModel},function(e){v=e.CommonUtils},function(e){P=e.AtlasUI},function(e){p=e.CallPeopleUI},function(e){k=e.DailyChallengeUI},function(e){U=e.OtherGame},function(e){C=e.LobbyRankItem},function(e){_=e.RankUI},function(e){w=e.SelectArea},function(e){A=e.SettingUI},function(e){L=e.SiderbarUI},function(e){R=e.SkinUI},function(e){D=e.FeedbackUI},function(e){B=e.OfficialAccount},function(e){O=e.SkinGetUI},function(e){T=e.SubGame2},function(e){E=e.ttAddDesktop},function(e){x=e.UIShowAnimType,z=e.default},function(e){N=e.wxAddCollectUI},function(e){V=e.SubGame3}],execute:function(){var M,F,$,H,W,Z,J,Y,j,K,q,Q,X,ee,te,ae,ne,oe,ie,le,re,be,se,ue,ce,de,he,fe,me,ge,Ge,Ie,Se,ye,ve,Pe,pe,ke,Ue;i._RF.push({},"3216ezuHbRHfYeJl51u1w+r","Lobby",void 0);var Ce=l.ccclass,_e=l.property;e("Lobby",(M=Ce("Lobby"),F=_e(r),$=_e(r),H=_e(r),W=_e(r),Z=_e(r),J=_e(r),Y=_e(r),j=_e(r),K=_e(r),q=_e(r),Q=_e(r),X=_e(r),ee=_e(r),te=_e(r),ae=_e(r),ne=_e(r),oe=_e(r),ie=_e(r),M((be=t((re=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,n(t,"SidebarUIPrefab",be,o(t)),n(t,"SettingPrefab",se,o(t)),n(t,"AtlasUIPrefab",ue,o(t)),n(t,"LobbyRankItemPrefab",ce,o(t)),n(t,"DailyChallengeUIPrefab",de,o(t)),n(t,"SkinUIPrefab",he,o(t)),n(t,"RankUIPrefab",fe,o(t)),n(t,"SelectAreaUIPrefab",me,o(t)),n(t,"OtherGameUIPrefab",ge,o(t)),n(t,"CallPeoplePrefab",Ge,o(t)),n(t,"SubGameUIPrefab",Ie,o(t)),n(t,"SubGameUIPrefab2",Se,o(t)),n(t,"SkinGetUIPrefab",ye,o(t)),n(t,"AddCollectUIPrefab",ve,o(t)),n(t,"ttAddDeskTopUIPrefab",Pe,o(t)),n(t,"wxOfficialAccountUIPrefab",pe,o(t)),n(t,"FeedbackUIPrefab",ke,o(t)),n(t,"LobbyAnimUIPrefab",Ue,o(t)),t._btnGift=void 0,t._btnAddDesktop=void 0,t._btnShare=void 0,t._DailySp=void 0,t._btnOtherGame=void 0,t._btnShowLobbyIdle=void 0,t._btnSubPlay=void 0,t._btnSubPlay2=void 0,t.targetSubgame=34,t._btnSubGame1=void 0,t._subGameAdValueT=void 0,t._subGameAdNode=void 0,t._btnLobbyGamePlay=void 0,t._btnWebSubGame=void 0,t._btnCallPeople=void 0,t._btnRank=void 0,t._selectAreaGoTo=void 0,t._selectAreaTop=void 0,t.curPageIndex=0,t._lobbyRankPage=void 0,t._lobbyRankContent=void 0,t.lobbyRankList=[],t._btnAddCollect=void 0,t._btnFeedback=void 0,t._btnOfficialAccount=void 0,t._LobbyAnimLayer=void 0,t._btnOtherGame2=void 0,t._otherGame2Sp=void 0,t._otherGame2Name=void 0,t}a(t,e);var i=t.prototype;return i.onLoad=function(){this.initEvent(),this._btnRank.active=!Global.sdk.checkZhiseKSChannel(Global.sdk.curChannel),this._btnOtherGame.active=Global.sdk.checkZhiseOtherGameChannel(Global.sdk.curChannel)},i.initEvent=function(){this._lobbyRankPage.on(b.EventType.PAGE_TURNING,this.onPageTuring,this),Global.uiEvent.on(G.ShowSkinGetUI,this.ShowSkinGetUI,this),Global.uiEvent.on(G.flushPreserveView,this.flushPreserveView,this),Global.uiEvent.on(G.openSubPlayUI,this.on_btnSubPlay,this),Global.uiEvent.on(G.FlushSecondUI,this.refreshSubGameView,this)},i.start=function(){Global.prefab.getNoolPrefab(I.BaseSkin)&&this.initLobbyRankDelay(),!Global.sdk.checkAuthorization()&&Global.sdk.userInfoButtun&&Global.sdk.userInfoButtun.show(),this.refreshSubGameView()},i.onDestroy=function(){Global.sdk.userInfoButtun&&Global.sdk.userInfoButtun.hide(),Global.uiEvent.targetOff(this)},i.initAuthorization=function(){this.spawnUserInfoButton(),wx.getSetting&&wx.getSetting({success:function(e){!0===e.authSetting["scope.userInfo"]&&wx.getUserInfo&&wx.getUserInfo({success:function(e){console.log("getUserInfo 调用成功",e.userInfo),Global.sdk.wx_playerNickName=e.userInfo.nickName,Global.sdk.wx_playerAvatarUrl=e.userInfo.avatarUrl,Global.sdk.userInfoButtun.hide()},fail:function(e){console.log("getUserInfo 调用失败",e.errMsg)}})}})},i.spawnUserInfoButton=function(){},i.onEnable=function(){this.flushIcon(),this.flushPreserveView(),Global.uiEvent.on(G.flushDailySp,this.flushDailySp,this),Global.uiEvent.on(G.flushForSubGame,this.flushForSubGame,this)},i.flushIcon=function(){this._btnGift.active=f,this._btnAddDesktop.active=f,this._btnShare.active=f,this._btnSubPlay.active=!0,this._btnSubPlay2.active=!1,this._btnShowLobbyIdle.active=!m,this.CreateLobbyIdle(),this.flushOtherGameIcon()},i.on_btnShare=function(){Global.sdk.gameShare()},i.on_btnGift=function(){var e=s(this.SidebarUIPrefab);this.node.addChild(e),e.getComponent(L).showUI(x.fadeShow)},i.on_btnAddDesktop=function(){var e=s(this.ttAddDeskTopUIPrefab);this.node.addChild(e),e.getComponent(E).showUI(x.fadeShow)},i.on_btnSetting=function(){var e=s(this.SettingPrefab);this.node.addChild(e);var t=e.getComponent(A);t.initData({curSceneValue:S.Lobby}),t.showUI(x.fadeShow)},i.on_btnStartGame=function(){Global.ui.startLoadingBar(!1),Global.gameController.curModel=y.normalGame,u.loadScene("Game",(function(){}))},i.on_btnReward=function(){var e=s(this.AtlasUIPrefab);this.node.addChild(e);var t=e.getComponent(P);t.initData(1),t.showUI(x.fadeShow)},i.on_btnDailyChallenge=function(){var e=s(this.DailyChallengeUIPrefab);this.node.addChild(e),e.getComponent(k).showUI(x.fadeShow)},i.flushDailySp=function(){this._DailySp.$Label.string="获得生肖 "+Global.gameController.curZodiacLevel.LevelSchedule+"/12"},i.on_btnSkin=function(){var e=s(this.SkinUIPrefab);this.node.addChild(e);var t=e.getComponent(R);t.initData(),t.showUI(x.fadeShow)},i.on_btnOtherGame=function(){var e=s(this.OtherGameUIPrefab);this.node.addChild(e),e.getComponent(U).showUI(x.fadeShow)},i.on_btnSubPlay=function(){var e=s(this.SubGameUIPrefab);this.node.addChild(e),e.getComponent(V).showUI(x.fadeShow)},i.on_btnSubPlay2=function(){var e=s(this.SubGameUIPrefab2);this.node.addChild(e),e.getComponent(T).showUI(x.fadeShow)},i.on_btnSubGame1=function(){Global.gameController.ShowSubPlayAd(this.targetSubgame)},i.refreshSubGameView=function(){var e=Global.data.getSubGameConfigById(this.targetSubgame);if(e){var t=Global.gameController.getSubDataById(e.SubGameId);this._subGameAdNode.active=t<e.UnlockAd,this._subGameAdValueT.$Label.string=t+"/"+e.UnlockAd}else this._subGameAdNode.active=!1},i.on_btnLobbyGamePlay=function(){Global.ui.startLoadingBar();var e=function(e){u.preloadScene("LobbyGamePlay",(function(e,t){Global.ui.refreshLoadingBar(e,t)}),(function(){u.loadScene("LobbyGamePlay")}))};c.getBundle("LobbyGamePlayCommon")?e():c.loadBundle("LobbyGamePlayCommon",(function(t,a){e()}))},i.on_btnMemeNailSubPlay=function(){var e=function(){Global.gameController.curModel=y.swapNail,u.loadScene("MemeSpNail",(function(){Global.ui.stopLoadingBar(.5)}))};Global.ui.startLoadingBar(!1),c.getBundle("MemeSpNail")?e():c.loadBundle("MemeSpNail",{},(function(){e()}))},i.on_btnSortEliminate=function(){var e=function(){Global.gameController.curModel=y.rollMode,u.loadScene("SortEliminate",(function(){Global.ui.stopLoadingBar()}))};Global.ui.startLoadingBar(!1),c.getBundle("SortEliminate")?e():c.loadBundle("SortEliminate",{},(function(){e()}))},i.on_btnWebSubGame=function(){Global.ui.startLoadingBar(!1),this.scheduleOnce((function(){u.loadScene("SubGame",(function(){Global.uiEvent.emit(G.flushDailySp),Global.ui.stopLoadingBar()}))}),.2)},i.on_btnCallPeople=function(){var e=s(this.CallPeoplePrefab);this.node.addChild(e),e.getComponent(p).showUI(x.fadeShow)},i.on_btnRank=function(){if(-1==Global.gameController.getAreaMsg()){var e=s(this.SelectAreaUIPrefab);this.node.addChild(e),e.getComponent(w).showUI(x.fadeShow)}else{var t=s(this.RankUIPrefab);this.node.addChild(t);var a=t.getComponent(_);a.initData(),a.showUI(x.fadeShow)}},i.on_btnSelectArea=function(){if(-1==Global.gameController.getAreaMsg()){this._selectAreaGoTo.active=!0;var e=s(this.SelectAreaUIPrefab);this.node.addChild(e),e.getComponent(w).showUI(x.fadeShow)}else{var t=this.getLobbyRankItemIndexById(Global.gameController.getAreaMsg());t==this.curPageIndex&&0!=this.curPageIndex&&(t=0),d("跳转目标省份",t),this._lobbyRankPage.$PageView.scrollToPage(t,.5)}},i.on_btnShowLobbyIdle=function(){Global.uiEvent.emit(G.Lobby_ShowLobbyAnimIdle)},i.onPageTuring=function(e){if(this._selectAreaGoTo.active=!1,this._selectAreaTop.active=!1,-1==Global.gameController.getAreaMsg())this._selectAreaGoTo.active=!0;else{var t=this.getLobbyRankItemIndexById(Global.gameController.getAreaMsg());this.curPageIndex=e._curPageIdx,t==e._curPageIdx&&0!=e._curPageIdx?this._selectAreaTop.active=!0:this._selectAreaGoTo.active=!0}this.refreshPage()},i.refreshPage=function(){for(var e=this._lobbyRankPage.$PageView.getCurrentPageIndex(),t=this._lobbyRankPage.$PageView.getPages(),a=0;a<t.length;a++){var n=t[a].getComponent(C);n.isShow=a==e||a==e+1,n.refreshShow()}},i.initLobbyRank=function(){var e=this;null!=this.LobbyRankItemPrefab&&(this.unscheduleAllCallbacks(),this._lobbyRankPage.$PageView.removeAllPages(),this._lobbyRankContent.destroyAllChildren(),this.lobbyRankList=[],Global.gameController.nationalRankList.forEach((function(t,a){e.scheduleOnce((function(){var n=s(e.LobbyRankItemPrefab);e._lobbyRankPage.$PageView.addPage(n);var o=n.getComponent(C);o.initData(a+1,t),o.showUI(x.fadeShow),e.lobbyRankList.push(o)}),.02*a)})),this.scheduleOnce((function(){e.refreshPage()}),.5))},i.initRandomRankList=function(){for(var e=[],t=1;t<=34;t++){var a=new g;a.id=t,a.province=Global.data.getAreaNameById(t),a.score=v.getRankRandomValue(t),e.push(a)}e.sort((function(e,t){return e.score>t.score?-1:e.score<t.score?1:0})),Global.gameController.nationalRankList=e},i.initLobbyRankDelay=function(){this.initRandomRankList(),this.initLobbyRank()},i.getLobbyRankItemIndexById=function(e){for(var t=0;t<this.lobbyRankList.length;t++){if(this.lobbyRankList[t].curData.id==e)return t}return 0},i.ShowSkinGetUI=function(e){if(null!=e){var t=s(this.SkinGetUIPrefab);this.node.addChild(t);var a=t.getComponent(O);a.initData(e),a.showUI(x.default),this.flushPreserveView()}},i.flushPreserveView=function(){console.log("刷新留存"),this._btnAddCollect.active=!Global.gameController.checkSkinUnlock(1003)&&m,this._btnCallPeople.active=f,this._btnGift.active=!Global.gameController.checkSkinUnlock(1003)&&f,this._btnOfficialAccount.active=m,this._btnAddDesktop.active=!Global.gameController.checkSkinUnlock(1004)&&f,this._btnFeedback.active=!0},i.on_btnAddCollect=function(){var e=s(this.AddCollectUIPrefab);this.node.addChild(e),e.getComponent(N).showUI(x.default)},i.on_btnOfficialAccount=function(){var e=s(this.wxOfficialAccountUIPrefab);this.node.addChild(e),e.getComponent(B).showUI(x.default)},i.on_btnFeedback=function(){var e=s(this.FeedbackUIPrefab);this.node.addChild(e),e.getComponent(D).showUI(x.fadeShow)},i.CreateLobbyIdle=function(){var e=s(this.LobbyAnimUIPrefab);this._LobbyAnimLayer.addChild(e)},i.flushOtherGameIcon=function(){var e=this;if(this._btnOtherGame2.active=!1,!(!Global.sdk.checkOtherGame2Channel(Global.sdk.curChannel)||this.getPlayLevel()<Global.sdk.otherGameTargetLevel||Global.sdk.otherGameCountAdLimit<=Global.sdk.curAllAdCount)){var t=Global.sdk.otherGameLobbyData;this._otherGame2Sp.getComponent(h).play(),t&&Global.art.getRemoteSprite(t.IconName,(function(a){Global.sdk.eventTracking("LobbyOtherGameShow",{}),e._btnOtherGame2.active=!0,e._otherGame2Sp.$Sprite.spriteFrame=a,e._otherGame2Name.$Label.string=t.GameName}))}},i.on_btnOtherGame2=function(){Global.sdk.eventTracking("LobbyOtherGameClick",{});var e=Global.sdk.otherGameLobbyData;e&&Global.sdk.navigateToMiniProgram(e.appid,e.load)},i.getPlayLevel=function(){var e=v.getLocalData("GameLevel");return e&&""!=e?JSON.parse(e):0},i.flushForSubGame=function(){this.on_btnSubPlay()},i.on_btnTest=function(){Global.ui.startLoadingBar(!1),c.getBundle("LobbyGamePlayCommon")?u.loadScene("LobbyGamePlay",(function(){})):c.loadBundle("LobbyGamePlayCommon",{},(function(){u.loadScene("LobbyGamePlay",(function(){}))}))},t}(z)).prototype,"SidebarUIPrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(re.prototype,"SettingPrefab",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(re.prototype,"AtlasUIPrefab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(re.prototype,"LobbyRankItemPrefab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=t(re.prototype,"DailyChallengeUIPrefab",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=t(re.prototype,"SkinUIPrefab",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=t(re.prototype,"RankUIPrefab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=t(re.prototype,"SelectAreaUIPrefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=t(re.prototype,"OtherGameUIPrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=t(re.prototype,"CallPeoplePrefab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=t(re.prototype,"SubGameUIPrefab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=t(re.prototype,"SubGameUIPrefab2",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=t(re.prototype,"SkinGetUIPrefab",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=t(re.prototype,"AddCollectUIPrefab",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=t(re.prototype,"ttAddDeskTopUIPrefab",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=t(re.prototype,"wxOfficialAccountUIPrefab",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=t(re.prototype,"FeedbackUIPrefab",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=t(re.prototype,"LobbyAnimUIPrefab",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=re))||le));i._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyAnimUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./EventEnum.ts"],(function(t){"use strict";var e,i,n,o,r,a,s,u,c,l,b,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,n=t.inheritsLoose,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,u=t.CCFloat,c=t.v3,l=t.view,b=t.tween},function(t){h=t.default},function(t){d=t.GameUIEvent}],execute:function(){var f,p,g,y,m,L,v,w,I,S,D,U,z,A;r._RF.push({},"73406wAsutIRoP0Naa0PUk3","LobbyAnimUI",void 0);var E=a.ccclass,P=a.property,_=t("LobbySingleBg",(f=E("LobbySingleBg"),p=P(s),g=P(u),y=P(u),f((v=e((L=function(){i(this,"targetNode",v,this),i(this,"scale",w,this),i(this,"weight",I,this)}).prototype,"targetNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(L.prototype,"scale",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),I=e(L.prototype,"weight",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=L))||m));t("LobbyAnimUI",(S=E("LobbyAnimUI"),D=P([_]),S((A=e((z=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"bgList",A,o(e)),e.curDayLenght=1e3,e.curDayScale=.5,e.addValue=0,e.moveSpeed=450,e.rotateSpeed=15,e.curDayTime=e.curDayLenght/e.moveSpeed/e.curDayScale,e.curTimer=.5*e.curDayTime,e}n(e,t);var r=e.prototype;return r.onLoad=function(){Global.uiEvent.on(d.Lobby_ShowLobbyAnimIdle,this.show,this),Global.uiEvent.on(d.Lobby_HideLobbyAnimIdle,this.hide,this)},r.start=function(){this.node.setPosition(c(-l.getVisibleSize().width,0,0))},r.onDestroy=function(){Global.uiEvent.targetOff(this)},r.update=function(t){this.frameUpdate(t)},r.frameUpdate=function(t){this.addValue+=t*this.moveSpeed,this.updateBgLayer(this.addValue)},r.updateBgLayer=function(t){this.bgList.forEach((function(e){var i=e.targetNode.getPosition(),n=t%(e.weight/e.scale)*e.scale;i.x=-n,e.targetNode.setPosition(i)}))},r.on_btnExit=function(){this.hide()},r.hide=function(){b(this.node).to(.5,{position:c(-l.getVisibleSize().width,0,0)},{easing:"sineInOut"}).start()},r.show=function(){b(this.node).to(.5,{position:c(0,0,0)},{easing:"sineInOut"}).start()},e}(h)).prototype,"bgList",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=z))||U));r._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyRankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameArgs.ts","./BaseSkin.ts","./UIBase.ts"],(function(e){"use strict";var t,i,a,r,o,n,s,l,h,c,p,u,d,f,b,g,y,S,m,k,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,s=e._decorator,l=e.SpriteFrame,h=e.Node,c=e.Prefab,p=e.view,u=e.clamp,d=e.instantiate,f=e.v3,b=e.Tween,g=e.log,y=e.tween,S=e.Animation},function(e){m=e.PrefabEnum},function(e){k=e.BaseSkin},function(e){v=e.default}],execute:function(){var w,L,N,C,_,F,P,D,T;n._RF.push({},"cbf89bC39NHPJSu96Wf5Els","LobbyRankItem",void 0);var A=s.ccclass,R=s.property;e("LobbyRankItem",(w=A("LobbyRankItem"),L=R([l]),N=R([h]),C=R(c),w((P=t((F=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,a(t,"rankSpList",P,r(t)),a(t,"showNodeList",D,r(t)),a(t,"playerFlag",T,r(t)),t._sp=void 0,t._rankT=void 0,t._itemNameT=void 0,t._itemCountT=void 0,t.isShow=!1,t.isSpawn=!1,t.curData=void 0,t.playerNode=void 0,t}i(t,e);var n=t.prototype;return n.onLoad=function(){this.uiTransform.width=p.getVisibleSize().width,this.uiTransform.height=p.getVisibleSize().height,Global.logicEvent.on("flushPlayerSkin",this.flushPlayerSkin,this)},n.onDestroy=function(){this.unscheduleAllCallbacks(),Global.logicEvent.targetOff(this)},n.initData=function(e,t){switch(this.curData=t,e){case 1:this._sp.$Sprite.spriteFrame=this.rankSpList[0];break;case 2:this._sp.$Sprite.spriteFrame=this.rankSpList[1];break;case 3:this._sp.$Sprite.spriteFrame=this.rankSpList[2];break;default:this._sp.$Sprite.spriteFrame=this.rankSpList[3]}this._sp.$Sprite.spriteFrame=this.rankSpList[u(e-1,0,3)],this._rankT.$Label.string="第"+e+"名",this._itemNameT.$Label.string=t.province+"队",this._itemCountT.$Label.string=""+t.score},n.showRole=function(){for(var e=this,t=this.showNodeList.length,i=function(t){e.scheduleOnce((function(){var i=e.showNodeList[t],a=Global.prefab.getNoolPrefab(m.BaseSkin);i.addChild(a),a.getComponent(k).initData(Math.ceil(22*Math.random())),a.setScale(0,0,0),y(a).to(.2,{scale:f(1,1,1)},{easing:"sineOut"}).delay(.01).call((function(){i.getComponent(S).play()})).start()}),Math.random())},a=0;a<t;a++)i(a);this.scheduleOnce((function(){if(Global.gameController.getAreaMsg()==e.curData.id){e.playerNode=e.showNodeList[Math.floor(Math.random()*t)];var i=Global.prefab.getNoolPrefab(m.BaseSkin);e.playerNode.destroyAllChildren(),e.playerNode.addChild(i),i.setScale(1.2,1.2,1.2),i.getComponent(k).initData(Global.gameController.curSkinId+1);var a=d(e.playerFlag);e.playerNode.addChild(a),a.setPosition(f(0,100,0))}}),1)},n.flushPlayerSkin=function(){var e=this;this.playerNode&&(this.playerNode.destroyAllChildren(),this.scheduleOnce((function(){var t=Global.prefab.getNoolPrefab(m.BaseSkin);e.playerNode.addChild(t),t.setScale(1.2,1.2,1.2),t.getComponent(k).initData(Global.gameController.curSkinId+1);var i=d(e.playerFlag);e.playerNode.addChild(i),i.setPosition(f(0,100,0))})))},n.clearRole=function(){this.unscheduleAllCallbacks();for(var e,t=o(this.showNodeList);!(e=t()).done;){var i=e.value;b.stopAllByTarget(i),i.destroyAllChildren()}},n.refreshShow=function(){this.isShow&&!this.isSpawn?(this.showRole(),this.isSpawn=!0,g("可以显示")):this.isShow||(this.isSpawn=!1,this.clearRole())},t}(v)).prototype,"rankSpList",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(F.prototype,"showNodeList",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(F.prototype,"playerFlag",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=F))||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/MoveNail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./CommonUtils.ts"],(function(i){"use strict";var t,n,e,a,o,p,l,r,s,c;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,p=i._decorator,l=i.sp,r=i.UIOpacity},function(i){s=i.default},function(i){c=i.CommonUtils}],execute:function(){var u,h,S,f,y;o._RF.push({},"ce6d6A6yHZN3o9eicH7f2Lh","MoveNail",void 0);var v=p.ccclass,m=p.property;i("MoveNail",(u=v("MoveNail"),h=m(l.Skeleton),u((y=t((f=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),p=0;p<n;p++)o[p]=arguments[p];return t=i.call.apply(i,[this].concat(o))||this,e(t,"nailSpine",y,a(t)),t.nailSpineOpa=void 0,t._nailSp=void 0,t.curColor=void 0,t.curType=void 0,t}n(t,i);var o=t.prototype;return o.onLoad=function(){this.nailSpineOpa=this.nailSpine.getComponent(r),this.nailSpine.setCompleteListener((function(){}))},o.initData=function(i,t){this.curColor=i,this.curType=t;var n=i+1;this.refreshNailSp(),this.nailSpine.setSkin(n>=10?""+n:"0"+n),this.nailSpineOpa.opacity=0},o.refreshNailSp=function(){1==this.curType||(this._nailSp.$Sprite.spriteFrame=Global.art.getNailTexture(c.getNailPrefixByColor(this.curColor)+2))},o.playUp=function(){this._nailSp.active=!1,this.nailSpineOpa.opacity=255,1==this.curType?this.nailSpine.setAnimation(0,"animation2",!1):this.nailSpine.setAnimation(0,"animation",!1)},o.playDown=function(){this._nailSp.active=!1,this.nailSpineOpa.opacity=255,1==this.curType?this.nailSpine.setAnimation(0,"animation4",!1):this.nailSpine.setAnimation(0,"animation3",!1)},o.hide=function(){this.nailSpineOpa.opacity=0,this._nailSp.active=!1},o.show=function(){this.nailSpineOpa.opacity=255,this._nailSp.active=!0},t}(s)).prototype,"nailSpine",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=f))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/NetEnum.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var r;e("ServerRequestActionEnum",void 0),t._RF.push({},"cefa9AN+FxPrbIHjivbj/Ik","NetEnum",void 0),function(e){e.Active="active",e.ReportVideo="report_video",e.PullData="pull_data",e.ReportData="report_data"}(r||(r=e("ServerRequestActionEnum",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/nodePool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,i,n,r,l,a,u,c,s,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Node,u=t.CCInteger,c=t.NodePool,s=t.instantiate,p=t.Component}],execute:function(){var m,y,f,d,h,P;r._RF.push({},"dd6016BXklNyKvKsQPhtzDN","nodePool",void 0);var N=l.ccclass,v=l.property;t("default",(m=v({displayName:"子项模板",tooltip:"子项模板",type:a}),y=v({displayName:"预创建的预制体数量",tooltip:"预创建的预制体数量",type:u}),N((h=e((d=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"itemNode",h,n(e)),i(e,"itemNum",P,n(e)),e.myPool=null,e}o(e,t);var r=e.prototype;return r.onLoad=function(){this.createPool()},r.onEnable=function(){},r.onDisable=function(){},r.createPool=function(){this.myPool=new c;for(var t=0;t<this.itemNum;++t){var e=s(this.itemNode);this.myPool.put(e)}},r.getItem=function(){return this.myPool.size()>0?this.myPool.get():s(this.itemNode)},r.recoveryItem=function(t){this.myPool.put(t)},r.clearPool=function(){this.myPool.clear()},e}(p)).prototype,"itemNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(d.prototype,"itemNum",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),f=d))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/NodePoolManage.ts",["cc"],(function(o){"use strict";var e,t,l,r;return{setters:[function(o){e=o.cclegacy,t=o._decorator,l=o.NodePool,r=o.instantiate}],execute:function(){e._RF.push({},"832c3m/2YlJtoZQLXVWLfY3","NodePoolManage",void 0);t.ccclass,t.property,o("NodePoolManage",function(){function o(){this.poolMsg={}}var e=o.prototype;return e.createPool=function(o,e,t){if(void 0===t&&(t=10),this.poolMsg[o])console.log("已有对象池 ",o);else if(null!=e){var n=new l;this.poolMsg[o]={pool:n,ready:!1,item:e};for(var s=0;s<t;++s){var c=r(e);n.put(c)}this.poolMsg[o].ready=!0}else console.log("对象为空 ",o)},e.getItem=function(o,e){var t=this.poolMsg[o];if(t){if(t.ready){var l=t.pool,n=null;return n=l.size()>0?l.get():r(t.item),e&&n&&e(n),n}console.log("对象池子项未创建 ",o)}else console.log("对象池未创建 ",o)},e.recoveryItem=function(o,e){var t=this.poolMsg[o];return t?t.ready?void t.pool.put(e):(console.log("对象池子项未创建 ",o),void e.removeFromParent()):(console.log("对象池未创建 ",o),void e.removeFromParent())},e.clearPool=function(o){var e=this.poolMsg[o];e?e.ready?(e.pool.clear(),delete this.poolMsg[o]):console.log("对象池子项未创建 ",o):console.log("对象池未创建 ",o)},o}());e._RF.pop()}}}));

System.register("chunks:///_virtual/OfficialAccount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(e){"use strict";var t,i,n,a,o,c,s,r,l,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,s=e.ImageAsset,r=e.Node,l=e.log},function(e){u=e.UIHideAnimType,h=e.default}],execute:function(){var f,p,v,d,S;o._RF.push({},"8a2f1AbGk9Kmbe8M0f11PYv","OfficialAccount",void 0);var T=c.ccclass,g=c.property;e("OfficialAccount",(f=T("OfficialAccount"),p=g(s),f((S=t((d=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,n(t,"SaveSp",S,a(t)),t._SaveImage=void 0,t}i(t,e);var o=t.prototype;return o.onLoad=function(){this._SaveImage.on(r.EventType.TOUCH_START,this.startTouch,this),this._SaveImage.on(r.EventType.TOUCH_CANCEL,this.endTouch,this),this._SaveImage.on(r.EventType.TOUCH_END,this.endTouch,this)},o.on_btnClose=function(){this.hideUI(u.fadeHide,!0)},o.startTouch=function(){var e=this;l("开始删除存档"),this.scheduleOnce((function(){console.log(e.SaveSp.nativeUrl),Global.sdk.SaveImage(e.SaveSp.nativeUrl)}),2)},o.endTouch=function(){l("停止删除存档"),this.unscheduleAllCallbacks()},t}(h)).prototype,"SaveSp",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=d))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/OtherGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./scrollViewCtr.ts","./UIBase.ts"],(function(e){"use strict";var t,a,o,n,i,r,s,l,m,c,u;return{setters:[function(e){t=e.inheritsLoose,a=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,n=e._decorator,i=e.Label,r=e.instantiate,s=e.Sprite,l=e.log},function(e){m=e.default},function(e){c=e.UIHideAnimType,u=e.default}],execute:function(){var h;o._RF.push({},"7b95eT2btRIUa0qlR6x9B+F","OtherGame",void 0);var p=n.ccclass;n.property,e("OtherGame",p("OtherGame")(h=function(e){function o(){for(var t,a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))||this)._gameTypeItem=void 0,t._GameView=void 0,t.useRemoteData=!1,t}t(o,e);var n=o.prototype;return n.onLoad=function(){this.flushView()},n.flushView=function(){this._gameTypeItem.active=!1;var e=Global.sdk.getAllOtherGameDataList();0==e.length?e=Global.data.getOtherGameConfig():this.useRemoteData=!0,this._GameView.getComponent(m).dataList=e.filter((function(e){return e.isShow}))},n.flushItem=function(e,t,o){e.getChildByName("GameName").getComponent(i).string=t.GameName;for(var n,l=t.GameType,m=a(l);!(n=m()).done;){var c=n.value,u=r(this._gameTypeItem);u.active=!0,u.parent=e.getChildByName("typeList"),u.getChildByName("context").getComponent(i).string=c}this.useRemoteData?Global.art.getRemoteSprite(t.IconName,(function(t){e.getChildByName("icon").getComponent(s).spriteFrame=t})):e.getChildByName("icon").getComponent(s).spriteFrame=Global.art.getOtherGameIcon(t.IconName)},n.onClickBtn=function(e,t){var a=this._GameView.getComponent(m).getDataByUuid(e.target.parent.uuid);l("前往游戏："+a.GameId),Global.sdk.navigateToMiniProgram(a.appid,a.load)},n.on_btnClose=function(){this.hideUI(c.fadeHide,!0)},o}(u))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/OtherGameData.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"20ec55o06VDp64Cr2x1JtL8","OtherGameData",void 0);t("OtherGameData",(function(){this.GameId=void 0,this.GameName=void 0,this.IconName=void 0,this.GameType=void 0,this.load=void 0,this.appid=void 0,this.isShow=void 0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/PersistRootCanvas.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,e,s,r,n;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,r=t.director,n=t.Component}],execute:function(){var i;e._RF.push({},"0ed80hRfQJKC5aLRc8rLkT0","PersistRootCanvas",void 0);var a=s.ccclass;s.property,t("PersistRootCanvas",a("PersistRootCanvas")(i=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){Global.persistRootCanvas?this.node.destroy():(Global.persistRootCanvas=this,this.node.removeFromParent(),r.getScene().addChild(this.node),r.addPersistRootNode(this.node))},e}(n))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/PrefabManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameArgs.ts","./NodePoolManage.ts"],(function(e){"use strict";var r,o,t,a,n,i,l,f,P;return{setters:[function(e){r=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,t=e._decorator,a=e.resources,n=e.Prefab,i=e.log},function(e){l=e.ResourcesArgs,f=e.PrefabEnum},function(e){P=e.NodePoolManage}],execute:function(){o._RF.push({},"43dd7chrwBN8I+b238oANM+","PrefabManager",void 0);t.ccclass,t.property,e("PrefabManager",function(){function e(){this.Pool=void 0,this.levelPrefabList=[]}var o=e.prototype;return o.init=function(e,r){var o=this;this.Pool=new P;return a.load(l.PrefabDirectory+l.BoxDirectory+l.BoxPrefabName,n,(function(t,a){t?r("未找到BoxPrefab的预制体数据!"):(o.Pool.createPool(f.Box,a,5),e("BoxPrefab的预制体数据加载完毕!"))})),1,a.load(l.PrefabDirectory+l.EnergyDirectory+l.GlodPrefabName,n,(function(t,a){t?r("未找到GlodPrefab的预制体数据!"):(o.Pool.createPool(f.GlodItem,a,5),e("GlodPrefab的预制体数据加载完毕!"))})),1,a.load(l.PrefabDirectory+l.SingleDirectory+l.RandomPropPrefabName,n,(function(t,a){t?r("未找到RandomPropPrefabName的预制体数据!"):(o.Pool.createPool(f.RandomProp,a,5),e("RandomPropPrefabName的预制体数据加载完毕!"))})),1,a.load(l.PrefabDirectory+l.SkinDirectory+l.BaseSkinPrefabName,n,(function(t,a){t?r("未找到BaseSkinPrefab的预制体数据!"):(o.Pool.createPool(f.BaseSkin,a,20),e("BaseSkinPrefab的预制体数据加载完毕!"))})),1,a.load(l.PrefabDirectory+l.UIDirectory+l.FlutterStrUIPrefabName,n,(function(t,a){t?r("未找到FlutterStrUIPrefab的预制体数据!"):(o.Pool.createPool(f.Fluttering,a,5),e("FlutterStrUIPrefab的预制体数据加载完毕!"))})),1,i("PrefabManager:",5),5},o.getNoolPrefab=function(e,r){return void 0===r&&(r=null),this.Pool.getItem(e,r)},o.DestroyPrefab=function(e,r){this.Pool.recoveryItem(e,r)},o.getLevelPrefabByName=function(e,o){void 0===o&&(o=function(){});for(var t,a=null,n=r(this.levelPrefabList);!(t=n()).done;){var i=t.value;i.name==e&&(a=i)}a?o(a):this.loadLevelPrefabByName(e,o)},o.loadLevelPrefabByName=function(e,r){var o=this;void 0===r&&(r=function(e){}),a.load(l.PrefabDirectory+l.LevelDirectory+"/"+e,n,(function(e,t){e?i("加载关卡失败！"):(o.addPrefabToLevelList(t),r(t))}))},o.addPrefabToLevelList=function(e){this.levelPrefabList.length>=5&&this.levelPrefabList.shift(),this.levelPrefabList.push(e)},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/PropUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameArgs.ts","./UIBase.ts"],(function(t){"use strict";var e,i,s,r,n,o,a,c,p,l,h,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,a=t.SpriteFrame,c=t.v3,p=t.tween},function(t){l=t.PropId},function(t){h=t.UIHideAnimType,u=t.default}],execute:function(){var d,b,f,_,y,v,g;n._RF.push({},"2e0fbw31qhN0bPrcnH9SRlo","PropUI",void 0);var I=o.ccclass,U=o.property;t("PropUI",(d=I("PropUI"),b=U([a]),f=U([a]),d((v=e((y=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,s(e,"spList",v,r(e)),s(e,"titleList",g,r(e)),e.stringList=["新增一个螺丝洞","熔掉一块玻璃","清空所有孔位上的螺丝"],e._propName=void 0,e._propIcon=void 0,e._propContent=void 0,e.type=0,e.callback=void 0,e._btnClose=void 0,e._btnAdUse=void 0,e._btnShareUse=void 0,e}i(e,t);var n=e.prototype;return n.onLoad=function(){var t=Global.sdk.getShareType(0);this._btnAdUse.active=0==t,this._btnShareUse.active=1==t},n.init=function(t,e){switch(t){case l.AddGrid:this.type=0;break;case l.Hammer:this.type=1;break;case l.ClearGrid:this.type=2}this._propName.$Sprite.spriteFrame=this.titleList[this.type],this._propIcon.$Sprite.spriteFrame=this.spList[this.type],this._propContent.$Label.string="",this.callback=e,this.playStarAc()},n.playStarAc=function(){var t=this;this._propIcon.scale=c(0,0,0),this._propIcon.angle=-30,p(this._propIcon).to(.25,{scale:c(1,1,1),angle:0},{easing:"backOut"}).start(),this._propName.scale=c(0,1,0),p(this._propName).to(.25,{scale:c(1,1,1)},{easing:"backOut"}).start();for(var e=this.stringList[this.type].split(""),i=.15/e.length,s=1;s<=e.length;s++)this.scheduleOnce((function(){t._propContent.$Label.string+=e.shift()}),i*s)},n.on_btnClose=function(){this.showCloseAc()},n.on_btnAdUse=function(){this.callback&&this.callback(),this.hideUI(h.fadeHide,!0)},n.on_btnShareUse=function(){this.callback&&this.callback(),this.hideUI(h.fadeHide,!0)},n.showCloseAc=function(){this.hideUI(h.fadeHide,!0)},e}(u)).prototype,"spList",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=e(y.prototype,"titleList",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=y))||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/ProvinceRankData.ts",["cc"],(function(t){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"27554GXxSlNPqGJt/RTjopc","ProvinceRankData",void 0);t("ProvinceRankData",(function(){this.id=0,this.province="",this.score=0}));c._RF.pop()}}}));

System.register("chunks:///_virtual/RankData.ts",["cc"],(function(t){"use strict";var a;return{setters:[function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"6c7d1AnkiNJf6wEnsG35CcV","RankData",void 0);t("RankData",(function(){this.userId="",this.nickName="",this.avatarUrl="",this.province=0,this.score=0,this.kvData=""}));a._RF.pop()}}}));

System.register("chunks:///_virtual/RankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(r){"use strict";var t,a,n,i,e,o,s,p;return{setters:[function(r){t=r.applyDecoratedDescriptor,a=r.inheritsLoose,n=r.initializerDefineProperty,i=r.assertThisInitialized},function(r){e=r.cclegacy,o=r._decorator,s=r.SpriteFrame},function(r){p=r.default}],execute:function(){var c,k,l,u,v,_,h;e._RF.push({},"07417D3xLtGy5NW0fRwuVnU","RankItem",void 0);var S=o.ccclass,g=o.property;r("RankItem",(c=S("RankItem"),k=g([s]),l=g([s]),c((_=t((v=function(r){function t(){for(var t,a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return t=r.call.apply(r,[this].concat(e))||this,n(t,"rankSp",_,i(t)),n(t,"rankBgSp",h,i(t)),t._rankIconSp=void 0,t._rankIconT=void 0,t._rankNameT=void 0,t._rankValueT=void 0,t._rankBgSp=void 0,t._rankAvatar=void 0,t._rankAvatarSp=void 0,t}return a(t,r),t.prototype.initData=function(r,t,a,n,i){var e=this;void 0===i&&(i=!1),this._rankIconSp.active=!1,this._rankIconT.active=!1,r>0&&r<4?(this._rankIconSp.active=!0,this._rankIconSp.$Sprite.spriteFrame=this.rankSp[r-1],this._rankBgSp.$Sprite.spriteFrame=this.rankBgSp[r-1]):-1!=r?(this._rankIconT.active=!0,this._rankIconT.$Label.string=""+r,i||(this._rankBgSp.$Sprite.spriteFrame=this.rankBgSp[3])):(this._rankIconT.active=!0,this._rankIconT.$Label.string="未上榜",i||(this._rankBgSp.$Sprite.spriteFrame=this.rankBgSp[3])),this._rankNameT.$Label.string=t,this._rankValueT.$Label.string=""+a,"-1"==n?this._rankAvatar.active=!1:(this._rankAvatar.active=!0,Global.art.getWXAvatarSp(n,(function(r){null!=e._rankAvatarSp&&(e._rankAvatarSp.$Sprite.spriteFrame=r)})))},t}(p)).prototype,"rankSp",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=t(v.prototype,"rankBgSp",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=v))||u));e._RF.pop()}}}));

System.register("chunks:///_virtual/RankUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonUtils.ts","./UIBase.ts","./RankItem.ts"],(function(e){"use strict";var t,i,r,n,a,o,s,h,c,l,u,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Prefab,h=e.instantiate},function(e){c=e.CommonUtils},function(e){l=e.UIShowAnimType,u=e.UIHideAnimType,d=e.default},function(e){f=e.RankItem}],execute:function(){var y,p,v,w,I,m,b;a._RF.push({},"27bc1yY2XVMX7OWZhee9HhI","RankUI",void 0);var P=o.ccclass,_=o.property;e("RankUI",(y=P("RankUI"),p=_(s),v=_(f),y((m=t((I=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"rankItemPrefab",m,n(t)),r(t,"playerItem",b,n(t)),t._content=void 0,t.curShowType=-1,t._btnQuanSheng=void 0,t._hideBtn1=void 0,t._showBtn1=void 0,t._btnQuanGuo=void 0,t._hideBtn2=void 0,t._showBtn2=void 0,t.curIndex=void 0,t.curPlayerPro=void 0,t.curPlayer=void 0,t}i(t,e);var a=t.prototype;return a.initData=function(){var e=this;Global.sdk.getNationalPlayerRankListByServer((function(){e.refreshShow()})),this.swtichShowType(0)},a.swtichShowType=function(e){e!=this.curShowType&&(this.curShowType=e,this.refreshBtn(),(0==e||1==e)&&this.refreshShow())},a.refreshBtn=function(){switch(this._hideBtn1.active=!0,this._showBtn1.active=!1,this._hideBtn2.active=!0,this._showBtn2.active=!1,this.curShowType){case 0:this._hideBtn1.active=!1,this._showBtn1.active=!0;break;case 1:this._hideBtn2.active=!1,this._showBtn2.active=!0}},a.refreshShow=function(){var e=this;if(this.node)if(this.curIndex=0,this._content.destroyAllChildren(),this.unscheduleAllCallbacks(),0==this.curShowType){Global.gameController.nationalRankList.forEach((function(t,i){t.id==Global.gameController.getAreaMsg()&&(e.curIndex=i+1,e.curPlayerPro=t),e.scheduleOnce((function(){var r=h(e.rankItemPrefab);e._content.addChild(r);var n=r.getComponent(f);n.initData(i+1,t.province,t.score,"-1"),n.showUI(l.fadeShow)}),.02*i)})),this.refreshPlayer()}else if(1==this.curShowType){Global.gameController.nationalPlayerRankList.forEach((function(t,i){t.userId==Global.sdk.getCurUserOpenId()&&(e.curIndex=i+1,e.curPlayer=t),e.scheduleOnce((function(){var r=h(e.rankItemPrefab);e._content.addChild(r);var n=r.getComponent(f);n.initData(i+1,t.nickName,t.score,t.avatarUrl),n.showUI(l.fadeShow)}),.02*i)})),this.refreshPlayer()}},a.on_btnQuanSheng=function(){this.swtichShowType(0)},a.on_btnQuanGuo=function(){this.swtichShowType(1)},a.refreshPlayer=function(){if(0==this.curShowType)this.curPlayerPro?this.playerItem.initData(this.curIndex,this.curPlayerPro.province,this.curPlayerPro.score,"-1",!0):this.playerItem.initData(-1,"未知省份",0,"-1",!0);else if(1==this.curShowType)if(this.curPlayer)this.playerItem.initData(this.curIndex,this.curPlayer.nickName,this.curPlayer.score,this.curPlayer.avatarUrl,!0);else{var e=c.getLocalData("GameLevel");this.playerItem.initData(-1,Global.sdk.getCurUserNickName(),Number(""==e?"1":e),Global.sdk.wx_playerAvatarUrl,!0)}},a.on_btnClose=function(){this.hideUI(u.fadeHide,!0)},t}(d)).prototype,"rankItemPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(I.prototype,"playerItem",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=I))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/ReviveUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameArgs.ts","./UIBase.ts"],(function(e){"use strict";var i,t,a,o,s,l,r,n,d,c,h,v;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,l=e._decorator,r=e.SpriteFrame},function(e){n=e.PropId,d=e.ADTargetType,c=e.ShareTargetType},function(e){h=e.UIHideAnimType,v=e.default}],execute:function(){var u,b,p,G,f;s._RF.push({},"7c5edqiEmJA+btbGdc4KIf1","ReviveUI",void 0);var k=l.ccclass,U=l.property;e("ReviveUI",(u=k("ReviveUI"),b=U([r]),u((f=i((G=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return i=e.call.apply(e,[this].concat(s))||this,a(i,"spList",f,o(i)),i.srcGameUI=void 0,i.type=void 0,i._propName=void 0,i._propIcon=void 0,i._propContent=void 0,i.callback=void 0,i.stringList=["复活并清空所有孔位上的螺丝","复活并获得一个盒子"],i._btnAdUse=void 0,i._btnShareUse=void 0,i._btnNewShareUse=void 0,i}t(i,e);var s=i.prototype;return s.onLoad=function(){Global.uiEvent.on("HideRevive",this.hide,this);var e=Global.sdk.getShareType(1);this._btnAdUse.active=0==e,this._btnShareUse.active=1==e,this._btnNewShareUse.active=!1},s.onDestroy=function(){this.srcGameUI.inRevive=!1,Global.uiEvent.targetOff(this)},s.init=function(e,i,t){switch(this.srcGameUI=e,this.srcGameUI.inRevive=!0,i){case n.ClearGrid:this.type=0;break;case n.AddBox:this.type=1}this._propIcon.$Sprite.spriteFrame=this.spList[this.type],this._propContent.$Label.string=this.stringList[this.type],this.callback=t},s.hide=function(){this.hideUI(h.fadeHide,!0)},s.on_btnClose=function(){this.srcGameUI.ShowGameFail(),this.hide()},s.on_btnAdUse=function(){this.callback&&this.callback()},s.on_btnShareUse=function(){this.callback&&this.callback()},s.on_btnNewShareUse=function(){this.callback&&this.callback()},s.on_btnGiveUp=function(){this.srcGameUI.ShowGameFail(),this.hideUI(h.fadeHide,!0)},s.callNewRevive=function(e){switch(void 0===e&&(e=0),this.type){case 0:if(0==e){if(Global.sdk.checkShowAd())return Global.sdk.addCurNewReviveCount(1),void Global.sdk.showAd(d.ClearGrid,1);Global.uiEvent.emit("HideRevive"),Global.gameUI.ClearTempSlot()}else{if(Global.sdk.checkShowAd())return Global.sdk.addCurNewReviveCount(1),Global.sdk.share(c.ClearGrid),void Global.sdk.setTEShareType("复活");Global.uiEvent.emit("HideRevive"),Global.gameUI.ClearTempSlot()}break;case 1:if(0==e){if(Global.sdk.checkShowAd())return Global.sdk.addCurNewReviveCount(1),void Global.sdk.showAd(d.AddBox,1);Global.uiEvent.emit("HideRevive"),Global.gameUI.AddBox(1==Global.sdk.curABTestGroup)}else{if(Global.sdk.checkShowAd())return Global.sdk.addCurNewReviveCount(1),Global.sdk.share(c.AddBox),void Global.sdk.setTEShareType("复活");Global.uiEvent.emit("HideRevive"),Global.gameUI.AddBox(1==Global.sdk.curABTestGroup)}}Global.sdk.addCurNewReviveCount(1)},i}(v)).prototype,"spList",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=G))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/RewardGoodsData.ts",["cc"],(function(o){"use strict";var t;return{setters:[function(o){t=o.cclegacy}],execute:function(){t._RF.push({},"7e535EaGwFAJ58V3+oCZPnO","RewardGoodsData",void 0);o("RewardGoodsData",(function(){this.GoodsId=void 0,this.GoodsName=void 0,this.ImgName=void 0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Script",["./BoxData.ts","./EventGHandler.ts","./AreaData.ts","./CallPeopleData.ts","./CallPeopleGameData.ts","./LevelData.ts","./LevelGameData.ts","./OtherGameData.ts","./ProvinceRankData.ts","./RankData.ts","./RewardGoodsData.ts","./SimpleNailData.ts","./SkinData.ts","./ZodiacLevelData.ts","./ZodiacLevelGameData.ts","./SubGameData.ts","./DataEnum.ts","./EventEnum.ts","./GameArgs.ts","./NetEnum.ts","./BaseBox.ts","./BoxSlot.ts","./TempBox.ts","./GameController.ts","./hammerTouch.ts","./BaseLayer.ts","./BaseNail.ts","./MoveNail.ts","./TestTail.ts","./BasePlank.ts","./BaseTempSlot.ts","./TimeController.ts","./BaseWall.ts","./tdanalytics.mg.cocoscreator.min.mjs_cjs=&original=.js","./tool_sprite_button.ts","./ArtManager.ts","./DataManager.ts","./GlobalManager.ts","./PrefabManager.ts","./SoundManager.ts","./UIManager.ts","./ExportOtherGameController.ts","./SdkController.ts","./AtlasUI.ts","./CallPeopleUI.ts","./FlutterStrUI.ts","./LoadingBarUI.ts","./LoadingUI.ts","./PersistRootCanvas.ts","./TipStrUI.ts","./DailyChallengeUI.ts","./EnergyItem.ts","./FeedbackUI.ts","./ForceSubGameUI.ts","./GameFail.ts","./GameSuccess.ts","./GameUI.ts","./LevelUI.ts","./GuideUI.ts","./H5LoginUI.ts","./HandShankUI.ts","./LobbyAnimUI.ts","./Lobby.ts","./OfficialAccount.ts","./OtherGame.ts","./PropUI.ts","./LobbyRankItem.ts","./RankItem.ts","./RankUI.ts","./ReviveUI.ts","./SelectArea.ts","./SettingUI.ts","./ShowPath.ts","./SiderbarUI.ts","./BaseSkin.ts","./SkinGetUI.ts","./SkinItem.ts","./SkinUI.ts","./SubGame.ts","./SubGame2.ts","./SubGame3.ts","./UIBase.ts","./ttAddDesktop.ts","./wxAddCollectUI.ts","./ArrayUtils.ts","./CommonUtils.ts","./GridUtil.ts","./NodePoolManage.ts","./nodePool.ts","./ListView.ts","./ClickEventHandler.ts","./Clickable.ts","./Common.ts","./scrollViewCtr.ts","./scrollViewPack.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/scrollViewCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,r,o,a,l,u,c,s,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,n=t.inheritsLoose,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,l=t._decorator,u=t.Node,c=t.CCInteger,s=t.Component,h=t.PageView,p=t.instantiate}],execute:function(){var m,d,f,y,v,g,b,I,N,D,C,L,T,w,_,F,z,A,P,x,B,M,k,E;a._RF.push({},"a5b9fx9kPhHEZe7/CzE/CA0","scrollViewCtr",void 0);var V=l.ccclass,H=l.property,O=t("multipleItemMsg",(m=V("multipleItemMsg"),d=H({displayName:"子项类型",tooltip:"子项类型"}),f=H({displayName:"子项模板",tooltip:"列表容器里的子项模板",type:u}),m((g=e((v=function(){i(this,"itemType",g,this),i(this,"itemNode",b,this)}).prototype,"itemType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=e(v.prototype,"itemNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));t("default",(I=H({displayName:"content节点",tooltip:"content节点",type:u}),N=H({displayName:"子项模板",tooltip:"列表容器里的子项模板",type:u,visible:function(){return!this.multipleType}}),D=H({displayName:"子项模板",tooltip:"列表容器里的子项模板",type:[O],visible:function(){return this.multipleType}}),C=H({displayName:"多子项模式",tooltip:"在 dataList 里加入 itemType 字段获取对应的子项模板"}),L=H({displayName:"预创建的预制体数量",tooltip:"预创建的预制体数量",type:c,visible:function(){return!this.multipleType}}),T=H({displayName:"刷新子项函数",tooltip:"用于刷新子项的显示内容",type:s.EventHandler}),w=H({type:Array,visible:!1}),_=H({visible:!1,type:Array}),V((A=e((z=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"connect",A,r(e)),i(e,"itemNode",P,r(e)),i(e,"multipleItem",x,r(e)),i(e,"multipleType",B,r(e)),i(e,"itemNum",M,r(e)),i(e,"flushFunc",k,r(e)),i(e,"_dataList",E,r(e)),e.uuidDic=void 0,e}n(e,t);var a=e.prototype;return a.setDataList=function(t,e){this._dataList=t,this.flushItem(e)},a.notify=function(t,e){this.flushItem()},a.getItem=function(t){var e;for(var i in void 0===t&&(t=""),this.connect.children){var n=this.connect.children[i];if(!n.active){n.active=!0,e=n;break}}return e||(e=this.createItem(t),this.node.getComponent(h)?this.node.getComponent(h).addPage(e):this.connect&&e&&(e.parent=this.connect),e&&(e.active=!0),console.log("创建新的 item")),e},a.deleItem=function(){for(var t in this.connect.children){var e=this.connect.children[t];return void this.recoveryItem(e)}},a.getItemTemp=function(t){for(var e in this.multipleItem){var i=this.multipleItem[e];if(i.itemType==t)return i.itemNode}},a.createItem=function(t){var e;return void 0===t&&(t=""),this.multipleType?e=p(this.getItemTemp(t)):this.itemNode&&this.itemNode.isValid&&(e=p(this.itemNode)),e},a.hideAllItem=function(){for(var t in this.connect.children){this.connect.children[t].active=!1}},a.recoveryItem=function(t){var e=this.connect.children.length;this.getDataNum()<=e?this.node.getComponent(h)?this.node.getComponent(h).removePage(t):(t.removeFromParent(),t.destroy()):t.active=!1},a.onLoad=function(){if(!this.multipleType)for(var t=0;t<this.itemNum;t++){var e=this.createItem();e.active=!1,this.node.getComponent(h)?this.node.getComponent(h).addPage(e):e.parent=this.connect}this.uuidDic||(this.uuidDic=new Map)},a.onEnable=function(){},a.onDisable=function(){},a.onDestroy=function(){this.uuidDic&&(this.uuidDic.clear(),this.uuidDic=null)},a.getIndexByUuid=function(t){return this.uuidDic.get(t)},a.getDataByUuid=function(t){var e=this.uuidDic.get(t);return this.dataList[e]},a.getDataByIndex=function(t){return this.dataList[t]},a.getDataNum=function(){var t=0;for(var e in this.dataList)t++;return t},a.getItemByIndex=function(t){return this.connect.children[t]},a.removeAllItem=function(){this.connect.removeAllChildren()},a.flushItem=function(t){var e=this;void 0===t&&(t=!1);var i=this.connect.children.length,n=this.getDataNum();if(this.multipleType)this.connect.removeAllChildren();else if(n<=i)for(var r=n;r<i;r++)this.deleItem();this.hideAllItem(),this.uuidDic?this.uuidDic.clear():this.uuidDic=new Map;var o=function(i){var n=e.dataList[i];if(t)e.scheduleOnce((function(){var t=e.getItem(n.itemType);t&&(t.active=!0,e._flushCallFunc(t,n,Number(i)))}),.05*Math.floor(.2*Number(i)));else{var r=e.getItem(n.itemType);r&&(r.active=!0,e._flushCallFunc(r,n,Number(i)))}};for(var a in this.dataList)o(a)},a.hideSpecialty=function(){for(var t in this.connect.children){var e=this.connect.children[t].getChildByName("shuxing");for(var i in e.children)(e.children[i].active=!0)&&(e.children[i].active=!1)}},a.flushItemByIndex=function(t){var e=this.connect.children[t];e&&this._flushCallFunc(e,this.getDataByIndex(t),t)},a._flushCallFunc=function(t,e,i){if(this.uuidDic.set(t.uuid,i),this.flushFunc&&this.flushFunc.length)for(var n in this.flushFunc){var r=this.flushFunc[n],o=r.target.getComponent(r._componentName);o[r.handler].bind(o)(t,e,i)}},o(e,[{key:"dataList",get:function(){return this._dataList},set:function(t){this._dataList=t,this.notify(this._dataList,t)}}]),e}(s)).prototype,"connect",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(z.prototype,"itemNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(z.prototype,"multipleItem",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(z.prototype,"multipleType",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=e(z.prototype,"itemNum",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),k=e(z.prototype,"flushFunc",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=e(z.prototype,"_dataList",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),e(z.prototype,"dataList",[_],Object.getOwnPropertyDescriptor(z.prototype,"dataList"),z.prototype),F=z))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/scrollViewPack.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,n,e,i,c,s,r,a;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,i=t.UITransform,c=t.v3,s=t.tween,r=t.size,a=t.ScrollView}],execute:function(){var h;n._RF.push({},"b5f55penQ1Huo6z0RKl/xmp","scrollViewPack",void 0);var l=e.ccclass;e.property,t("scrollViewPack",l("scrollViewPack")(h=function(t){function n(){for(var o,n=arguments.length,e=new Array(n),c=0;c<n;c++)e[c]=arguments[c];return(o=t.call.apply(t,[this].concat(e))||this).saveHorizontal=void 0,o.saveVertical=void 0,o.changeLockFlag=void 0,o.tweenTar=void 0,o.addDis=function(t){var o=this.content.getComponent(i),n=this.node.getComponent(i),e=o.width*o.anchorX-n.width*o.anchorX,c=o.width*(1-o.anchorX)-n.width*(1-n.anchorX),s=o.height*o.anchorY-n.height*n.anchorY,r=o.height*(1-o.anchorY)-n.height*(1-n.anchorY);e<0&&(e=0),c<0&&(c=0),s<0&&(s=0),r<0&&(r=0);var a=-c,h=e,l=-s,p=r;o&&(o.x+=t.x,o.y+=t.y,o.x<a&&(o.x=a),o.x>h&&(o.x=h),o.y<l&&(o.y=l),o.y>p&&(o.y=p))},o.fixPos=function(t){var o=this.content.parent.getComponent(i),n=r(this.content.getComponent(i).width,this.content.getComponent(i).height),e=this.content.scaleX,c=this.content.scaleY,s=(t.y+n.height*(1-this.content.getComponent(i).anchorY))*c;s<o.height/2&&(t.y+=o.height/2-s);var a=(t.y-n.height*this.content.getComponent(i).anchorY)*c;a>-o.height/2&&(t.y-=a+o.height/2);var h=(t.x-n.width*this.content.getComponent(i).anchorX)*e;h>-o.width/2&&(t.x-=h+o.width/2);var l=(t.x+n.width*(1-this.content.getComponent(i).anchorX))*e;l<o.width/2&&(t.x+=o.width/2-l)},o}o(n,t);var e=n.prototype;return e.onLoad=function(){this.changeLockFlag=!1,this.saveHorizontal=this.horizontal,this.saveVertical=this.vertical},e.getWorldPos=function(t){return t.parent.getComponent(i).convertToWorldSpaceAR(t.getPosition())},e.worldPosToSpacePos=function(t,o){return t.getComponent(i).convertToNodeSpaceAR(o)},e.nodeSpacePosToNodeSpacePos=function(t,o){var n=this.getWorldPos(t);return this.worldPosToSpacePos(o,n)},e.lockScroll=function(){this.horizontal=!1,this.vertical=!1},e.resumeScroll=function(){this.horizontal=this.saveHorizontal,this.vertical=this.saveVertical},e.scrollToPos=function(t,o,n){var e=this;void 0===o&&(o=1e3),void 0===n&&(n=null),this.fixPos(t);var i=this.content.getPosition(),r=c(t.x-i.x,t.y-i.y,t.z-i.z).length()/o;this.tweenTar&&this.tweenTar.stop(),this.tweenTar=s(this.content).to(r,{position:c(t.x,t.y,t.z)}).call((function(){n&&n(e.content)})).start()},e.scaleToNum=function(t,o,n){var e=this;void 0===o&&(o=1),void 0===n&&(n=null),this.tweenTar&&this.tweenTar.stop(),this.tweenTar=s(this.content).to(o,{scale:c(t,t,0)}).call((function(){n&&n(e.content)})).start()},e.scrollAndScaleToPos=function(t,o,n,e){var i=this;void 0===n&&(n=1e3),void 0===e&&(e=null);var r=this.content.getPosition(),a=c(t.x-r.x,t.y-r.y,t.z-r.z).length()/n;this.tweenTar&&this.tweenTar.stop(),this.tweenTar=s(this.content).to(a,{position:c(t.x,t.y,t.z),scale:o}).call((function(){e&&e(i.content)})).start()},e.scrollAndScaleToPosByTime=function(t,o,n,e){var i=this;void 0===n&&(n=.3),void 0===e&&(e=null),this.tweenTar&&this.tweenTar.stop(),this.tweenTar=s(this.content).to(n,{position:c(t.x,t.y,t.z),scale:o}).call((function(){e&&e(i.content)})).start()},e.scrollPosToCenter=function(t,o,n){void 0===o&&(o=1e3),void 0===n&&(n=null);var e=this.content.getComponent(i).convertToWorldSpaceAR(t),s=this.content.parent.getComponent(i).convertToNodeSpaceAR(e),r=this.content.getPosition();this.scrollToPos(c(r.x-s.x,r.y-s.y,r.z-s.z),o,n)},e.scrollNodeToCenter=function(t,o,n){void 0===o&&(o=5e3),void 0===n&&(n=null);var e=t.parent.getComponent(i).convertToWorldSpaceAR(t.getPosition()),s=this.content.parent.getComponent(i).convertToNodeSpaceAR(e),r=this.content.getPosition();this.scrollToPos(c(r.x-s.x,r.y-s.y,r.z-s.z),o,n)},e.scrollAndScalePosToCenter=function(t,o,n,e){void 0===n&&(n=1e3),void 0===e&&(e=null);var s=c(o.x/this.content.getScale().x,o.y/this.content.getScale().y,o.z/this.content.getScale().z),r=this.content.getComponent(i).convertToWorldSpaceAR(c(t.x*s.x,t.y*s.y,t.z*s.z)),a=this.content.parent.getComponent(i).convertToNodeSpaceAR(r),h=this.content.getPosition();this.scrollAndScaleToPos(c(h.x-a.x,h.y-a.y,h.z-a.z),o,n,e)},e.setScrollPos=function(t){this.content.setPosition(t),this.fixPos(t)},e.setPosToCenter=function(t){var o=this.content.parent.getComponent(i).convertToNodeSpaceAR(t),n=this.content.getPosition();this.setScrollPos(c(n.x-o.x,n.y-o.y,n.z-o.z))},e.setNodeToCenter=function(t){var o=t.parent.getComponent(i).convertToWorldSpaceAR(t.getPosition()),n=this.content.parent.getComponent(i).convertToNodeSpaceAR(o),e=this.content.getPosition();this.setScrollPos(c(e.x-n.x,e.y-n.y,e.z-n.z))},e.getCenterWorldPos=function(){return this.content.parent.getComponent(i).convertToNodeSpaceAR(this.content.getPosition())},n}(a))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/SdkController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./OtherGameData.ts","./ProvinceRankData.ts","./RankData.ts","./GameArgs.ts","./CommonUtils.ts"],(function(e){"use strict";var t,a,s,i,n,r,o,h,c,l,u,m,d,g;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){i=e.cclegacy,n=e.log,r=e.js,o=e.error},function(e){h=e.WECHAT},function(e){c=e.OtherGameData},function(e){l=e.ProvinceRankData},function(e){u=e.RankData},function(e){m=e.GameModel,d=e.ADTargetType},function(e){g=e.CommonUtils}],execute:function(){e({ADUnitIdEnum:void 0,ChannelType:void 0,SdkEventEnum:void 0}),i._RF.push({},"0229dUTN/xMwJDSUuDWy4ab","SdkController",void 0);var f,b,k;e("SdkController",function(){function e(){this.curChannel=b.H5NoAd,this.zsSDKVersion="1.7",this.curABTestGroup=0,this.AD_Common=null,this.AD_Interstitial=null,this.AD_Custom=null,this.curAdNum=d.AddBox,this.isOpenAdFree=!1,this.teLastShareType="",this.teLastShareImageUrl="",this.teLastShareImageId="",this.teLastShareText="",this.GameRecorderManager=void 0,this.curTempRecorderDir=void 0,this.sceneValue="1000",this.ttCloud=void 0,this.ttDB=void 0,this.curShareNum=void 0,this.lastShareInitiator=0,this.inWXShare=!1,this.wxShareStartTime=void 0,this.curUserPropShareIndex=0,this.wxNewUserAdShareList=[0,1,0,1],this.wxOldUserAdShareList=[1,0,1],this.ttNewUserAdShareList=[0,0,1,0,1],this.ttOldUserAdShareList=[1,0,1],this.curUserReviveShareIndex=0,this.wxNewUserResetShareList=[0,1],this.wxOldUserResetShareList=[1],this.ttNewUserResetShareList=[0,0,1],this.ttOldUserResetShareList=[1],this.newReviveUIShowList=[1,0,1],this.curNewReviveCount=0,this.curTempSlotTipTargetLevel=4,this.curAllAdCount=0,this.remoteSubGameConfig=[],this.inCheckModel=!1,this.triggerSwitch=!0,this.UIDCommonPW="12315",this.UID="66557755",this.otherGameDataList=[],this.otherGameLobbyData=null,this.otherGameResultData=null,this.otherGameTargetLevel=0,this.otherGameTargetLevelList=[],this.otherGameCountAdLimit=0,this.zhiseSDK1ChannelList=[b.Zhise_tt1,b.Zhise_tt2,b.Zhise_tt3,b.Zhise_tt4,b.Zhise_tt5,b.Zhise_tt6,b.Zhise_tt7],this.zhiseSDK2ChannelList=[b.Zhise_wx1,b.Zhise_wx6,b.Zhise_wx5,b.Zhise_wx4,b.Zhise_wx3,b.Zhise_ks1,b.Zhise_ks2,b.Zhise_ks3],this.zhiseKSChannelList=[b.Zhise_ks1,b.Zhise_ks2,b.Zhise_ks3],this.zhiseOtherGameChannelList=[b.Zhise_wx6],this.zhiseSubGameChannelList=[b.Zhise_tt1,b.H5NoAd,b.Zhise_tt7],this.SuccessUIOtherGameChannelList=[b.Zhise_wx5],this.OtherGame2ChannelList=[b.Zhise_wx1],this.testRankServerUrl="http://192.168.31.152:8888/api/public/init/test",this.rankServerUrl="https://puffergames.com:8443/puffer_rank/",this.playerDataServerUrl="https://puffergames.com:8443/puffergames3/gamedata/",this.tempTTDBData=void 0,this.inviteOpenId=void 0,this.inviteImageUrl="",this.inviteText="",this.zhiseTEUrl="https://moderate.aslk2018.com/shushu/batchAdd",this.userInfoButtun=null,this.tt_openId="",this.tt_sessionKey="",this.tt_playerNickName="",this.tt_playerAvatarUrl="",this.wx_openId="",this.wx_playerNickName="",this.wx_playerAvatarUrl=""}var i=e.prototype;return i.initSdk=function(){this.initEvent(),this.loadCurDayReviveCount(),this.loadCurAllAdCount(),this.triggerSwitch="0"!=g.getLocalData("trigger")},i.initEvent=function(){Global.logicEvent.on(f.Error_AdCommon,this.commonAdError,this),Global.logicEvent.on(f.Looked_AdCommon,this.commonAdLooked,this),Global.logicEvent.on(f.TriggerVibrate,this.TriggerVibrate,this)},i.commonAdError=function(){Global.ui.stopLoading(),Global.ui.showTipStr("广告拉取错误！")},i.commonAdLooked=function(e){e.isEnded&&Global.sdk.addCurAllAdCount(1)},i.showAd=function(e,t){void 0===t&&(t=0),this.lastShareInitiator=t,this.curAdNum=e,this.AD_Common.show(),Global.ui.startLoading()},i.checkShowAd=function(){return!(this.isOpenAdFree||!h)},i.showInterstitialAd=function(){console.log("进入播放插屏广告")},i.ceateCustomAd=function(){this.getCustomAdUnitIdByChannel(this.curChannel),wx.getSystemInfoSync()},i.showCustomAd=function(){},i.closeCustomAd=function(){},i.reportTEFirstLogin=function(){this.curChannel==b.Zhise_wx1&&this.zhiseTEServerRequest({account_id:this.getCurUserOpenId(),type:"track",event_name:"first_login",properties:{playersource:""+this.getIntoSenceValue(),shareimageurl:this.inviteImageUrl,sharetext:this.inviteText}},(function(e){console.log("上报指色TE数据回调",e)}))},i.clearTELastShareData=function(){this.teLastShareType="",this.teLastShareImageUrl="",this.teLastShareImageId="",this.teLastShareText=""},i.reportTEShare=function(e){this.curChannel==b.Zhise_wx1&&this.zhiseTEServerRequest({account_id:this.getCurUserOpenId(),type:"track",event_name:"user_share",properties:{shareimageid:this.teLastShareImageId,shareimageurl:this.teLastShareImageUrl,sharetext:this.teLastShareText,sharetype:this.teLastShareType,isfinish:e}},(function(e){console.log("上报指色TE数据回调",e)}))},i.setTEShareType=function(e){this.curChannel==b.Zhise_wx1&&(this.teLastShareType=e)},i.setTEShareImageUrl=function(e){this.curChannel==b.Zhise_wx1&&(this.teLastShareImageUrl=e)},i.setTEShareText=function(e){this.curChannel==b.Zhise_wx1&&(this.teLastShareText=e)},i.setTEShareImageId=function(e){this.curChannel==b.Zhise_wx1&&(this.teLastShareImageId=e)},i.startRecord=function(){this.GameRecorderManager?(console.log("开始录屏"),this.GameRecorderManager.start({duration:60}),Global.time.startRecordTime()):n("没有录屏组件")},i.stopRecord=function(){this.GameRecorderManager&&(console.log("结束录屏"),this.GameRecorderManager.stop(),Global.time.stopRecordTime())},i.onStopRecord=function(e){console.log("录屏地址"+e.videoPath),this.curTempRecorderDir=e.videoPath,Global.time.getRecordTime()>=3?console.log("录屏成功"):console.log("时间低于三秒！")},i.gameShare=function(){Global.time.getRecordTime();Global.ui.showTipStr("请先游玩一局再进行分享")},i.checkSidebarInto=function(){},i.openSidler=function(){},i.initWxShareOption=function(){wx.onShareAppMessage&&wx.onShareAppMessage((function(){var e=Global.sdk.getRandomWxShareContent(),t=Global.sdk.getRandomWxShareTitle();return{title:t,imageUrlId:e.targetShareId,imageUrl:e.targetShareUrl,query:r.formatStr("inviteOpenId=%s&shareText=%s&shareImageUrl=%s",Global.sdk.getCurUserOpenId(),t,e.targetShareUrl)}}))},i.sendDataToSubContext=function(e){},i.shareImageMenu=function(){var e=this.getRandomWxShareContent();wx.downloadFile&&wx.downloadFile({url:e.targetShareUrl,success:function(e){wx.showShareImageMenu({path:e.tempFilePath,needShowEntrance:!0})}})},i.navigateToMiniProgram=function(e,t){wx.navigateToMiniProgram&&wx.navigateToMiniProgram({appId:e,path:"page/index/index"+t,envVersion:"release",success:function(e){console.log("打开成功！！！"),console.log(e)},fail:function(e){console.log("打开失败！！！"),console.log(e)},complete:function(e){console.log("打开完成！！！"),console.log(e)}})},i.getIntoSenceValue=function(){return this.sceneValue?this.sceneValue:"1000"},i.getFlushSenceValue=function(){return this.sceneValue},i.SaveImage=function(e){},i.playerLogin=function(e){},i.openMinigameRank=function(){},i.share=function(e){this.curShareNum=e},i.getRandomWxShareContent=function(){var e=["8Hje3dDkSCWANXY1Jax6GA==","fDxIwtvMT2uElBx2wpawHA==","bEi8B+EQSFu1KGD/Um1Q3A==","YeVB780AQJW9QC2pcw6R+g==","jqNZNxfeSWmpiPDrKMhtow==","+eo5sssSRh2+3b8PSLRziA==","Bkfjchc7SbCHssN2oE1WMA==","D/WjKfl0Rka9sjWNqg1K7w==","xyf9Z4VNRnKsihkLasO7gg==","10IB5sO8QIeyrA4Ac+tWMw==","hTLd5b6lS/iNdXImhqbXcw==","II/fomqDTKuh3h2cgrP8Rw==","Odk+ON6PQCyF3jH8Z4azkA==","sUs/KZdkRW2oWoFmPT4x2Q==","ncDUP6RGTjqa7ADgFZAu1A==","fADlkK8SS0+VkyhSUjfnDQ==","DAmFw0YtTf+wxpb0Q3qUDA==","uhzz99jzTLmwKRsQSdSI1g==","cibanOI7RUK3pv1m4TYmGA==","UeFRr3nOQH+oE1MRUN8fEg=="],t=Math.floor(e.length*Math.random());return{targetShareUrl:["https://mmocgame.qpic.cn/wechatgame/ofxt5yECSKSyVFcjp5prsBvIJBVk8vyoKX4481tty79MRpU6JQRJIECH5Y6df9t0/0","https://mmocgame.qpic.cn/wechatgame/v19fRrJVllwns4qQoxxvyiasEuwnazMeTg3X5f2WPkyQG11dzibwbFsD3jOez4bMDX/0","https://mmocgame.qpic.cn/wechatgame/QxR96K0uPdyVlbV4nl3M4D7uGecicU9Rf7Lia3DoHO5pfZO1k589yIibpH7NUV0tuoN/0","https://mmocgame.qpic.cn/wechatgame/FjE1ek8TAE6ZSPExkmic7fPXWeiao2xBG31fkRdMHhunYzoMPCNymvcXUejzdE3Wkib/0","https://mmocgame.qpic.cn/wechatgame/R7icMgyFSECJXzlyxWzHNyLyEU7YNHcTBxuXUqqicJzSTLCmonHjWM3srpt1JXDsLe/0","https://mmocgame.qpic.cn/wechatgame/GiaMn9BHucgic1hIAl0V77xAV30lP8SKO6ywbrS8nrKyRTgUE9CpOHOGo1MOs2Tdpl/0","https://mmocgame.qpic.cn/wechatgame/GiaMn9BHucgic1hIAl0V77xAV30lP8SKO6ywbrS8nrKyRTgUE9CpOHOGo1MOs2Tdpl/0","https://mmocgame.qpic.cn/wechatgame/DX1CE18ics2MaZFvmLEboUpGoyxdrvMmChDU8FQwicpTdxSEKhPx3I7UG9mZiaChNQK/0","https://mmocgame.qpic.cn/wechatgame/ZAxzFdF8gA67JQLIktEhtt9VNibjFhFSP1lJMtyia1iaw8KwoRLdN3skELEgUmvHk1R/0","https://mmocgame.qpic.cn/wechatgame/z8eYjxnTsNPuTLUibu3ZqmdwNcbT3hCZUweEn3CHoqV42OJBiaOichCxLHJ3JlovU8s/0","https://mmocgame.qpic.cn/wechatgame/Qm9YoIt80EfMyMRdb0aovf2g2TcNziaiaVNOibezA0rvC8XM4P7mHqwLr8HvTgSS7IN/0","https://mmocgame.qpic.cn/wechatgame/FXdicSB5LTmcXxB3lgjwFewsxyL38BHEkeDdQaFfDmuljaUzz81Hu3E1s2wpGD29R/0","https://mmocgame.qpic.cn/wechatgame/a5xM7AJIv6tnmtB9JHnYkgBJMEA95a69xtq2LPicKEzROFExmiaHOgUrUcUSC1GjDP/0","https://mmocgame.qpic.cn/wechatgame/v9OVHia2EBBBVp4jQSibicZKFZMBRU7S2q9MQtLTHrgYtm9hQcbYmCm50rt3qiautEIic/0","https://mmocgame.qpic.cn/wechatgame/18mLPeU4tgYgFrSsJMEDOoLqqvnn5tva1a04X2dYHibsn31icCy553P4oxcHMhkOuj/0","https://mmocgame.qpic.cn/wechatgame/UqdmXiaxQ7IdbES0pzExlOYCCGk9TZg85ZAG80JVicmW34Hr37dXAtWEA4Zb2IRDR5/0","https://mmocgame.qpic.cn/wechatgame/T2mMTP2Rdq9F8jvMbE9bEtolNIscicichqbpf8Lx93K7h2sd01uiaFpQzFBudPCXsibj/0","https://mmocgame.qpic.cn/wechatgame/E0Ujatiaf66icLXIAG3iaw6qmIFarGBL6ExghPViacp3EtuJwibZTQ5ZjFzaibRT5BRyicE/0","https://mmocgame.qpic.cn/wechatgame/lN8mMHffZtJGmkntLxaJ4H6zUcDcGP4qRmOzicrhNykMIbU8v0rV4vsIL7BHjVkcp/0","https://mmocgame.qpic.cn/wechatgame/WVSrt0MibNHxanLZY00To0NnJLfJUgNTyRM1tgHZLtyubSt3OZDVZA17r0EMGQ6Kj/0"][t],targetShareId:e[t]}},i.getRandomWxShareTitle=function(){var e=["据说通关的都能达到爱因斯坦的IQ！","据说只有0.01%的人可以通关！","这游戏真的能通关吗？","这关卡是不是游戏作者都打不通？","螺丝钉对你发出挑战！","过不去，真的过不去啊！！！","这游戏能过第三关，算你厉害 ！","我只说一遍：真的难！","上厕所别点，我怕你蹲到腿麻！","来，试试你能过几关?"];return e[Math.floor(e.length*Math.random())]},i.wxShareCallBack=function(){this.inWXShare=!1,Global.ui.stopLoading();var e=!1;Date.now()-this.wxShareStartTime>3e3?(e=!0,Global.ui.showTipStr("分享成功"),Global.logicEvent.emit(f.Shared_Common,!0,Global.sdk.curShareNum)):(Global.ui.showTipStr("请分享到更多的群！感恩！"),Global.logicEvent.emit(f.Shared_Common,!1,Global.sdk.curShareNum)),this.curChannel==b.Zhise_wx1&&(this.reportTEShare(e),this.clearTELastShareData())},i.getShareType=function(e){return 0},i.getShareTypeByListAndIndex=function(e,t){return e>t.length-1?0:t[e]},i.initShareConfigByData=function(e){if(null!=e&&0!=e.length){var t=e.ShareConfig;if(t)for(var a in t){var s=t[a];switch(s.ShareConfigName){case"wxNewUserAdShareList":this.wxNewUserAdShareList=s.ShareConfigList;break;case"wxOldUserAdShareList":this.wxOldUserAdShareList=s.ShareConfigList;break;case"wxNewUserResetShareList":this.wxNewUserResetShareList=s.ShareConfigList;break;case"wxOldUserResetShareList":this.wxOldUserResetShareList=s.ShareConfigList;break;case"ttNewUserAdShareList":this.ttNewUserAdShareList=s.ShareConfigList;break;case"ttOldUserAdShareList":this.ttOldUserAdShareList=s.ShareConfigList;break;case"ttNewUserResetShareList":this.ttNewUserResetShareList=s.ShareConfigList;break;case"ttOldUserResetShareList":this.ttOldUserResetShareList=s.ShareConfigList}console.log("当前读取的配置",s.ShareConfigList)}}},i.loadCurDayReviveCount=function(){g.getLocalData("NewReviveCountTime")!=g.getYMDTime()?(this.curNewReviveCount=0,this.saveCurDayReviveCount()):this.curNewReviveCount=Number(g.getLocalData("NewReviveCount"))},i.saveCurDayReviveCount=function(){g.setLocalData("NewReviveCountTime",g.getYMDTime()),g.setLocalData("NewReviveCount",""+this.curNewReviveCount)},i.addCurNewReviveCount=function(e){this.curNewReviveCount+=e,this.saveCurDayReviveCount()},i.getNewReviveUIShow=function(){return this.curNewReviveCount>=this.newReviveUIShowList.length?0:this.newReviveUIShowList[this.curNewReviveCount]},i.loadCurAllAdCount=function(){var e=g.getLocalData("AllAdCount");this.curAllAdCount=null!=e&&""!=e?Number(g.getLocalData("AllAdCount")):0},i.saveCurAllAdCount=function(){g.setLocalData("AllAdCount",""+this.curAllAdCount)},i.addCurAllAdCount=function(e){this.curAllAdCount+=e,this.saveCurAllAdCount()},i.initABTestConfigByData=function(e){if(null!=e&&0!=e.length){var t=e.ABTest,a=0,s=[];if(t){for(var i in t)switch(console.log("当前AB测试数据",t[i]),i){case"A":case"B":case"C":case"D":a+=t[i],s.push(t[i])}var n=g.getLocalData("LastABTest");if(null!=n&&""!=n)this.curABTestGroup=Number(n);else{var r=Math.random()*a;console.log("当前AB模式随机数为",r),console.log("当前AB模式总和为",a);for(var o=0;o<s.length;o++){for(var h=0,c=0;c<=o;c++)h+=s[c];if(r<=h){this.curABTestGroup=o;break}}}0!=s.length&&1!=s.length||(this.curABTestGroup=0),g.setLocalData("LastABTest",""+this.curABTestGroup),console.log("当前AB模式为",this.curABTestGroup)}}},i.getRemoteSubGameConfig=function(e){for(var a,s=t(this.remoteSubGameConfig);!(a=s()).done;){var i=a.value;if(i.id==e)return n("返回了一个值"),i.isOpen}return n("返回空"),null},i.getRemoteSubGameType=function(e){for(var a,s=t(this.remoteSubGameConfig);!(a=s()).done;){var i=a.value;if(i.id==e)return n("返回了一个值"),i.type}return n("返回空"),null},i.initSubGameConfigByData=function(e){var t;if(null!=e&&0!=e.length&&(console.log("当时副玩法表格数据",e),this.inCheckModel?(t=e.SubGameConfigReview,console.log("当时副玩法表格名字 SubGameConfigReview")):(t=e.SubGameConfig,console.log("当时副玩法表格名字 SubGameConfig")),this.remoteSubGameConfig=[],t)){for(var a in t)this.remoteSubGameConfig.push({id:Number(a),isOpen:t[a].open,type:t[a].type});console.log("当时副玩法数据",this.remoteSubGameConfig)}},i.initReviewModelByData=function(e){var t=this;if(null!=e&&0!=e.length){var a=!1;null!=e.ReviewCheck&&null!=e.ReviewCheck.inReview&&(a=e.ReviewCheck.inReview),this.inCheckModel=a,console.log("当时审核模式数据",a);var s="SubGameConfig";a&&(s="SubGameConfigReview"),zs_sdk.zs_network.jsonConfig(s,this.zsSDKVersion).then((function(e){console.log("指色后台配置副玩法json回调！"),console.log(e),t.initSubGameConfigByData(e)}))}},i.initBackLobbyGuideByData=function(e){if(null!=e&&0!=e.length){var t=e.BackLobbyGuide;if(t){var a=!1;null!=t.open&&(a=t.open),Global.gameController.isForceSubGame=a,console.log("当前返回主页引导是否打开",a)}}},i.eventTracking=function(e,t){n("事件打点",e,t),e=this.getTrackPrefix()+e,e=this.getTrackPrefixByABTest()+e},i.getTrackPrefix=function(){var e="";switch(Global.gameController.curModel){case m.dailyGame:e="生肖_";break;case m.removeNail:e="螺丝掉落_";break;case m.swapNail:e="掉板子_";break;case m.sortNail:e="螺丝挪一挪_";break;case m.sortEliminate:e="螺丝螺母消除_";break;case m.rollMode:e="解开啪啪圈_";break;case m.diamondMode:e="钻石吊坠_";break;case m.memeSpNail:e="拆梗图_";break;case m.memeNail:e="拆图形_";break;case m.unscrew:e="解大小螺丝_";break;case m.GravityMode:e="重力模式_";break;case m.graspNail:e="抓钉子_";break;case m.tetrisModePro:e="超解压方块pro_";break;case m.moveIron:e="移动铁片_";break;case m.artChallenge:e="美术生挑战_";break;case m.tetrisMode:e="超解压方块_";break;case m.moreMoreNail:e="超级多螺丝_";break;case m.TurkeyBlock:e="土耳其方块_";break;case m.syntheticNail:e="合成螺丝_";break;case m.findMistake:e="找错别字_";break;case m.PullNail:e="拔钉子_";break;case m.Posing:e="摆造型_";break;case m.SyntheticJob:e="合成知县_";break;case m.CompositePen:e="整理彩笔_";break;case m.SlidingBlock:e="滑动消除方块_";break;case m.TurtleBlindBox:e="乌龟对对碰_"}return e},i.getTrackPrefixByABTest=function(){var e="";switch(Global.sdk.curABTestGroup){case 1:e="B_";break;case 2:e="C_";break;case 3:e="D_"}return e},i.showAddDesktop=function(){Global.ui.showTipStr("当前环境无法加桌！")},i.chackAddDesktop=function(){},i.TriggerVibrate=function(){this.triggerSwitch},i.changeTriggerSwitch=function(e){void 0===e&&(e=-1),-1==e?this.triggerSwitch=!this.triggerSwitch:0==e?this.triggerSwitch=!1:1==e&&(this.triggerSwitch=!0),this.saveTriggerLocalData()},i.saveTriggerLocalData=function(){g.setLocalData("Trigger",this.triggerSwitch?"1":"0")},i.getPlayerUID=function(){return this.UID},i.getAllOtherGameDataList=function(){return this.otherGameDataList},i.initOtherGameShareConfigByData=function(e){if(null!=e&&0!=e.length){Global.sdk.otherGameDataList=[];var a=function(e){console.log("当前获取导流其他游戏信息为"),console.log(e);var t=new c;t.GameId=e.id,t.appid=e.appid,t.GameName=e.gameName,t.GameType=e.gameType,t.IconName=e.iconUrl,t.isShow=e.isShow,t.load=e.load,Global.sdk.otherGameDataList.push(t)},s=e.OtherGameConfig;if(s)for(var i,n=t(s);!(i=n()).done;){a(i.value)}}},i.initOtherGameShareExConfigByData=function(e){if(null!=e&&0!=e.length){var t=e.OtherGameExConfig;t&&function(e){if(console.log("当前获取导流其他游戏信息2为"),console.log(e),null!=e.LobbyGameConfig){var t=e.LobbyGameConfig,a=new c;a.appid=t.appid,a.GameName=t.gameName,a.GameType=t.gameType,a.isShow=t.isShow,a.load=t.load,Global.sdk.otherGameLobbyData=a,console.log("获得主菜单导流游戏数据"),console.log(a)}if(null!=e.ResultGameConfig){var s=e.ResultGameConfig,i=new c;i.appid=s.appid,i.GameName=s.gameName,i.GameType=s.gameType,i.isShow=s.isShow,i.load=s.load,Global.sdk.otherGameResultData=i,console.log("获得结算页面导流游戏数据"),console.log(i)}null!=e.LobbyGameIconUrl&&Global.sdk.otherGameLobbyData&&(Global.sdk.otherGameLobbyData.IconName=e.LobbyGameIconUrl,console.log("获得主菜单页面导流游戏图标"),console.log(Global.sdk.otherGameLobbyData.IconName)),null!=e.ResultGameIconUrl&&Global.sdk.otherGameResultData&&(Global.sdk.otherGameResultData.IconName=e.ResultGameIconUrl,console.log("获得结算页面导流游戏图标"),console.log(Global.sdk.otherGameResultData.IconName)),null!=e.NeedLevelValue&&(Global.sdk.otherGameTargetLevel=e.NeedLevelValue,console.log("获得新导流游戏限制关卡数"),console.log(Global.sdk.otherGameTargetLevel)),null!=e.NeedLevelList&&(Global.sdk.otherGameTargetLevelList=e.NeedLevelList,console.log("获得新导流游戏限制关卡数列表"),console.log(Global.sdk.otherGameTargetLevelList)),null!=e.NeedMinAdValue&&(Global.sdk.otherGameCountAdLimit=e.NeedMinAdValue,console.log("获得新导流游戏限制广告数"),console.log(Global.sdk.otherGameCountAdLimit))}(t)}},i.checkZhiseInitChannel=function(e){return-1!=this.zhiseSDK1ChannelList.indexOf(e)},i.checkZhiseSDK2Channel=function(e){return-1!=this.zhiseSDK2ChannelList.indexOf(e)},i.checkZhiseKSChannel=function(e){return void 0===e&&(e=this.curChannel),-1!=this.zhiseKSChannelList.indexOf(e)},i.checkZhiseOtherGameChannel=function(e){return void 0===e&&(e=this.curChannel),-1!=this.zhiseOtherGameChannelList.indexOf(e)},i.checkZhiseSubGameChannel=function(e){return-1!=this.zhiseSubGameChannelList.indexOf(e)},i.checkSuccessUIOtherGameChannel=function(e){return-1!=this.SuccessUIOtherGameChannelList.indexOf(e)},i.checkOtherGame2Channel=function(e){return-1!=this.OtherGame2ChannelList.indexOf(e)},i.getCommonAdUnitIdByChannel=function(e){var t="";switch(e){case b.Zhise_tt1:t=k.TTCommon;break;case b.Zhise_wx1:t=k.WXCommon;break;case b.Zhise_wx2:t=k.WXCommon1;break;case b.Zhise_wx3:t=k.WXCommon2;break;case b.Zhise_tt2:t=k.TTCommon2;break;case b.Zhise_ks1:t=k.KSCommon1;break;case b.Zhise_ks2:t=k.KSCommon2;break;case b.Zhise_wx4:t=k.WXCommon3;break;case b.Zhise_wx5:t=k.WXCommon4;break;case b.Zhise_wx6:t=k.WXCommon5;break;case b.Zhise_wx7:t=k.WXCommon6;break;case b.Zhise_tt3:t=k.TTCommon3;break;case b.Zhise_tt4:t=k.TTCommon4;break;case b.Zhise_tt5:t=k.TTCommon5;break;case b.Zhise_tt6:t=k.TTCommon6;break;case b.Zhise_tt7:t=k.TTCommon7;break;case b.Zhise_ks3:t=k.KSCommon3}return t},i.getCustomAdUnitIdByChannel=function(e){return""},i.getInterstitialAdUnitIdByChannel=function(e){var t="";switch(e){case b.Zhise_wx1:t=k.WXInterstitialAd}return t},i.getTDChannelNameByChannel=function(e){var t="",a="";switch(e){case b.Zhise_wx1:t="wx_gbzwb",a="关不住我吧";break;case b.Zhise_tt1:t="tt_gbzwb",a="关不住我吧";break;case b.Zhise_wx2:t="tt_xxdwj",a="消消大玩家";break;case b.Zhise_wx3:t="tt_xsdnz",a="消失的脑汁";break;case b.Zhise_tt2:t="tt_lxds",a="连消大师";break;case b.Zhise_ks1:t="ks_gbzwb",a="关不住我吧";break;case b.Zhise_ks2:t="ks_lxds",a="连消大师";break;case b.Zhise_wx4:t="wx_zljjc",a="智力竞技场";break;case b.Zhise_wx5:t="wx_fksn",a="疯狂烧脑";break;case b.Zhise_wx6:t="wx_nqgcz",a="你敲个锤子";break;case b.Zhise_wx7:t="wx_cgdcm",a="闯关大聪明";break;case b.Zhise_tt3:t="tt_zznl",a="捉住你了";break;case b.Zhise_tt4:t="tt_bbll",a="不败老六";break;case b.Zhise_tt5:t="tt_jyzst",a="解压真上头";break;case b.Zhise_tt6:t="tt_zzdr",a="组装达人";break;case b.Zhise_tt7:t="tt_zcbdj",a="找出不对劲";break;case b.Zhise_tt7:t="ks_cgdcm",a="闯关大聪明"}return{tdChannel:t,displayName:a}},i.getServerGameIdByChannel=function(e){var t="";switch(e){case b.Zhise_wx1:t="wx_gbzwb";break;case b.Zhise_tt1:t="tt_gbzwb";break;case b.Zhise_wx2:t="wx_xxdwj";break;case b.Zhise_wx3:t="wx_xsdnz";break;case b.Zhise_tt2:t="tt_lxds";break;case b.Zhise_ks1:t="ks_gbzwb";break;case b.Zhise_ks2:t="ks_lxds";break;case b.Zhise_wx4:t="wx_zljjc";break;case b.Zhise_wx5:t="wx_fksn";break;case b.Zhise_wx6:t="wx_nqgcz";break;case b.Zhise_wx7:t="wx_cgdcm";break;case b.Zhise_tt3:t="tt_zznl";break;case b.Zhise_tt4:t="tt_bbll";break;case b.Zhise_tt5:t="tt_jyzst";break;case b.Zhise_tt6:t="tt_zzdr";break;case b.Zhise_tt7:t="tt_zcbdj"}return t},i.getAppIdByChannel=function(e){var t="";switch(e){case b.Zhise_wx1:t="wx8ca72ead29d3a293";break;case b.Zhise_tt1:t="ttf430828d6b01cb4c02";break;case b.Zhise_wx2:t="wx3fdde40a387cfd16";break;case b.Zhise_wx3:t="wxf07e6b2649073b81";break;case b.Zhise_tt2:t="tt57b42109c88532bf02";break;case b.Zhise_ks1:t="ks688206321008119445";break;case b.Zhise_ks2:t="ks699465319975467551";break;case b.Zhise_wx4:t="wxc4746c5a159548c2";break;case b.Zhise_wx5:t="wx9ec326ef24f63361";break;case b.Zhise_wx6:t="wxb5f506d7c427c834";break;case b.Zhise_wx7:t="wx062d8ee83c8e0d99";break;case b.Zhise_tt3:t="tta677d0ca394a0d3202";break;case b.Zhise_tt4:t="ttc800bebd573c36e702";break;case b.Zhise_tt5:t="ttf8cc8e7167fd8bdf02";break;case b.Zhise_tt6:t="tt44883235dbbea5f102";break;case b.Zhise_tt7:t="ttc7e7b15a58d55f1f02"}return t},i.getSecretByChannel=function(e){var t="";switch(e){case b.Zhise_tt1:t="90289c851e696e6ade82e32c8e1304d5eedd4376";break;case b.Zhise_tt2:t="5c0c18afe1a17ba78377adc488c4f60dafdd3585";break;case b.Zhise_tt3:t="1c8d3accc56bfcc767e6e63b9d624227e4679f77";break;case b.Zhise_tt4:t="4a08300fddadbd29b796cab283136a01a2636c25";break;case b.Zhise_tt5:t="18a80803183dec75a990b1a45508b16e597dcdf4";break;case b.Zhise_tt6:t="5a0c2ec13ed9358c7437350443cd4fe53cb2b8e0";break;case b.Zhise_tt7:t="9281a2e3670992689b0050e0ba80871d01fc6a09"}return t},i.getSeegSDKGameIdByChannel=function(e){var t="";switch(e){case b.Zhise_wx1:t="wx_gbzwb1";break;case b.Zhise_ks1:t="ks_gbzwb";break;case b.Zhise_ks2:t="ks_lxds";break;case b.Zhise_ks3:t="ks_cgdcm";break;case b.Zhise_wx6:t="wx_nqgcz1";break;case b.Zhise_wx5:t="wx_fksn1";break;case b.Zhise_wx3:t="wx_xsdnz1"}return t},i.serverRequest=function(e,t,a,s){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState&&i.status>=200&&i.status<400){var e=i.responseText;console.log(e),s(e)}},i.open(t,e),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Access-Control-Allow-Headers","*"),i.send(JSON.stringify(a)),console.log("发送的数据"),console.log(a)},i.getProvinceRankListByServer=function(e){void 0===e&&(e=function(){}),this.serverRequest(this.rankServerUrl+"global/getRankProvince?gameId="+this.getServerGameIdByChannel(this.curChannel),"GET",{},(function(a){var s=JSON.parse(a);n("获得的省份排名",s.result);var i=[];if(s.result)for(var r,o=t(s.result);!(r=o()).done;){var h=r.value,c=new l;c.id=h.id,c.province=h.province,c.score=h.score,i.push(c)}n("解析后的省份排名",i),i.length>0&&(Global.gameController.nationalRankList=i,Global.gameController.saveNationalRankList()),e()}))},i.getProvincePlayerRankListByServer=function(e,a){void 0===a&&(a=function(){}),this.serverRequest(this.rankServerUrl+"global/getProvinceRankAvatarsData?gameId="+this.getServerGameIdByChannel(this.curChannel)+"&province="+e+"&pageSize=20","GET",{},(function(e){var s=JSON.parse(e);n("获得的省份排名",s.result);var i=[];if(s.result)for(var r,o=t(s.result);!(r=o()).done;){var h=r.value,c=new u;c.userId=h.openId,c.nickName=h.nickName,c.province=h.province,c.avatarUrl=h.avatarUrl,c.score=h.score,i.push(c)}n("解析后的省份排名",i),i.length>0&&(Global.gameController.provincePlayerRankList=i,Global.gameController.saveProvincePlayerRankList()),a()}))},i.getNationalPlayerRankListByServer=function(e){void 0===e&&(e=function(){}),this.serverRequest(this.rankServerUrl+"global/getGlobalRankAvatarsData?gameId="+this.getServerGameIdByChannel(this.curChannel)+"&pageSize=20","GET",{},(function(a){var s=JSON.parse(a);n("全国排名",s.result);var i=[];if(s.result)for(var r,o=t(s.result);!(r=o()).done;){var h=r.value,c=new u;c.userId=h.openId,c.nickName=h.nickName,c.province=h.province,c.avatarUrl=h.avatarUrl,c.score=h.score,i.push(c)}n("解析后的全国排名",i),i.length>0&&(Global.gameController.nationalPlayerRankList=i,Global.gameController.saveNationalPlayerRankList()),e()}))},i.reportPlayerRank=function(e){""!=this.getCurUserOpenId()&&""!=this.getCurUserNickName()&&-1!=Global.gameController.getAreaMsg()&&this.serverRequest(this.rankServerUrl+"global/reportData","POST",{gameId:this.getServerGameIdByChannel(this.curChannel),avatarItem:{openId:this.getCurUserOpenId(),nickName:this.getCurUserNickName(),avatarUrl:this.wx_playerAvatarUrl,province:Global.gameController.getAreaMsg(),score:e,kvData:""}},(function(e){n("上报玩家数据",e)}))},i.getPlayerRankData=function(e){},i.sendPlayerDataByServer=function(){Global.gameController.getAllDataByStr()},i.getPlayerDataByServer=function(e){},i.getPlayerDataByTTDB=function(){var e=a(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===t&&(t=function(){}),zs_sdk.zs_network.download("allData").then((function(e){console.log("从后台数据库返回值"),console.log(e),Global.gameController.parseGameData(e),t()})).catch((function(){t()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.createPlayerDataByTTDB=function(){zs_sdk.zs_network.update("allData","-1")},i.clearPlayerDataByTTDB=function(){zs_sdk.zs_network.update("allData","-1")},i.createPlayerRemoteData=function(){},i.clearPlayerRemoteData=function(){},i.getPlayerDataByZhiseWXSDK=function(e){void 0===e&&(e=function(){}),seeg.getUserData((function(t){console.log("获取指色SDK保存的玩家数据"),console.log(t.errCode),console.log(t.errMsg),console.log(t.data),Global.gameController.parseGameData(t.data.playerData),e()}))},i.createPlayerDataByZhiseWXSDK=function(){seeg.setUserData({playerData:"-1"})},i.clearPlayerDataByZhiseWXSDK=function(){seeg.setUserData({playerData:"-1"})},i.activePlayerByServer=function(e){if(void 0===e&&(e=function(){}),""!=this.getCurUserOpenId()){var t=this.getServerGameIdByChannel(this.curChannel),a=this.getCurUserOpenId(),s=this.getCurUserOpenId().substring(a.length-4);this.serverRequest(this.playerDataServerUrl+"active","POST",{gameId:t,openId:a,password:s},(function(t){console.log("向服务器请求激活返回"),console.log(t),e()}))}else e()},i.reportPlayerId=function(e,t){void 0===e&&(e=this.inviteOpenId),void 0===t&&(t=function(e){console.log("上报邀请回调："),console.log(e)}),e&&this.serverRequest(this.rankServerUrl+r.formatStr("invite/reportDate?gameName=%s&inviteOpenId=%s&openId=%s",this.getTDChannelNameByChannel(this.curChannel).tdChannel,this.getCurUserOpenId(),e),"POST",{},(function(e){t(e)}))},i.getPlayerInviteCount=function(e){void 0===e&&(e=function(){});var t=this.getTDChannelNameByChannel(this.curChannel);this.serverRequest(this.rankServerUrl+"invite/getInviteNewPlayerNum","POST",{gameName:t.tdChannel,openId:this.getCurUserOpenId()},(function(t){e(t)}))},i.reportPlayerFeedback=function(e,t,a){void 0===e&&(e=""),void 0===t&&(t=""),void 0===a&&(a=function(e){console.log("上报反馈回调："),console.log(e)});var s=this.getTDChannelNameByChannel(this.curChannel).tdChannel,i=this.getCurUserOpenId();this.serverRequest(this.rankServerUrl+"feedback/reportDate","POST",{gameName:s,openId:i,type:e,value:t},(function(e){a(e)}))},i.zhiseTEServerRequest=function(e,t){var a=this.getCurUserOpenId();if(a&&""!=a){var s={gid:this.getSeegSDKGameIdByChannel(this.curChannel),version:"1.0.0",data:[e]},i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState&&i.status>=200&&i.status<400){var e=i.responseText;console.log(e),t(e)}},i.open("POST",this.zhiseTEUrl),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(JSON.stringify(s)),console.log("发送的数据"),console.log(s)}else o("向指色TE服务器的交互时未获取到用户Openid，停止交互！")},i.checkAuthorization=function(){return""!=this.getCurUserNickName()},i.getCurUserOpenId=function(){return""},i.getCurUserNickName=function(){return""},i.getCurUserAvatarUrl=function(){return""},i.getTTLock=function(){},e}());!function(e){e.Looked_AdCommon="LookedAd1",e.Error_AdCommon="ErrorAd1",e.sdk_sidebar="sdk_sidebar",e.Shared_Common="Shared1",e.TriggerVibrate="TriggerVibrate"}(f||(f=e("SdkEventEnum",{}))),function(e){e[e.None=0]="None",e[e.Zhise_wx1=1]="Zhise_wx1",e[e.Zhise_tt1=2]="Zhise_tt1",e[e.Zhise_wx2=3]="Zhise_wx2",e[e.Zhise_tt2=4]="Zhise_tt2",e[e.Zhise_wx3=5]="Zhise_wx3",e[e.Zhise_ks1=6]="Zhise_ks1",e[e.Zhise_ks2=14]="Zhise_ks2",e[e.H5NoAd=10]="H5NoAd",e[e.Zhise_wx4=11]="Zhise_wx4",e[e.Zhise_wx5=12]="Zhise_wx5",e[e.Zhise_wx6=13]="Zhise_wx6",e[e.Zhise_wx7=15]="Zhise_wx7",e[e.Zhise_tt3=16]="Zhise_tt3",e[e.Zhise_tt4=17]="Zhise_tt4",e[e.Zhise_tt5=18]="Zhise_tt5",e[e.Zhise_tt6=19]="Zhise_tt6",e[e.Zhise_tt7=20]="Zhise_tt7",e[e.Zhise_ks3=21]="Zhise_ks3"}(b||(b=e("ChannelType",{}))),function(e){e.TTCommon="21evj2jjf6c2fik978",e.WXCommon="adunit-b221065a07387343",e.TTCommon2="3gace492kl7f91ooct",e.WXCommon1="adunit-bcf23ca6a1f4ff6e",e.WXCommon2="adunit-dbf8b6b7e3ca161f",e.KSCommon1="2300006252_01",e.KSCommon2="2300006381_01",e.WXCommon3="adunit-c6f9141b3a391e86",e.WXCommon4="adunit-3f649fd3788eeff5",e.WXCommon5="adunit-ab3d710ad3940707",e.WXCommon6="adunit-d99b53fce85ba2f4",e.TTCommon3="4p5hchogqqm6o036rq",e.TTCommon4="2ba1kk2ibf94192j73",e.TTCommon5="3gd1kb7cjk096t8d2g",e.TTCommon6="31a5455ajl863ltkns",e.TTCommon7="jaa6idphpco185217h",e.KSCommon3="2300006622_01",e.WXInterstitialAd="adunit-d007199f4d603e19"}(k||(k=e("ADUnitIdEnum",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/SelectArea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonUtils.ts","./scrollViewCtr.ts","./UIBase.ts"],(function(t){"use strict";var e,a,i,n,o,l,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,i=t._decorator,n=t.Label},function(t){o=t.CommonUtils},function(t){l=t.default},function(t){r=t.UIHideAnimType,s=t.default}],execute:function(){var c;a._RF.push({},"b0ed6QzX4NJy4CsDfQ01Uv1","SelectArea",void 0);var u=i.ccclass;i.property,t("SelectArea",u("SelectArea")(c=function(t){function a(){for(var e,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this)._AreaListView=void 0,e._Unlock=void 0,e.TargetId=null,e.TargetItem=null,e.closeFunc=void 0,e}e(a,t);var i=a.prototype;return i.onLoad=function(){this.flushView()},i.onDisable=function(){this.closeFunc&&this.closeFunc()},i.flushView=function(){this.TargetId=Global.gameController.getAreaMsg(),this.TargetId<=0&&Global.ui.showTipStr("请先选择你所在的省份");var t=Global.data.getAllAreaList();this._AreaListView.getComponent(l).dataList=t,this.flushUnlock()},i.flushAreaItem=function(t,e,a){t.getChildByName("AreaName").getComponent(n).string=e.AreaName,e.AreaId==this.TargetId?(t.getChildByName("effect").active=!0,this.TargetItem=t):t.getChildByName("effect").active=!1},i.flushUnlock=function(){this._Unlock.active=null==this.TargetItem},i.ClickBtn=function(t,e){var a=t.target,i=this._AreaListView.getComponent(l).getDataByUuid(a.uuid);this.TargetItem&&(this.TargetItem.getChildByName("effect").active=!1),this.TargetId=i.AreaId,this.TargetItem=a,a.getChildByName("effect").active=!0,this.flushUnlock()},i.on_btnUnlock=function(){Global.ui.showTipStr("请先选择你所在的省份")},i.on_btnSelect=function(){if(this.TargetId){Global.gameController.changeAreaMsg(this.TargetId);var t=0,e=o.getLocalData("GameLevel");t=e&&""!=e?JSON.parse(e):0,Global.sdk.reportPlayerRank(t),o.setLocalData("UserGet","1"),Global.sdk.userInfoButtun&&Global.sdk.userInfoButtun.hide(),this.hideUI(r.fadeHide,!0)}},i.initdata=function(t){this.closeFunc=t},a}(s))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/SettingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventEnum.ts","./GameArgs.ts","./UIBase.ts","./FeedbackUI.ts","./CommonUtils.ts"],(function(e){"use strict";var t,o,i,n,a,l,s,r,c,u,h,d,b,v,f,m,_,g,G,L,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,s=e.Prefab,r=e.Node,c=e.log,u=e.director,h=e.instantiate,d=e.clamp},function(e){b=e.GameUIEvent,v=e.GameLogicEvent},function(e){f=e.SceneValue,m=e.GameModel},function(e){_=e.UIHideAnimType,g=e.UIShowAnimType,G=e.default},function(e){L=e.FeedbackUI},function(e){C=e.CommonUtils}],execute:function(){var S,p,w,U,A;a._RF.push({},"44528tQLjpKxryfpftUr0AU","SettingUI",void 0);var I=l.ccclass,T=l.property;e("SettingUI",(S=I("SettingUI"),p=T(s),S((A=t((U=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"FeedbackUIPrefab",A,n(t)),t._SoundLayer=void 0,t._SoundClose=void 0,t._SoundOpen=void 0,t._MusicLayer=void 0,t._MusicClose=void 0,t._MusicOpen=void 0,t._VibrateLayer=void 0,t._VibrateClose=void 0,t._VibrateOpen=void 0,t._testNode=void 0,t._buttonLayer=void 0,t.SceneValue=void 0,t.curData={},t._btnFeedback=void 0,t.curLevel=1,t._levelT=void 0,t._hasAd=void 0,t._noAd=void 0,t._hasNum=void 0,t._noNum=void 0,t._hasPath=void 0,t._noPath=void 0,t._testLayer=void 0,t._testPass=void 0,t._passEdit=void 0,t._uidT=void 0,t}o(t,e);var a=t.prototype;return a.onLoad=function(){this.refresh(),this._testNode.on(r.EventType.TOUCH_START,this.startTouch,this),this._testNode.on(r.EventType.TOUCH_CANCEL,this.endTouch,this),this._testNode.on(r.EventType.TOUCH_END,this.endTouch,this),Global.gameController.isOpenCheat||(this._testLayer.active=!1),this._testPass.active=!1,c("===========setting gameMode",Global.gameController.curModel),this.refreshAd(),this.refreshNum(),this.refreshPath(),this.refreshUID()},a.start=function(){this.curLevel=Global.gameController.settingCurLevel,this.refreshCurLevel(),this.refreshFeedBack()},a.initData=function(e){this.curData=e,this.SceneValue=e.curSceneValue,this._buttonLayer.active=this.SceneValue==f.Game},a.refresh=function(){this._SoundClose.active=!Global.sound.soundSwitch,this._SoundOpen.active=Global.sound.soundSwitch,this._MusicClose.active=!Global.sound.musicSwitch,this._MusicOpen.active=Global.sound.musicSwitch,this._VibrateClose.active=!Global.sdk.triggerSwitch,this._VibrateOpen.active=Global.sdk.triggerSwitch},a.on_btnClose=function(){this.hideUI(_.fadeHide,!0)},a.on_btnSoundSetting=function(){Global.sound.changeSoundSwitch(),this.refresh()},a.on_btnMusicSetting=function(){Global.sound.changeMusicSwitch(),this.refresh()},a.on_btnVibrateSetting=function(){Global.sdk.changeTriggerSwitch(),this.refresh()},a.startTouch=function(){var e=this;c("开始删除存档"),this.scheduleOnce((function(){e.showPassEdit()}),10)},a.endTouch=function(){c("停止删除存档"),this.unscheduleAllCallbacks()},a.on_btnBackLobby=function(){var e=this;Global.ui.startLoadingBar(!1),this.scheduleOnce((function(){u.loadScene("Lobby",(function(){Global.uiEvent.emit(b.flushDailySp),Global.logicEvent.emit(v.temporarilyCloseShow),Global.ui.stopLoadingBar()})),e.hideUI(_.fadeHide,!0)}),.2)},a.on_btnResetting=function(){var e=this;switch(Global.ui.startLoadingBar(!1),Global.logicEvent.emit(v.flushShowPath),Global.gameController.curModel){case m.sortNail:this.scheduleOnce((function(){var t;null==(t=SortNail)||t.gameUI.resetCurLevel(),Global.ui.stopLoadingBar(),e.hideUI(_.fadeHide,!0)}),.2);break;case m.sortEliminate:this.scheduleOnce((function(){var t;null==(t=SortEliminate)||t.gameUI.resetCurLevel(),Global.ui.stopLoadingBar(),e.hideUI(_.fadeHide,!0)}),.2);break;case m.diamondMode:this.scheduleOnce((function(){var t;null==(t=Diamond)||t.gameUI.resetGame(),Global.ui.stopLoadingBar(),e.hideUI(_.fadeHide,!0)}),.2);break;default:var t=u.getScene().name;this.scheduleOnce((function(){u.loadScene("Lobby",(function(){u.loadScene(t,(function(){Global.ui.stopLoadingBar(),Global.logicEvent.emit(v.flushShowPath)}))})),e.hideUI(_.fadeHide,!0)}),.2)}},a.on_btnContinue=function(){this.hideUI(_.fadeHide,!0)},a.on_btnFeedback=function(){var e=h(this.FeedbackUIPrefab);this.node.addChild(e),e.getComponent(L).showUI(g.fadeShow)},a.refreshFeedBack=function(){this._btnFeedback.active=this.curLevel<=5&&Global.gameController.curModel==m.normalGame},a.on_btnClearData=function(){Global.gameController.clearGameData(),Global.sdk.clearPlayerRemoteData()},a.refreshCurLevel=function(){this._levelT.$Label.string="关卡"+this.curLevel},a.on_btnLevelAdd=function(){this.curLevel+=1,this.curLevel=d(this.curLevel,1,99999),this.refreshCurLevel()},a.on_btnLevelSub=function(){this.curLevel-=1,this.curLevel=d(this.curLevel,1,99999),this.refreshCurLevel()},a.on_btnGoToLevel=function(){var e,t,o;switch(Global.logicEvent.emit(v.Commom_SetCurLevel,this.curLevel),Global.gameController.curModel){case m.sortNail:null==(e=SortNail)||e.gameUI.goToLevel(this.curLevel);break;case m.sortEliminate:null==(t=SortEliminate)||t.gameUI.goToLevel(this.curLevel-1);break;case m.diamondMode:null==(o=Diamond)||o.gameUI.loadLevel(this.curLevel-1);break;default:this.on_btnResetting()}},a.on_btnPassLevel=function(){Global.logicEvent.emit(v.Commom_GamePass)},a.on_btnAd=function(){Global.sdk.isOpenAdFree=!Global.sdk.isOpenAdFree,this.refreshAd()},a.refreshAd=function(){this._hasAd.active=!Global.sdk.isOpenAdFree,this._noAd.active=Global.sdk.isOpenAdFree},a.on_btnNum=function(){Global.gameController.showNumModel=!Global.gameController.showNumModel,Global.uiEvent.emit("Nail_ShowNum",Global.gameController.showNumModel),this.refreshNum()},a.refreshNum=function(){this._hasNum.active=Global.gameController.showNumModel,this._noNum.active=!Global.gameController.showNumModel},a.on_btnGetAllReward=function(){Global.gameController.testGetAllReward()},a.on_btnDayGoto=function(){Global.gameController.curZodiacLevel.Data="",Global.gameController.saveZodiacLevelMsg(),Global.ui.showTipStr("请重启!")},a.on_btnOpenAll=function(){Global.gameController.curZodiacLevel.LevelSchedule=12,Global.gameController.saveZodiacLevelMsg()},a.on_btnShowPath=function(){Global.gameController.showPathModel=!Global.gameController.showPathModel,Global.logicEvent.emit(v.flushShowPath),this.refreshNum()},a.refreshPath=function(){this._hasPath.active=Global.gameController.showPathModel,this._noPath.active=!Global.gameController.showPathModel},a.showPassEdit=function(){this._testPass.active=!0},a.editEnd=function(){"4399"==this._passEdit.$EditBox.string&&this.showTestLayer()},a.showTestLayer=function(){this._testLayer.active=!0,this._testPass.active=!1,Global.gameController.isOpenCheat=!0},a.on_btnShowInterstitialAd=function(){Global.gameController.isNewPlayer=!1,Global.gameController.InterstitialAdTimeFlag=!0},a.on_btnSame=function(){Global.levelUI.OpenSameColor()},a.on_btnClearAB=function(){C.setLocalData("LastABTest","")},a.on_btnABTest1=function(){C.setLocalData("LastABTest","1")},a.on_btnABTest2=function(){C.setLocalData("LastABTest","2")},a.on_btnABTest3=function(){C.setLocalData("LastABTest","3")},a.on_btnAddGold=function(){Global.gameController.addGold(5e3)},a.refreshUID=function(){this._uidT.$Label.string="UID："+Global.sdk.getPlayerUID()},t}(G)).prototype,"FeedbackUIPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=U))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShowPath.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./EventEnum.ts"],(function(t){"use strict";var o,e,r,n,a,i;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,n=t.director},function(t){a=t.default},function(t){i=t.GameLogicEvent}],execute:function(){var l;e._RF.push({},"e44c2dJqEtJoI9H5TfQ58UU","ShowPath",void 0);var s=r.ccclass;r.property,t("ShowPath",s("ShowPath")(l=function(t){function e(){for(var o,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(o=t.call.apply(t,[this].concat(r))||this)._strT=void 0,o}o(e,t);var r=e.prototype;return r.onLoad=function(){this._strT.active=!1,Global.logicEvent.on(i.flushShowPath,this.flushView,this),Global.logicEvent.on(i.temporarilyCloseShow,this.temporarilyCloseShow,this)},r.flushView=function(){var t=Global.gameController.showPathModel;if("Lobby"==n.getScene().name&&(t=!1),this._strT.active=t,t){var o,e=Global.gameController.getCurModelConfig();if(e.load&&e.load.length>0){o="可从";for(var r=e.load,a=0;a<r.length;a++)o+=r[a],o+="--\x3e";o=o+e.SubGameName+"进入"}else o="";this._strT.$Label.string=o}},r.temporarilyCloseShow=function(){this._strT.active=!1},e}(a))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/SiderbarUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameArgs.ts"],(function(e){"use strict";var t,i,n,o,r,a;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator},function(e){o=e.UIHideAnimType,r=e.default},function(e){a=e.TTSceneVlaue}],execute:function(){var c;i._RF.push({},"13225KaLxtNioqp9Gv9fjYE","SiderbarUI",void 0);var s=n.ccclass;n.property,e("SiderbarUI",s("SiderbarUI")(c=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this)._btnGoto=void 0,t._btnGetReward=void 0,t}t(i,e);var n=i.prototype;return n.onLoad=function(){this.flushView()},n.flushView=function(){var e=Global.sdk.getFlushSenceValue();e==a.SiderBar1||e==a.SiderBar2?(this._btnGoto.active=!1,this._btnGetReward.active=!0):(this._btnGoto.active=!0,this._btnGetReward.active=!1)},n.on_btnClose=function(){this.hideUI(o.fadeHide,!0)},n.on_btnGoto=function(){Global.sdk.openSidler(),this.hideUI(o.fadeHide,!0)},n.on_btnGetReward=function(){Global.gameController.unlockSkin(1003),this.hideUI(o.fadeHide,!0)},i}(r))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/SimpleNailData.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"30429HACZtGlLtdFkFJdN3u","SimpleNailData",void 0);t("SimpleNailData",(function(){this.worldOffset=void 0,this.offset=void 0,this.color=void 0,this.type=void 0,this.num=void 0}));i._RF.pop()}}}));

System.register("chunks:///_virtual/SkinData.ts",["cc"],(function(i){"use strict";var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"9e72eLiS61OFo2YPQvkNQ6L","SkinData",void 0);i("SkinData",(function(){this.id=void 0,this.skinName=void 0,this.skinPrefab=void 0,this.type=void 0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/SkinGetUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameArgs.ts","./BaseSkin.ts"],(function(t){"use strict";var e,n,a,i,s,c,o,r,l,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,i=t.color,s=t.v3,c=t.tween},function(t){o=t.UIHideAnimType,r=t.default},function(t){l=t.PrefabEnum},function(t){u=t.BaseSkin}],execute:function(){var f;n._RF.push({},"03ffetSV/9JUZKIH/U79ktq","SkinGetUI",void 0);var h=a.ccclass;a.property,t("SkinGetUI",h("SkinGetUI")(f=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this)._skinLayer=void 0,e._content=void 0,e._scaleLayer=void 0,e._btnGet=void 0,e}e(n,t);var a=n.prototype;return a.initData=function(t){var e=Global.prefab.getNoolPrefab(l.BaseSkin);this._skinLayer.addChild(e),e.getComponent(u).initData(t+1),t>=1e3?(this._content.$Label.string="获得稀有皮肤",this._content.$Label.color=i(238,89,232)):(this._content.$Label.string="获得普通皮肤",this._content.$Label.color=i(255,255,255)),this.playOpenUIAc()},a.playOpenUIAc=function(){var t=this;this._scaleLayer.scale=s(0,0,0),this._btnGet.scale=s(0,0,0),c(this._scaleLayer).to(.25,{scale:s(1,1,1)},{easing:"backOut"}).delay(.1).call((function(){c(t._btnGet).to(.25,{scale:s(1,1,1)},{easing:"backOut"}).start()})).start()},a.playCloseUIAc=function(){var t=this;c(this._scaleLayer).to(.25,{scale:s(0,0,0)},{easing:"backIn"}).delay(.1).call((function(){c(t._btnGet).to(.25,{scale:s(0,0,0)},{easing:"backIn"}).call((function(){t.hideUI(o.fadeHide,!0)})).start()})).start()},a.on_btnGet=function(){this.playCloseUIAc()},n}(r))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/SkinItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameArgs.ts","./UIBase.ts","./BaseSkin.ts"],(function(t){"use strict";var e,i,n,s,o,c;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){s=t.PrefabEnum},function(t){o=t.default},function(t){c=t.BaseSkin}],execute:function(){var r;i._RF.push({},"03411HZXAZDPJaOyPS1ZLVj","SkinItem",void 0);var l=n.ccclass;n.property,t("SkinItem",l("SkinItem")(r=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this)._showNode=void 0,e._selectNode=void 0,e._unlockNode=void 0,e.isSelect=!1,e.isUnlock=!1,e.curId=0,e}e(i,t);var n=i.prototype;return n.initData=function(t,e){this.curId=t,this.isUnlock=e;var i=Global.prefab.getNoolPrefab(s.BaseSkin);this._showNode.addChild(i),i.getComponent(c).initData(t+1),this._unlockNode.active=!this.isUnlock,this.refresh()},n.refresh=function(){this._selectNode.active=this.isSelect},n.switchSelect=function(t){this.isSelect=t,this.refresh()},n.on_btnClick=function(){if(this.isUnlock)this.isSelect||Global.uiEvent.emit("SkinUI_ClickSkin",this.curId);else if(this.curId<1e3){var t=Global.gameController.getSkinUnlockNeed(this.curId);Global.ui.showTipStr("还需要完成"+t+"关解锁！")}},i}(o))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/SkinUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./SkinItem.ts"],(function(t){"use strict";var i,n,e,o,r,a,c,l,s,u,h,f,k,p,d,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,c=t._decorator,l=t.Prefab,s=t.instantiate,u=t.tween,h=t.v3,f=t.color},function(t){k=t.UIShowAnimType,p=t.UIHideAnimType,d=t.default},function(t){v=t.SkinItem}],execute:function(){var y,S,_,b,m;a._RF.push({},"31f7bgkAl1B/LeC4mLTcE6D","SkinUI",void 0);var I=c.ccclass,g=c.property;t("SkinUI",(y=I("SkinUI"),S=g(l),y((m=i((b=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,e(i,"skinItemPrefab",m,o(i)),i._content=void 0,i.curSkinList=[],i.SkinType=void 0,i._btnType0=void 0,i._btnType1=void 0,i._string0=void 0,i._string1=void 0,i._Checkmark0=void 0,i._Checkmark1=void 0,i}n(i,t);var a=i.prototype;return a.onLoad=function(){Global.uiEvent.on("SkinUI_ClickSkin",this.clickSkin,this)},a.onDestroy=function(){this.unscheduleAllCallbacks(),Global.uiEvent.targetOff(this)},a.initData=function(t){var i=this;void 0===t&&(t=0),this.clearAllItem();var n=Global.data.getSkinDataList().filter((function(i){return i.type==t}));this._content.destroyAllChildren(),this.curSkinList=[];var e=0;n.forEach((function(t,n){var o=Global.gameController.checkSkinUnlock(t.id),r=s(i.skinItemPrefab);o?(i._content.insertChild(r,e),e+=1):i._content.addChild(r);var a=r.getComponent(v);a.initData(t.id,o),a.showUI(k.fadeShow),i.curSkinList.push(a)})),this.clickSkin(Global.gameController.curSkinId)},a.clearAllItem=function(){this._content.destroyAllChildren()},a.clickSkin=function(t){this.curSkinList.forEach((function(t){t.switchSelect(!1)}));for(var i,n=r(this.curSkinList);!(i=n()).done;){var e=i.value;if(e.curId==t){e.switchSelect(!0),Global.gameController.switchSkin(t),Global.logicEvent.emit("flushPlayerSkin");break}}},a.on_btnClose=function(){this.hideUI(p.fadeHide,!0)},a.playViewType=function(t,i){var n=this;if(void 0===t&&(t=0),void 0===i&&(i=0),t!=this.SkinType){for(var e=function(e){if(e==t){n["_Checkmark"+e].active=!0;var o=n["_btnType"+e].getPosition();u(n["_btnType"+e]).to(i,{position:h(o.x,16,0)}).call((function(){n["_string"+e].$Sprite.color=f(255,255,255,255)})).start(),u(n["_string"+e]).to(i,{scale:h(1,1,1)}).start()}else{n["_Checkmark"+e].active=!1;var r=n["_btnType"+e].getPosition();u(n["_btnType"+e]).to(i,{position:h(r.x,0,0)}).call((function(){n["_string"+e].$Sprite.color=f(81,81,81,255)})).start(),u(n["_string"+e]).to(i,{scale:h(.8,.8,.8)}).start()}},o=0;o<2;o++)e(o);this.SkinType=t,this.clearAllItem(),this.scheduleOnce((function(){n.initData(n.SkinType)}))}},a.on_btnType0=function(){this.playViewType(0,.2)},a.on_btnType1=function(){this.playViewType(1,.2)},i}(d)).prototype,"skinItemPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=b))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventEnum.ts","./GameArgs.ts","./CommonUtils.ts"],(function(o){"use strict";var i,u,t,n,s,c,a,e,d,h,S,r,l,m;return{setters:[function(o){i=o.createClass},function(o){u=o.cclegacy,t=o.Node,n=o.director,s=o.AudioSource,c=o.AudioClip,a=o.resources,e=o.log,d=o.tween,h=o.game},function(o){S=o.GameEvent},function(o){r=o.ResourcesArgs,l=o.SoundEnum},function(o){m=o.CommonUtils}],execute:function(){u._RF.push({},"4553fANst9HebUg/otYJTYy","SoundManager",void 0);o("SoundManager",function(){function o(){this._audioSourceSound=void 0,this._audioSourceMusic=void 0,this.audioMgr=void 0,this.commonSoundData=void 0,this.lastSound="",this.soundSwitch=!0,this.musicSwitch=!0}var u=o.prototype;return u.initAudioSource=function(){var o=new t;o.name="__audioMgr__",this.audioMgr=o,n.getScene().addChild(o),n.addPersistRootNode(o),this._audioSourceSound=o.addComponent(s),this._audioSourceMusic=o.addComponent(s),this.soundSwitch="0"!=m.getLocalData("Sound"),this.musicSwitch="1"==m.getLocalData("Music"),this.refreshMusic(),this.initEvent()},u._playOneShot=function(o,i){var u=this;void 0===i&&(i=0),o instanceof c?0==i?this._audioSourceSound.playOneShot(o):1==i&&(this._audioSourceSound.stop(),this._audioSourceSound.clip=o,this._audioSourceSound.play()):a.load(o,(function(o,i){o?console.log(o):u._audioSourceSound.playOneShot(i)}))},u._playMusic=function(o,i){var u=this;void 0===i&&(i=!1),o instanceof c?(this._audioSourceMusic.stop(),this._audioSourceMusic.clip=o,this._audioSourceMusic.play(),this._audioSourceMusic.loop=i):a.load(o,(function(o,t){o?console.log(o):(u._audioSourceMusic.clip=t,u._audioSourceMusic.play(),u._audioSourceMusic.loop=i)}))},u.stopMusic=function(){this._audioSourceMusic.stop()},u.pauseMusic=function(){this._audioSourceMusic.pause()},u.resumeMusic=function(){this._audioSourceMusic.play()},u.stopSound=function(){this._audioSourceSound.stop()},u.pauseSound=function(){this._audioSourceSound.pause()},u.resumeSound=function(){this._audioSourceSound.play()},u.initCommonClip=function(o,i){var u=this;return this.commonSoundData?this.commonSoundData.clear():this.commonSoundData=new Map,a.loadDir(r.SoundDirectory+r.CommonSoundName,c,(function(t,n){t?i("未找到通用音频数据!"):(n.forEach((function(o){var i=o.name,t=i.indexOf(".");-1!=t&&(i=i.slice(0,t)),u.commonSoundData.set(i,o)})),o("通用音频数据加载完毕!"))})),1,e("SoundManager:",1),1},u.playCommonSound=function(o){var i=this;if(this.soundSwitch&&o!=this.lastSound){this.lastSound=o,d(this.audioMgr).delay(.1).call((function(){i.lastSound=""})).start();var u=this.commonSoundData.get(o);return u?(this._playOneShot(u),u.getDuration()):0}},u.playCommonMusic=function(o){var i=this.commonSoundData.get(o);i&&this._playMusic(i,!0)},u.changeSoundSwitch=function(o){void 0===o&&(o=-1),-1==o?this.soundSwitch=!this.soundSwitch:0==o?this.soundSwitch=!1:1==o&&(this.soundSwitch=!0),this.saveLocalData()},u.changeMusicSwitch=function(o){void 0===o&&(o=-1),-1==o?this.musicSwitch=!this.musicSwitch:0==o?this.musicSwitch=!1:1==o&&(this.musicSwitch=!0),this.refreshMusic(),this.saveLocalData()},u.refreshMusic=function(){this._audioSourceMusic.volume=this.musicSwitch?1:0},u.saveLocalData=function(){m.setLocalData("Sound",this.soundSwitch?"1":"0"),m.setLocalData("Music",this.musicSwitch?"1":"0")},u.clearAudio=function(){this._audioSourceMusic.clip=null,this._audioSourceSound.clip=null},u._playButtonMusic=function(){this.playCommonSound(l.Button)},u.initEvent=function(){h.on(S.buttonMusic,this._playButtonMusic,this)},i(o,[{key:"audioSource",get:function(){return this._audioSourceSound}}]),o}());u._RF.pop()}}}));

System.register("chunks:///_virtual/SubGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./scrollViewCtr.ts","./UIBase.ts","./EventEnum.ts","./SdkController.ts","./H5LoginUI.ts"],(function(e){"use strict";var t,a,n,i,o,l,r,u,s,c,m,d,h,g,p,b,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,r=e._decorator,u=e.Prefab,s=e.Label,c=e.instantiate,m=e.Sprite},function(e){d=e.default},function(e){h=e.UIShowAnimType,g=e.UIHideAnimType,p=e.default},function(e){b=e.GameUIEvent},function(e){f=e.ChannelType},function(e){y=e.H5LoginUI}],execute:function(){var G,C,v,I,S;l._RF.push({},"82e61vIzbNDnJnQLIRZGFmh","SubGame",void 0);var U=r.ccclass,w=r.property;e("SubGame",(G=U("SubGame"),C=w(u),G((S=t((I=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"H5LoginUIPrefab",S,i(t)),t._gameTypeItem=void 0,t._GameView=void 0,t.ExperienceFlag=void 0,t}a(t,e);var l=t.prototype;return l.onLoad=function(){this.flushView(),Global.uiEvent.on(b.FlushSecondUI,this.flushView,this)},l.flushView=function(){this.ExperienceFlag=Global.gameController.checkIsUseSubPlayExperienceNum(),this._gameTypeItem.active=!1;var e=Global.data.getSubGameConfig();this._GameView.getComponent(d).dataList=e.filter((function(e){var t=Global.sdk.getRemoteSubGameConfig(e.SubGameId);return null==t?e.isShow:t}))},l.flushItem=function(e,t,a){var n=this;e.getChildByName("GameName").getComponent(s).string=t.SubGameName;var i=t.GameType;e.getChildByName("typeList").destroyAllChildren(),this.scheduleOnce((function(){for(var t,a=o(i);!(t=a()).done;){var l=t.value,r=c(n._gameTypeItem);r.active=!0,r.parent=e.getChildByName("typeList"),r.getChildByName("context").getComponent(s).string=l}})),e.getChildByName("icon").getComponent(m).spriteFrame=Global.art.getSubGameIcon(t.IconName);var l=Global.gameController.getSubDataById(t.SubGameId),r=e.getChildByName("clickBtn").getChildByName("layout").getChildByName("SubPlayAd");r.active=l<t.UnlockAd&&!this.ExperienceFlag,r.getChildByName("AdNum").getComponent(s).string=l+"/"+t.UnlockAd},l.onClickBtn=function(e,t){var a=this._GameView.getComponent(d).getDataByUuid(e.target.parent.uuid);if(Global.sdk.curChannel==f.H5NoAd&&!Global.gameController.checkH5LoginState(a.SubGameId)&&Global.gameController.isOpenH5PassWord){var n=c(this.H5LoginUIPrefab);this.node.addChild(n);var i=n.getComponent(y);i.showUI(h.fadeShow),i.initdata(a.SubGameId,(function(){Global.uiEvent.emit(b.ShowSubPlayAd,a.SubGameId)}))}else Global.uiEvent.emit(b.ShowSubPlayAd,a.SubGameId);this.flushView()},l.on_btnClose=function(){this.ExperienceFlag&&Global.gameController.UseSubPlayExperience(),this.hideUI(g.fadeHide,!0)},t}(p)).prototype,"H5LoginUIPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=I))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/SubGame2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./scrollViewCtr.ts","./UIBase.ts","./GameArgs.ts","./EventEnum.ts","./CommonUtils.ts","./SdkController.ts","./H5LoginUI.ts"],(function(e){"use strict";var t,a,n,o,i,l,r,u,s,c,m,d,b,g,h,f,G,p,S,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,r=e.Prefab,u=e.Label,s=e.Sprite,c=e.instantiate,m=e.director},function(e){d=e.default},function(e){b=e.UIShowAnimType,g=e.UIHideAnimType,h=e.default},function(e){f=e.GameModel},function(e){G=e.GameUIEvent},function(e){p=e.CommonUtils},function(e){S=e.ChannelType},function(e){C=e.H5LoginUI}],execute:function(){var v,y,I,U,w;i._RF.push({},"88d6da8RD1F/Zy//Yth3r26","SubGame2",void 0);var L=l.ccclass,E=l.property;e("SubGame2",(v=L("SubGame2"),y=E(r),v((w=t((U=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,n(t,"H5LoginUIPrefab",w,o(t)),t._GameView=void 0,t._MainGameValue=void 0,t.ExperienceFlag=void 0,t}a(t,e);var i=t.prototype;return i.onLoad=function(){this.flushView(),Global.uiEvent.on(G.FlushSecondUI,this.flushView,this)},i.flushView=function(){this.ExperienceFlag=Global.gameController.checkIsUseSubPlayExperienceNum();var e=Global.data.getSubGameConfig();this._GameView.getComponent(d).dataList=e.filter((function(e){var t=!1,a=Global.sdk.getRemoteSubGameConfig(e.SubGameId);return null==a?a=e.isShow:t=a,t}));var t=p.getLocalData("GameLevel");this._MainGameValue.$Label.string="开始第"+t+"关"},i.flushItem=function(e,t,a){e.getChildByName("GameName").getComponent(u).string=t.SubGameName,e.getChildByName("icon").getComponent(s).spriteFrame=Global.art.getSubGameIcon2(t.IconName);var n=Global.gameController.getSubDataById(t.SubGameId),o=e.getChildByName("lockAd");o.active=n<t.UnlockAd&&!this.ExperienceFlag,o.getChildByName("adValue").getComponent(u).string="("+n+"/"+t.UnlockAd+")"},i.onClickBtn=function(e,t){var a=this._GameView.getComponent(d).getDataByUuid(e.target.parent.uuid);if(Global.sdk.curChannel==S.H5NoAd&&!Global.gameController.checkH5LoginState(a.SubGameId)&&Global.gameController.isOpenH5PassWord){var n=c(this.H5LoginUIPrefab);this.node.addChild(n);var o=n.getComponent(C);o.showUI(b.fadeShow),o.initdata(a.SubGameId,(function(){Global.uiEvent.emit(G.ShowSubPlayAd,a.SubGameId)}))}else Global.uiEvent.emit(G.ShowSubPlayAd,a.SubGameId);this.flushView()},i.on_btnClose=function(){this.ExperienceFlag&&Global.gameController.UseSubPlayExperience(),this.hideUI(g.fadeHide,!0)},i.on_btnPlayMainGame=function(){Global.gameController.curModel=f.normalGame,m.loadScene("Game",(function(){}))},t}(h)).prototype,"H5LoginUIPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=U))||I));i._RF.pop()}}}));

System.register("chunks:///_virtual/SubGame3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./scrollViewCtr.ts","./UIBase.ts","./EventEnum.ts","./SdkController.ts","./H5LoginUI.ts"],(function(e){"use strict";var t,i,n,a,o,l,r,s,u,c,d,p,m,h,y,b,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,r=e.Prefab,s=e.Label,u=e.Sprite,c=e.instantiate},function(e){d=e.default},function(e){p=e.UIShowAnimType,m=e.UIHideAnimType,h=e.default},function(e){y=e.GameUIEvent},function(e){b=e.ChannelType},function(e){f=e.H5LoginUI}],execute:function(){var g,v,G,S,C;o._RF.push({},"6ee90C/Z3BBWKyjLKU0Yj5a","SubGame3",void 0);var w=l.ccclass,I=l.property;e("SubGame3",(g=w("SubGame3"),v=I(r),g((C=t((S=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"H5LoginUIPrefab",C,a(t)),t._GameView=void 0,t.ExperienceFlag=void 0,t.ViewType=void 0,t._btnType1=void 0,t._btnType2=void 0,t._btnType3=void 0,t._string1=void 0,t._string2=void 0,t._string3=void 0,t._Checkmark1=void 0,t._Checkmark2=void 0,t._Checkmark3=void 0,t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.playViewType(1),Global.uiEvent.on(y.FlushSecondUI,this.flushView,this)},o.flushView=function(){var e=this;this.ExperienceFlag=Global.gameController.checkIsUseSubPlayExperienceNum();var t=Global.data.getSubGameConfig();t=t.filter((function(t){var i=Global.sdk.getRemoteSubGameType(t.SubGameId);return null==i||i.length<=0?null==t.classifyList||t.classifyList.length<=0?3==e.ViewType:t.classifyList.indexOf(e.ViewType)>=0:i.indexOf(e.ViewType)>=0})),this._GameView.getComponent(d).dataList=t.filter((function(e){var t=Global.sdk.getRemoteSubGameConfig(e.SubGameId);return null==t?e.isShow:t}))},o.flushItem=function(e,t,i){e.getChildByName("GameName").getComponent(s).string=t.SubGameName,e.getChildByName("icon").getComponent(u).spriteFrame=Global.art.getSubGameIcon(t.IconName);var n=Global.gameController.getSubDataById(t.SubGameId),a=e.getChildByName("clickBtn").getChildByName("layout").getChildByName("SubPlayAd");a.active=n<t.UnlockAd&&!this.ExperienceFlag,a.getChildByName("AdNum").getComponent(s).string=n+"/"+t.UnlockAd},o.onClickBtn=function(e,t){var i=this._GameView.getComponent(d).getDataByUuid(e.target.parent.uuid);if(Global.sdk.curChannel==b.H5NoAd&&!Global.gameController.checkH5LoginState(i.SubGameId)&&Global.gameController.isOpenH5PassWord){var n=c(this.H5LoginUIPrefab);this.node.addChild(n);var a=n.getComponent(f);a.showUI(p.fadeShow),a.initdata(i.SubGameId,(function(){Global.uiEvent.emit(y.ShowSubPlayAd,i.SubGameId)}))}else Global.uiEvent.emit(y.ShowSubPlayAd,i.SubGameId);this.flushView()},o.on_btnClose=function(){this.ExperienceFlag&&Global.gameController.UseSubPlayExperience(),this.hideUI(m.fadeHide,!0)},o.playViewType=function(e,t,i){if(void 0===e&&(e=0),e!=this.ViewType){for(var n=1;n<4;n++)this["_Checkmark"+n].active=n==e;this.ViewType=e,this.flushView()}},o.on_btnType1=function(){this.playViewType(1,!1,.2)},o.on_btnType2=function(){this.playViewType(2,!1,.2)},o.on_btnType3=function(){this.playViewType(3,!1,.2)},t}(h)).prototype,"H5LoginUIPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=S))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameData.ts",["cc"],(function(i){"use strict";var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"c6f06tlAedLwaqaJo3ZFWwf","SubGameData",void 0);i("SubGameData",(function(){this.SubGameId=void 0,this.SubGameName=void 0,this.UnlockAd=void 0,this.IconName=void 0,this.GameType=void 0,this.SenceName=void 0,this.isShow=void 0,this.H5PassWord=void 0,this.classifyList=void 0,this.load=void 0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/tdanalytics.mg.cocoscreator.min.js",["./cjs-loader.mjs"],(function(e,t){"use strict";var i;return{setters:[function(e){i=e.default}],execute:function(){e("default",void 0);var n=e("__cjsMetaURL",t.meta.url);i.define(n,(function(t,i,n,a,r){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,i){return t&&c(e.prototype,t),i&&c(e,i),e}var l="3.0.1",h="MG",p={},d=Array.prototype,f=Object.prototype,g=d.slice,m=f.toString,v=Object.prototype.hasOwnProperty,y=d.forEach,_=Array.isArray,k={},S=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"];p.each=function(e,t,i){if(null==e)return!1;if(y&&e.forEach===y)e.forEach(t,i);else if(e.length===+e.length){for(var n=0,a=e.length;n<a;n++)if(n in e&&t.call(i,e[n],n,e)===k)return!1}else for(var r in e)if(v.call(e,r)&&t.call(i,e[r],r,e)===k)return!1},p.extend=function(e){return p.each(g.call(arguments,1),(function(t){for(var i in t)void 0!==t[i]&&(e[i]=t[i])})),e},p.extend2Layers=function(e){return p.each(g.call(arguments,1),(function(t){for(var i in t)void 0!==t[i]&&(p.isObject(t[i])&&p.isObject(e[i])?p.extend(e[i],t[i]):e[i]=t[i])})),e},p.isArray=_||function(e){return"[object Array]"===m.call(e)},p.isFunction=function(e){try{return"function"==typeof e}catch(e){return!1}},p.isPromise=function(e){return"[object Promise]"===m.call(e)&&null!=e},p.isObject=function(e){return"[object Object]"===m.call(e)&&null!=e},p.isEmptyObject=function(e){if(p.isObject(e)){for(var t in e)if(v.call(e,t))return!1;return!0}return!1},p.isUndefined=function(e){return void 0===e},p.isString=function(e){return"[object String]"===m.call(e)},p.isDate=function(e){return"[object Date]"===m.call(e)},p.isBoolean=function(e){return"[object Boolean]"===m.call(e)},p.isNumber=function(e){return"[object Number]"===m.call(e)&&/[\d\.]+/.test(String(e))},p.isJSONString=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},p.decodeURIComponent=function(e){var t="";try{t=decodeURIComponent(e)}catch(i){t=e}return t},p.encodeURIComponent=function(e){var t="";try{t=encodeURIComponent(e)}catch(i){t=e}return t},p.utf8Encode=function(e){for(var t,i="",n=t=0,a=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,r=0;r<a;r++){var s=e.charCodeAt(r),o=null;s<128?t++:o=127<s&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),null!==o&&(n<t&&(i+=e.substring(n,t)),i+=o,n=t=r+1)}return n<t&&(i+=e.substring(n,e.length)),i},p.base64Encode=function(e){var t,i,n,a,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,o=0,c="",u=[];if(!e)return e;for(e=p.utf8Encode(e);t=(a=e.charCodeAt(s++)<<16|e.charCodeAt(s++)<<8|e.charCodeAt(s++))>>18&63,i=a>>12&63,n=a>>6&63,a&=63,u[o++]=r.charAt(t)+r.charAt(i)+r.charAt(n)+r.charAt(a),s<e.length;);switch(c=u.join(""),e.length%3){case 1:c=c.slice(0,-2)+"==";break;case 2:c=c.slice(0,-1)+"="}return c},p.encodeDates=function(e){return p.each(e,(function(t,i){if(p.isDate(t))e[i]=p.formatDate(t);else if(p.isObject(t))e[i]=p.encodeDates(t);else if(p.isArray(t))for(var n=0;n<t.length;n++)p.isDate(t[n])&&(e[i][n]=p.formatDate(t[n]))})),e},p.formatDate=function(e){function t(e){return e<10?"0"+e:e}return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+" "+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+"."+((i=e.getMilliseconds())<100&&9<i?"0"+i:i<10?"00"+i:i);var i},p.searchObjDate=function(e){try{(p.isObject(e)||p.isArray(e))&&p.each(e,(function(t,i){p.isObject(t)||p.isArray(t)?p.searchObjDate(e[i]):p.isDate(t)&&(e[i]=p.formatDate(t))}))}catch(e){b.warn(e)}},p.UUID=function(){var e=(new Date).getTime();return String(Math.random()).replace(".","").slice(1,11)+"-"+e},p.UUIDv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},p.setMpPlatform=function(e){p.mpPlatform=e},p.getMpPlatform=function(){return p.mpPlatform},p.createExtraHeaders=function(){return{"TA-Integration-Type":h,"TA-Integration-Version":l,"TA-Integration-Count":"1","TA-Integration-Extra":p.getMpPlatform()}},p.checkAppId=function(e){return e.replace(/\s*/g,"")},p.checkUrl=function(e){return e=e.replace(/\s*/g,""),p.url("basic",e)},p.url=function(){function e(){return new RegExp(/(.*?)\.?([^.]*?)\.(com|net|org|biz|ws|in|me|co\.uk|co|org\.uk|ltd\.uk|plc\.uk|me\.uk|edu|mil|br\.com|cn\.com|eu\.com|hu\.com|no\.com|qc\.com|sa\.com|se\.com|se\.net|us\.com|uy\.com|ac|co\.ac|gv\.ac|or\.ac|ac\.ac|af|am|as|at|ac\.at|co\.at|gv\.at|or\.at|asn\.au|com\.au|edu\.au|org\.au|net\.au|id\.au|be|ac\.be|adm\.br|adv\.br|am\.br|arq\.br|art\.br|bio\.br|cng\.br|cnt\.br|com\.br|ecn\.br|eng\.br|esp\.br|etc\.br|eti\.br|fm\.br|fot\.br|fst\.br|g12\.br|gov\.br|ind\.br|inf\.br|jor\.br|lel\.br|med\.br|mil\.br|net\.br|nom\.br|ntr\.br|odo\.br|org\.br|ppg\.br|pro\.br|psc\.br|psi\.br|rec\.br|slg\.br|tmp\.br|tur\.br|tv\.br|vet\.br|zlg\.br|br|ab\.ca|bc\.ca|mb\.ca|nb\.ca|nf\.ca|ns\.ca|nt\.ca|on\.ca|pe\.ca|qc\.ca|sk\.ca|yk\.ca|ca|cc|ac\.cn|net\.cn|com\.cn|edu\.cn|gov\.cn|org\.cn|bj\.cn|sh\.cn|tj\.cn|cq\.cn|he\.cn|nm\.cn|ln\.cn|jl\.cn|hl\.cn|js\.cn|zj\.cn|ah\.cn|gd\.cn|gx\.cn|hi\.cn|sc\.cn|gz\.cn|yn\.cn|xz\.cn|sn\.cn|gs\.cn|qh\.cn|nx\.cn|xj\.cn|tw\.cn|hk\.cn|mo\.cn|cn|cx|cz|de|dk|fo|com\.ec|tm\.fr|com\.fr|asso\.fr|presse\.fr|fr|gf|gs|co\.il|net\.il|ac\.il|k12\.il|gov\.il|muni\.il|ac\.in|co\.in|org\.in|ernet\.in|gov\.in|net\.in|res\.in|is|it|ac\.jp|co\.jp|go\.jp|or\.jp|ne\.jp|ac\.kr|co\.kr|go\.kr|ne\.kr|nm\.kr|or\.kr|li|lt|lu|asso\.mc|tm\.mc|com\.mm|org\.mm|net\.mm|edu\.mm|gov\.mm|ms|nl|no|nu|pl|ro|org\.ro|store\.ro|tm\.ro|firm\.ro|www\.ro|arts\.ro|rec\.ro|info\.ro|nom\.ro|nt\.ro|se|si|com\.sg|org\.sg|net\.sg|gov\.sg|sk|st|tf|ac\.th|co\.th|go\.th|mi\.th|net\.th|or\.th|tm|to|com\.tr|edu\.tr|gov\.tr|k12\.tr|net\.tr|org\.tr|com\.tw|org\.tw|net\.tw|ac\.uk|uk\.com|uk\.net|gb\.com|gb\.net|vg|sh|kz|ch|info|ua|gov|name|pro|ie|hk|com\.hk|org\.hk|net\.hk|edu\.hk|us|tk|cd|by|ad|lv|eu\.lv|bz|es|jp|cl|ag|mobi|eu|co\.nz|org\.nz|net\.nz|maori\.nz|iwi\.nz|io|la|md|sc|sg|vc|tw|travel|my|se|tv|pt|com\.pt|edu\.pt|asia|fi|com\.ve|net\.ve|fi|org\.ve|web\.ve|info\.ve|co\.ve|tel|im|gr|ru|net\.ru|org\.ru|hr|com\.hr|ly|xyz)$/)}function t(e,t){var i=e.charAt(0);t=t.split(i);return i===e?t:t[(e=parseInt(e.substring(1),10))<0?t.length+e:e-1]}function i(e,t){for(var i,n,a=e.charAt(0),r=t.split("&"),s=[],o={},c=e.substring(1),u=0,l=r.length;u<l;u++)if(""!==(s=(s=r[u].match(/(.*?)=(.*)/))||[r[u],r[u],""])[1].replace(/\s/g,"")){if(s[2]=(n=s[2]||"",p.decodeURIComponent(n.replace(/\+/g," "))),c===s[1])return s[2];(i=s[1].match(/(.*)\[([0-9]+)\]/))?(o[i[1]]=o[i[1]]||[],o[i[1]][i[2]]=s[2]):o[s[1]]=s[2]}return a===e?o:o[c]}return function(n,a){var r={};if("tld?"===n)return e();if(a=a||window.location.toString(),!n)return a;if(n=n.toString(),a.match(/^mailto:([^/].+)/))s=a.match(/^mailto:([^/].+)/),r.protocol="mailto",r.email=s[1];else{if(a.match(/(.*?)\/#!(.*)/)&&(a=(s=a.match(/(.*?)\/#!(.*)/))[1]+s[2]),a.match(/(.*?)#(.*)/)&&(s=a.match(/(.*?)#(.*)/),r.hash=s[2],a=s[1]),r.hash&&n.match(/^#/))return i(n,r.hash);if(a.match(/(.*?)\?(.*)/)&&(s=a.match(/(.*?)\?(.*)/),r.query=s[2],a=s[1]),r.query&&n.match(/^\?/))return i(n,r.query);if(a.match(/(.*?):?\/\/(.*)/)&&(s=a.match(/(.*?):?\/\/(.*)/),r.protocol=s[1].toLowerCase(),a=s[2]),a.match(/(.*?)(\/.*)/)&&(s=a.match(/(.*?)(\/.*)/),r.path=s[2],a=s[1]),r.path=(r.path||"").replace(/^([^/])/,"/$1").replace(/\/$/,""),n.match(/^[-0-9]+$/)&&(n=n.replace(/^([^/])/,"/$1")),n.match(/^\//))return t(n,r.path.substring(1));if((s=(s=t("/-1",r.path.substring(1)))&&s.match(/(.*?)\.(.*)/))&&(r.file=s[0],r.filename=s[1],r.fileext=s[2]),a.match(/(.*):([0-9]+)$/)&&(s=a.match(/(.*):([0-9]+)$/),r.port=s[2],a=s[1]),a.match(/(.*?)@(.*)/)&&(s=a.match(/(.*?)@(.*)/),r.auth=s[1],a=s[2]),r.auth&&(s=r.auth.match(/(.*):(.*)/),r.user=s?s[1]:r.auth,r.pass=s?s[2]:void 0),r.hostname=a.toLowerCase(),"."===n.charAt(0))return t(n,r.hostname);e()&&(s=r.hostname.match(e()))&&(r.tld=s[3],r.domain=s[2]?s[2]+"."+s[3]:void 0,r.sub=s[1]||void 0);var s=r.port?":"+r.port:"";r.protocol=r.protocol||window.location.protocol.replace(":",""),r.port=r.port||("https"===r.protocol?"443":"80"),r.protocol=r.protocol||("443"===r.port?"https":"http"),r.basic=r.protocol+"://"+r.hostname+s}return n in r?r[n]:"{}"===n?r:""}}(),p.createString=function(e){for(var t=e,i=Math.random().toString(36).substr(2);i.length<t;)i+=Math.random().toString(36).substr(2);return i.substr(0,e)},p.createAesKey=function(){return p.createString(16)},p.generateEncryptyData=function(e,t){if(void 0===t)return e;var i=t.publicKey,n=t.version;if(void 0===i||void 0===n)return e;if("undefined"==typeof CryptoJS||"undefined"==typeof JSEncrypt)return e;var a=p.createAesKey();try{var r=CryptoJS.enc.Utf8.parse(a),s=CryptoJS.enc.Utf8.parse(JSON.stringify(e)),o=p.isUndefined(CryptoJS.pad.Pkcs7)?CryptoJS.pad.PKCS7:CryptoJS.pad.Pkcs7;r=CryptoJS.AES.encrypt(s,r,{mode:CryptoJS.mode.ECB,padding:o}).toString();return(o=new JSEncrypt).setPublicKey(i),!1===(o=o.encrypt(a))?(b.warn("Encryption failed, return the original data"),e):{pkv:n,ekey:o,payload:r}}catch(e){b.warn("Encryption failed, return the original data: "+e)}return e},p.getUtm=function(){var e={};return p.each(S,(function(t){try{var i=p.getQueryParam(location.href,t);i.length&&(e[t]=i)}catch(t){b.warn("get utm fail: "+t)}})),JSON.stringify(e)},p.getQueryParam=function(e,t){return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),e=p.decodeURIComponent(e),null===(e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e))||e&&"string"!=typeof e[1]&&e[1].length?"":p.decodeURIComponent(e[1])},p.getUtmFromQuery=function(e){var t={};return p.each(S,(function(i){e[i]&&(t[i]=e[i])})),JSON.stringify(t)},p.indexOf=function(e,t){var i=e.indexOf;if(i)return i.call(e,t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1},p.checkCalibration=function(e,t,i){return e};var b="object"===s(b)?b:{};b.info=function(){if("object"===("undefined"==typeof console?"undefined":s(console))&&console.log&&b.enabled)try{return arguments[0]="[ThinkingData] Info: "+arguments[0],console.log.apply(console,arguments)}catch(e){console.log("[ThinkingData] Info: "+arguments[0])}},b.warn=function(){if("object"===("undefined"==typeof console?"undefined":s(console))&&console.log&&b.enabled)try{return arguments[0]="[ThinkingData] Warning: "+arguments[0],console.warn.apply(console,arguments)}catch(e){console.warn("[ThinkingData] Warning: "+arguments[0])}};var I=function(){function e(){o(this,e),this.config={persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_mg"}}return u(e,[{key:"getConfig",value:function(){return this.config}},{key:"getStorage",value:function(e,t,i){if(e=localStorage.getItem(e),!t)return p.isJSONString(e)?JSON.parse(e):{};p.isJSONString(e)?i(JSON.parse(e)):i({})}},{key:"setStorage",value:function(e,t){localStorage.setItem(e,t)}},{key:"removeStorage",value:function(e){localStorage.removeItem(e)}},{key:"_setSystemProxy",value:function(e){this._sysCallback=e}},{key:"getSystemInfo",value:function(e){var t={mp_platform:"web",system:this._getOs(),screenWidth:window.screen.width,screenHeight:window.screen.height,systemLanguage:navigator.language};this._sysCallback&&(t=p.extend(t,this._sysCallback(e))),e.success(t),e.complete()}},{key:"_getOs",value:function(){var e=navigator.userAgent;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"MacOS":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"ChromeOS":""}},{key:"getNetworkType",value:function(e){e.complete()}},{key:"onNetworkStatusChange",value:function(){}},{key:"request",value:function(e){var t={},i=new XMLHttpRequest;if(i.open(e.method,e.url),e.header)for(var n in e.header)i.setRequestHeader(n,e.header[n]);return i.onreadystatechange=function(){4===i.readyState&&200===i.status?(t.statusCode=200,p.isJSONString(i.responseText)&&(t.data=JSON.parse(i.responseText)),e.success(t)):200!==i.status&&(t.errMsg="network error",e.fail(t))},i.ontimeout=function(){t.errMsg="timeout",e.fail(t)},i.send(e.data),i}},{key:"initAutoTrackInstance",value:function(e,t){this.instance=e,this.autoTrack=t.autoTrack;var i=this;i.onPageShow(),i.autoTrack.appHide&&i.instance.timeEvent("ta_page_hide"),"onvisibilitychange"in document&&(document.onvisibilitychange=function(){document.hidden?i.onPageHide(!0):(i.onPageShow(),i.autoTrack.appHide&&i.instance.timeEvent("ta_page_hide"))})}},{key:"setGlobal",value:function(e,t){window[t]=e}},{key:"getAppOptions",value:function(){}},{key:"showToast",value:function(){}},{key:"onPageShow",value:function(){var e;this.autoTrack.appShow&&(e={},p.extend(e,this.autoTrack.properties),p.isFunction(this.autoTrack.callback)&&p.extend(e,this.autoTrack.callback("appShow")),this.instance._internalTrack("ta_page_show",e))}},{key:"onPageHide",value:function(e){var t;this.autoTrack.appHide&&(t={},p.extend(t,this.autoTrack.properties),p.isFunction(this.autoTrack.callback)&&p.extend(t,this.autoTrack.callback("appHide")),this.instance._internalTrack("ta_page_hide",t,new Date,null,e))}}],[{key:"createInstance",value:function(){return new e}}]),e}(),P=function(){function e(t,i){o(this,e),this.taInstance=t,this.config=i||{},this.referrer="Directly open",this.config.isPlugin?(t.App=function(){App.apply(this,arguments)},inension(t.Page)):(t=App,App=this._initAppExtention(t),t=Page,Page=this._initPageExtension(t))}return u(e,[{key:"_initPageExtension",value:function(e){var t=this;return function(i){var n=i.onShow,a=i.onShareAppMessage;return i.onShow=function(e){t.onPageShow(),"function"==typeof n&&n.call(this,e)},"function"==typeof a&&(i.onShareAppMessage=function(e){return e=a.call(this,e),t.onPageShare(e)}),e(i)}}},{key:"_initAppExtention",value:function(e){var t=this;return function(i){var n=i.onLaunch,a=i.onShow,r=i.onHide;return i.onLaunch=function(e){t.onAppLaunch(e,this),"function"==typeof n&&n.call(this,e)},i.onShow=function(e){t.onAppShow(e),"function"==typeof a&&a.call(this,e)},i.onHide=function(){t.onAppHide(),"function"==typeof r&&r.call(this)},e(i)}}},{key:"onAppLaunch",value:function(e,t){this._setAutoTrackProperties(e),p.isUndefined(t)||(t[this.taInstance.name]=this.taInstance),this.config.appLaunch&&(t={},e&&e.path&&(t["#url_path"]=this._getPath(e.path)),e&&e.query&&(t["#utm"]=p.getUtmFromQuery(e.query)),this.taInstance._internalTrack("ta_mp_launch",t))}},{key:"onAppShow",value:function(e){var t;this.config.appHide&&this.taInstance.timeEvent("ta_mp_hide"),this._setAutoTrackProperties(e),this.config.appShow&&(t={},e&&e.path&&(t["#url_path"]=this._getPath(e.path)),e&&e.query&&(t["#utm"]=p.getUtmFromQuery(e.query)),p.extend(t,this.config.properties),p.isFunction(this.config.callback)&&p.extend(t,this.config.callback("appShow")),this.taInstance._internalTrack("ta_mp_show",t))}},{key:"onAppHide",value:function(){var e;this.config.appHide&&(e={"#url_path":this._getCurrentPath()},p.extend(e,this.config.properties),p.isFunction(this.config.callback)&&p.extend(e,this.config.callback("appHide")),this.taInstance._internalTrack("ta_mp_hide",e))}},{key:"_getCurrentPath",value:function(){var e="Not to get";try{var t=getCurrentPages();e=t[t.length-1].route}catch(e){b.info(e)}return e}},{key:"_setAutoTrackProperties",value:function(e){e={"#scene":e.scene},this.taInstance._setAutoTrackProperties(e)}},{key:"_getPath",value:function(e){return"string"==typeof e?e.replace(/^\//,""):"Abnormal values"}},{key:"onPageShare",value:function(e){return this.config.pageShare&&this.taInstance._internalTrack("ta_mp_share",{"#url_path":this._getCurrentPath()}),p.isObject(e)?e:{}}},{key:"onPageShow",value:function(){var e,t;this.config.pageShow&&(t={"#url_path":(e=this._getCurrentPath())||"The system did not get a value","#referrer":this.referrer},this.referrer=e,this.taInstance._internalTrack("ta_mp_view",t))}}]),e}(),C=function(){function e(t,i,n){var a=this;o(this,e),this.taInstance=t,this.config=i||{},i=n.getLaunchOptionsSync(),this._onShow(i),this.startTracked=!0,n.onShow((function(e){a._onShow(e)})),n.onHide((function(){var e;a.startTracked=!1,a.config.appHide&&(e={},p.extend(e,a.config.properties),p.isFunction(a.config.callback)&&p.extend(e,a.config.callback("appHide")),a.taInstance._internalTrack("ta_mg_hide",e))}))}return u(e,[{key:"_onShow",value:function(e){this.startTracked||(this.config.appHide&&this.taInstance.timeEvent("ta_mg_hide"),e&&e.scene&&this.taInstance._setAutoTrackProperties({"#scene":e.scene}),this.config.appShow&&(e={},p.extend(e,this.config.properties),p.isFunction(this.config.callback)&&p.extend(e,this.config.callback("appShow")),this.taInstance._internalTrack("ta_mg_show",e)))}}]),e}(),N=function(){function e(t,i,n){o(this,e),this.api=t,this.config=i,this._config=n}return u(e,[{key:"getConfig",value:function(){return this.config}},{key:"getStorage",value:function(e,t,i){if(!t){if("dd_mp"===this._config.platform){var n=this.api.getStorageSync({key:e});return p.isJSONString(n.data)?JSON.parse(n.data):{}}return n=this.api.getStorageSync(e),p.isJSONString(n)?JSON.parse(n):{}}this.api.getStorage({key:e,success:function(e){e=p.isJSONString(e.data)?JSON.parse(e.data):{},i(e)},fail:function(){b.warn("getStorage faild"),i({})}})}},{key:"setStorage",value:function(e,t){"ali_mp"===this._config.platform||"tb_mp"===this._config.platform||"dd_mp"===this._config.platform?this.api.setStorageSync({key:e,data:t}):this.api.setStorageSync(e,t)}},{key:"removeStorage",value:function(e){p.isFunction(this.api.removeStorage)?this.api.removeStorage({key:e}):p.isFunction(this.api.deleteStorage)&&this.api.deleteStorage({key:e})}},{key:"_getPlatform",value:function(){return""}},{key:"getSystemInfo",value:function(e){var t=this._config.mpPlatform;this.api.getSystemInfo({success:function(i){p.isFunction(t)?i.mp_platform=t(i):i.mp_platform=t,e.success(i),"wechat"===t&&e.complete()},complete:function(){e.complete()}})}},{key:"getNetworkType",value:function(e){p.isFunction(this.api.getNetworkType)?this.api.getNetworkType({success:function(t){e.success(t)},complete:function(){e.complete()}}):(e.success({}),e.complete())}},{key:"onNetworkStatusChange",value:function(e){p.isFunction(this.api.onNetworkStatusChange)?this.api.onNetworkStatusChange(e):e({})}},{key:"request",value:function(e){if("ali_mp"!==this._config.platform&&"dd_mp"!==this._config.platform)return this.api.request(e);var t=p.extend({},e);return t.headers=e.header,t.success=function(t){t.statusCode=t.status,e.success(t)},t.fail=function(t){t.errMsg=t.errorMessage,e.fail(t)},"dd_mp"===this._config.platform?this.api.httpRequest(t):this.api.request(t)}},{key:"initAutoTrackInstance",value:function(e,t){return p.isObject(t.autoTrack)&&(t.autoTrack.isPlugin=t.is_plugin),new(this._config.mp?P:C)(e,t.autoTrack,this.api)}},{key:"setGlobal",value:function(e,t){this._config.mp?b.warn("ThinkingAnalytics: we do not set global name for TA instance when you do not enable auto track."):GameGlobal[t]=e}},{key:"getAppOptions",value:function(e){var t={};try{t=this.api.getLaunchOptionsSync()}catch(e){b.warn("Cannot get launch options.")}if(p.isFunction(e))try{this._config.mp?this.api.onAppShow(e):this.api.onShow(e)}catch(e){b.warn("Cannot register onShow callback.")}return t}},{key:"showToast",value:function(e){var t;p.isFunction(this.api.showToast)&&(t={title:e},"dd_mp"!==this._config.platform&&"ali_mp"!==this._config.platform||(t.content=e),this.api.showToast(t))}}],[{key:"createInstance",value:function(){return this._createInstance("R_CURRENT_PLATFORM")}},{key:"_createInstance",value:function(t){switch(t){case"wechat_mp":return new e(wx,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_wechat"},{mpPlatform:"wechat",mp:!0,platform:t});case"wechat_mg":return new e(wx,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_wechat_game"},{mpPlatform:"wechat",platform:t});case"qq_mp":return new e(qq,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qq"},{mpPlatform:"qq",mp:!0,platform:t});case"qq_mg":return new e(qq,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qq_game"},{mpPlatform:"qq",platform:t});case"baidu_mp":return new e(swan,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_swan"},{mpPlatform:function(e){return e.host},mp:!0,platform:t});case"baidu_mg":return new e(swan,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_swan_game"},{mpPlatform:function(e){return e.host},platform:t});case"tt_mg":return new e(tt,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_tt_game"},{mpPlatform:function(e){return e.appName},platform:t});case"tt_mp":return new e(tt,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_tt"},{mpPlatform:function(e){return e.appName},mp:!0,platform:t});case"ali_mp":return new e(my,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_ali"},{mpPlatform:function(e){return e.app},mp:!0,platform:t});case"dd_mp":return new e(dd,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_dd"},{mpPlatform:"dingding",mp:!0,platform:t});case"bl_mg":return new e(bl,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_mg"},{mpPlatform:"bilibili",platform:t});case"kuaishou_mp":return new e(ks,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_kuaishou"},{mpPlatform:"kuaishou",mp:!0,platform:t});case"qh360_mg":return new e(qh,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qh360"},{mpPlatform:"qh360",platform:t});case"tb_mp":return new e(my,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_tb"},{mpPlatform:"tb",mp:!0,platform:t});case"jd_mp":return new e(jd,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_jd"},{mpPlatform:"jd",mp:!0,platform:t});case"qh360_mp":return new e(qh,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qh360"},{mpPlatform:"qh360",mp:!0,platform:t});case"WEB":return new I.createInstance}}}]),e}(),A=function e(t,i){var n=this;o(this,e),this.taInstance=t,this.config=i||{},this.config.appShow&&this.taInstance._internalTrack("ta_mg_show"),this.config.appHide&&this.taInstance.timeEvent("ta_mg_hide"),qg.onShow((function(){var e;n.config.appHide&&n.taInstance.timeEvent("ta_mg_hide"),n.config.appShow&&(e={},p.extend(e,n.config.properties),p.isFunction(n.config.callback)&&p.extend(e,n.config.callback("appShow")),n.taInstance._internalTrack("ta_mg_show"))})),qg.onHide((function(){var e;n.config.appHide&&(e={},p.extend(e,n.config.properties),p.isFunction(n.config.callback)&&p.extend(e,n.config.callback("appHide")),n.taInstance._internalTrack("ta_mg_hide"))}))},w=function(){function e(){o(this,e),this.config={persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qg_vivo_game",asyncPersistence:!0}}return u(e,[{key:"getConfig",value:function(){return this.config||{}}},{key:"getStorage",value:function(e,t,i){if(!t)return t=qg.getStorageSync({key:e}),p.isJSONString(t)?JSON.parse(t):{};qg.getStorage({key:e,success:function(e){e=p.isJSONString(e)?JSON.parse(e):{},i(e)},fail:function(){i({})}})}},{key:"setStorage",value:function(e,t){qg.setStorage({key:e,value:t})}},{key:"removeStorage",value:function(e){qg.deleteStorage({key:e})}},{key:"getSystemInfo",value:function(e){qg.getSystemInfo({success:function(t){var i=t,n=[t.osType,t.osVersionName].join(" ");i.brand=t.manufacturer,i.system=n,i.mp_platform="vivo_qg",e.success(i)},complete:function(){e.complete()}})}},{key:"getNetworkType",value:function(e){qg.getNetworkType({success:function(t){var i=t;i.networkType=t.type,e.success(i)},complete:function(){e.complete()}})}},{key:"onNetworkStatusChange",value:function(e){qg.subscribeNetworkStatus({callback:function(t){var i=t;i.networkType=t.type,e(i)}})}},{key:"request",value:function(e){return qg.request({url:e.url,data:e.data,method:e.method,header:e.header,success:function(t){e.success(t)},fail:function(t){e.fail(t)}})}},{key:"initAutoTrackInstance",value:function(e,t){return new A(e,t.autoTrack)}},{key:"setGlobal",value:function(e,t){globalThis[t]=e}},{key:"getAppOptions",value:function(){return{}}},{key:"showToast",value:function(e){qg.showToast({message:e,duration:0})}}],[{key:"createInstance",value:function(){return new e}}]),e}(),O=function e(t,i,n){var a=this;o(this,e),this.taInstance=t,this.config=i||{},this.config.appShow&&(i={},p.extend(i,this.config.properties),p.isFunction(this.config.callback)&&p.extend(i,this.config.callback("appShow")),this.taInstance._internalTrack("ta_mg_show",i)),this.config.appHide&&this.taInstance.timeEvent("ta_mg_hide"),n.onShow((function(){var e;a.config.appHide&&a.taInstance.timeEvent("ta_mg_hide"),a.config.appShow&&(e={},p.extend(e,a.config.properties),p.isFunction(a.config.callback)&&p.extend(e,a.config.callback("appShow")),a.taInstance._internalTrack("ta_mg_show",e))})),n.onHide((function(){var e;a.config.appHide&&(e={},p.extend(e,a.config.properties),p.isFunction(a.config.callback)&&p.extend(e,a.config.callback("appHide")),a.taInstance._internalTrack("ta_mg_hide",e))}))},T=function(){function e(t,i,n){o(this,e),this.api=t,this.config=i,this._config=n}return u(e,[{key:"getConfig",value:function(){return this.config||{}}},{key:"getStorage",value:function(e,t,i){if(e=localStorage.getItem(e),!t)return p.isJSONString(e)?JSON.parse(e):{};p.isJSONString(e)?i(JSON.parse(e)):i({})}},{key:"setStorage",value:function(e,t){localStorage.setItem(e,t)}},{key:"removeStorage",value:function(e){localStorage.removeItem(e)}},{key:"getSystemInfo",value:function(e){var t=this._config.mpPlatform;this.api.getSystemInfo({success:function(i){i.mp_platform=t,e.success(i)},complete:function(){e.complete()}})}},{key:"getNetworkType",value:function(e){this.api.getNetworkType({success:function(t){e.success(t)},complete:function(){e.complete()}})}},{key:"onNetworkStatusChange",value:function(e){this.api.onNetworkStatusChange({callback:function(t){e(t)}})}},{key:"request",value:function(e){var t={},i=new XMLHttpRequest;if(i.open(e.method,e.url),e.header)for(var n in e.header)i.setRequestHeader(n,e.header[n]);return i.onreadystatechange=function(){4===i.readyState&&200===i.status?(t.statusCode=200,p.isJSONString(i.responseText)&&(t.data=JSON.parse(i.responseText)),e.success(t)):200!==i.status&&(t.errMsg="network error",e.fail(t))},i.ontimeout=function(){t.errMsg="timeout",e.fail(t)},i.send(e.data),i}},{key:"initAutoTrackInstance",value:function(e,t){return new O(e,t.autoTrack,this.api)}},{key:"setGlobal",value:function(e,t){globalThis[t]=e}},{key:"getAppOptions",value:function(){return this.api.getLaunchOptionsSync()}},{key:"showToast",value:function(e){this.api.showToast({title:e,icon:"none",duration:2e3})}}],[{key:"createInstance",value:function(){return this._createInstance("R_CURRENT_PLATFORM")}},{key:"_createInstance",value:function(t){switch(t){case"oppo":return new e(qg,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qg_oppo_game"},{mpPlatform:"oppo_qg"});case"huawei":return new e(hbs,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qg_huawei_game"},{mpPlatform:"huawei_qg"});case"mz":return new e(qg,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qg_mz_game"},{mpPlatform:"mz"});case"xiaomi":return new e(qg,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qg"},{mpPlatform:"xiaomi"})}}}]),e}(),j=function(){function e(){o(this,e)}return u(e,null,[{key:"createInstance",value:function(){var e=Object.freeze({WECHAT_GAME:104,QQ_PLAY:105,BAIDU_GAME:107,VIVO_GAME:108,OPPO_GAME:109,HUAWEI_GAME:110,XIAOMI_GAME:111,BYTEDANCE_GAME:117,QTT_GAME:116,LINKSURE:119,WECHAT_MINI_GAME:"WECHAT_GAME",BAIDU_MINI_GAME:"BAIDU_MINI_GAME",XIAOMI_QUICK_GAME:"XIAOMI_QUICK_GAME",OPPO_MINI_GAME:"OPPO_MINI_GAME",VIVO_MINI_GAME:"VIVO_MINI_GAME",HUAWEI_QUICK_GAME:"HUAWEI_QUICK_GAME",BYTEDANCE_MINI_GAME:"BYTEDANCE_MINI_GAME",QTT_MINI_GAME:"QTT_MINI_GAME",LINKSURE_MINI_GAME:"LINKSURE_MINI_GAME"});if(cc.sys.platform===e.WECHAT_GAME||cc.sys.platform===e.WECHAT_MINI_GAME)return N._createInstance("wechat_mg");if(cc.sys.platform===e.BAIDU_GAME||cc.sys.platform===e.BAIDU_MIN_GAME)return N._createInstance("baidu_mg");if(cc.sys.platform===e.VIVO_GAME||cc.sys.platform===e.VIVO_MINI_GAME)return w.createInstance();if(cc.sys.platform===e.QQ_PLAY)return N._createInstance("qq_mg");if(cc.sys.platform===e.OPPO_GAME||cc.sys.platform===e.OPPO_MINI_GAME)return T._createInstance("oppo");if(cc.sys.platform===e.HUAWEI_GAME||cc.sys.platform===e.HUAWEI_QUICK_GAME)return T._createInstance("huawei");if(cc.sys.platform===e.XIAOMI_GAME||cc.sys.platform===e.XIAOMI_QUICK_GAME)return T._createInstance("xiaomi");if(cc.sys.platform===e.BYTEDANCE_GAME||cc.sys.platform===e.BYTEDANCE_MINI_GAME)return N._createInstance("tt_mg");var t=I.createInstance();return t._sysCallback=function(){return{system:cc.sys.os.replace(" ","")+" "+cc.sys.osVersion}},t.getNetworkType=function(e){var t={};switch(cc.sys.getNetworkType()){case cc.sys.NetworkType.LAN:t.networkType="WIFI";break;case cc.sys.NetworkType.WWAN:t.networkType="WWAN";break;default:t.networkType="NONE"}e.success(t),e.complete()},t.getSystemInfo=function(e){var i={mp_platform:cc.sys.platform.toString(),system:t._getOs(),screenWidth:window.screen.width,screenHeight:window.screen.height};t._sysCallback&&(i=p.extend(i,t._sysCallback(e))),e.success(i),e.complete()},t}}]),e}(),D=function(){function e(){o(this,e)}return u(e,null,[{key:"_getCurrentPlatform",value:function(){return this.currentPlatform||(this.currentPlatform=j.createInstance())}},{key:"getConfig",value:function(){return this._getCurrentPlatform().getConfig()}},{key:"getStorage",value:function(e,t,i){return this._getCurrentPlatform().getStorage(e,t,i)}},{key:"setStorage",value:function(e,t){return this._getCurrentPlatform().setStorage(e,t)}},{key:"removeStorage",value:function(e){return this._getCurrentPlatform().removeStorage(e)}},{key:"getSystemInfo",value:function(e){return this._getCurrentPlatform().getSystemInfo(e)}},{key:"getNetworkType",value:function(e){return this._getCurrentPlatform().getNetworkType(e)}},{key:"onNetworkStatusChange",value:function(e){this._getCurrentPlatform().onNetworkStatusChange(e)}},{key:"request",value:function(e){return this._getCurrentPlatform().request(e)}},{key:"initAutoTrackInstance",value:function(e,t){return this._getCurrentPlatform().initAutoTrackInstance(e,t)}},{key:"setGlobal",value:function(e,t){e&&t&&this._getCurrentPlatform().setGlobal(e,t)}},{key:"getAppOptions",value:function(e){return this._getCurrentPlatform().getAppOptions(e)}},{key:"showDebugToast",value:function(e){this._getCurrentPlatform().showToast(e)}}]),e}(),x=/^[a-zA-Z][a-zA-Z0-9_]{0,49}$/,M=function(){function e(){o(this,e)}return u(e,null,[{key:"stripProperties",value:function(e){return p.isObject(e)&&p.each(e,(function(e,t){p.isString(e)||p.isNumber(e)||p.isDate(e)||p.isBoolean(e)||p.isArray(e)||p.isObject(e)||b.warn("Your data -",t,e,"- format does not meet requirements and may not be stored correctly. Attribute values only support String, Number, Date, Boolean, Array, Object")})),e}},{key:"_checkPropertiesKey",value:function(e){var t=!0;return p.each(e,(function(e,i){x.test(i)||(b.warn("Invalid KEY: "+i),t=!1)})),t}},{key:"event",value:function(e){return!(!p.isString(e)||!x.test(e))||(b.warn("Check the parameter format. The eventName must start with an English letter and contain no more than 50 characters including letters, digits, and underscores: "+e),!1)}},{key:"propertyName",value:function(e){return!(!p.isString(e)||!x.test(e))||(b.warn("Check the parameter format. PropertyName must start with a letter and contain letters, digits, and underscores (_). The value is a string of no more than 50 characters: "+e),!1)}},{key:"properties",value:function(e){return this.stripProperties(e),!(e&&(p.isObject(e)?!this._checkPropertiesKey(e)&&(b.warn("Check the parameter format. The properties key must start with a letter, contain digits, letters, and underscores (_), and contain a maximum of 50 characters"),1):(b.warn("properties can be none, but it must be an object"),1)))}},{key:"propertiesMust",value:function(e){return this.stripProperties(e),void 0===e||!p.isObject(e)||p.isEmptyObject(e)?(b.warn("properties must be an object with a value"),!1):!!this._checkPropertiesKey(e)||(b.warn("Check the parameter format. The properties key must start with a letter, contain digits, letters, and underscores (_), and contain a maximum of 50 characters"),!1)}},{key:"userId",value:function(e){return!(!p.isString(e)||!/^.{1,64}$/.test(e))||(b.warn("The user ID must be a string of less than 64 characters and cannot be null"),!1)}},{key:"userAddProperties",value:function(e){if(!this.propertiesMust(e))return!1;for(var t in e)if(!p.isNumber(e[t]))return b.warn("The attributes of userAdd need to be Number"),!1;return!0}},{key:"userAppendProperties",value:function(e){if(!this.propertiesMust(e))return!1;for(var t in e)if(!p.isArray(e[t]))return b.warn("The attribute of userAppend must be Array"),!1;return!0}}]),e}(),U=function(){function e(t,i,n,a,r){o(this,e),this.data=t,this.serverUrl=i,this.callback=r,this.tryCount=p.isNumber(n)?n:1,this.timeout=p.isNumber(a)?a:3e3,this.taClassName="HttpTask"}return u(e,[{key:"run",value:function(){var e=this,t=p.createExtraHeaders();t["content-type"]="application/json";var i=D.request({url:this.serverUrl,method:"POST",data:this.data,header:t,success:function(t){e.onSuccess(t),clearTimeout(n)},fail:function(t){e.onFailed(t),clearTimeout(n)}}),n=setTimeout((function(){(p.isObject(i)||p.isPromise(i))&&p.isFunction(i.abort)&&i.abort()}),this.timeout)}},{key:"onSuccess",value:function(e){if(200===e.statusCode){var t;switch(e.data.code){case 0:t="success";break;case-1:t="invalid data";break;case-2:t="invalid APP ID";break;default:t="Unknown return code"}this.callback({code:e.data.code,msg:t})}else this.callback({code:-3,msg:e.statusCode})}},{key:"onFailed",value:function(e){0<--this.tryCount?this.run():this.callback({code:-3,msg:e.errMsg})}}]),e}(),F=function(){function e(t,i,n,a,r,s,c){o(this,e),this.data=t,this.serverDebugUrl=i,this.callback=c,this.tryCount=p.isNumber(n)?n:1,this.timeout=p.isNumber(a)?a:3e3,this.dryrun=r,this.deviceId=s,this.taClassName="HttpTaskDebug"}return u(e,[{key:"run",value:function(){var e=this,t="appid="+this.data["#app_id"]+"&source=client&dryRun="+this.dryrun+"&deviceId="+this.deviceId+"&data="+encodeURIComponent(JSON.stringify(this.data.data[0])),i=p.createExtraHeaders();i["content-type"]="application/x-www-form-urlencoded";var n=D.request({url:this.serverDebugUrl,method:"POST",data:t,header:i,success:function(t){e.onSuccess(t),clearTimeout(a)},fail:function(t){e.onFailed(t),clearTimeout(a)}}),a=setTimeout((function(){(p.isObject(n)||p.isPromise(n))&&p.isFunction(n.abort)&&n.abort()}),this.timeout)}},{key:"onSuccess",value:function(e){if(200===e.statusCode){var t;if(0===e.data.errorLevel)t="Verify data success.";else if(1===e.data.errorLevel){for(var i=e.data.errorProperties,n="",a=0;a<i.length;a++){var r=i[a].errorReason;n=n+" propertyName:"+i[a].propertyName+" errorReasons:"+r+"\n"}t="Debug data error. errorLevel:"+e.data.errorLevel+" reason:"+n}else 2!==e.data.errorLevel&&-1!==e.data.errorLevel||(t="Debug data error. errorLevel:"+e.data.errorLevel+" reason:"+e.data.errorReasons);b.info(t),this.callback({code:e.data.errorLevel,msg:t})}else this.callback({code:-3,msg:e.statusCode})}},{key:"onFailed",value:function(e){0<--this.tryCount?this.run():this.callback({code:-3,msg:e.errMsg})}}]),e}(),E=new(function(){function e(){o(this,e),this.items=[],this.isRunning=!1,this.showDebug=!1}return u(e,[{key:"enqueue",value:function(e,t,i,n){n=!(3<arguments.length&&void 0!==n)||n;var a=this;t="debug"===i.debugMode?new F(e,t,i.maxRetries,i.sendTimeout,0,i.deviceId,(function(e){a.isRunning=!1,p.isFunction(i.callback)&&i.callback(e),a._runNext(),!1===a.showDebug&&(0!==e.code&&1!==e.code&&2!==e.code||(a.showDebug=!0,p.isFunction(D.showDebugToast)&&D.showDebugToast("The current mode is Debug")))})):"debugOnly"===i.debugMode?new F(e,t,i.maxRetries,i.sendTimeout,1,i.deviceId,(function(e){a.isRunning=!1,p.isFunction(i.callback)&&i.callback(e),a._runNext(),!1===a.showDebug&&(0!==e.code&&1!==e.code&&2!==e.code||(a.showDebug=!0,p.isFunction(D.showDebugToast)&&D.showDebugToast("The current mode is debugOnly")))})):new U(JSON.stringify(e),t,i.maxRetries,i.sendTimeout,(function(e){a.isRunning=!1,p.isFunction(i.callback)&&i.callback(e),a._runNext()}));!0===n?(this.items.push(t),this._runNext()):t.run()}},{key:"_dequeue",value:function(){return this.items.shift()}},{key:"_runNext",value:function(){if(0<this.items.length&&!this.isRunning)if(this.isRunning=!0,"HttpTask"!==this.items[0].taClassName)this._dequeue().run();else{var e=this.items.splice(0,this.items.length),t=e[0],i=JSON.parse(t.data),n=i["#app_id"],a=[];a.push(t.callback);for(var r=1;r<e.length;r++){var s=e[r],o=JSON.parse(s.data);o["#app_id"]===n&&t.serverUrl===s.serverUrl?(i.data=i.data.concat(o.data),a.push(s.callback)):this.items.push(s)}var c=(new Date).getTime();i["#flush_time"]=c,new U(JSON.stringify(i),t.serverUrl,t.tryCount,t.timeout,(function(e){for(var t in a)Object.hasOwnProperty.call(a,t)&&(0,a[t])(e)})).run()}}}]),e}()),q={name:"thinkingdata",is_plugin:!1,maxRetries:3,sendTimeout:3e3,enablePersistence:!0,asyncPersistence:!1,enableLog:!0,strict:!1,debugMode:"none",enableCalibrationTime:!1},L={properties:{"#lib":h,"#lib_version":l},initDeviceId:function(e){p.isString(e)&&(this.properties["#device_id"]=e)},getSystemInfo:function(e){var t=this;D.onNetworkStatusChange((function(e){t.properties["#network_type"]=e.networkType})),D.getNetworkType({success:function(e){t.properties["#network_type"]=e.networkType},complete:function(){D.getSystemInfo({success:function(e){var i=e.system?e.system.replace(/\s+/g," ").split(" "):[];i={"#manufacturer":e.brand,"#device_model":e.model,"#screen_width":Number(e.screenWidth),"#screen_height":Number(e.screenHeight),"#os":i[0],"#os_version":i[1],"#mp_platform":e.mp_platform,"#system_language":e.systemLanguage};p.extend(t.properties,i),p.setMpPlatform(e.mp_platform)},complete:function(){e()}})}})}},J=function(){function e(t,i){var n=this;o(this,e),this.enabled=t.enablePersistence,this.enabled?(t.isChildInstance?(this.name=t.persistenceName+"_"+t.name,this.nameOld=t.persistenceNameOld+"_"+t.name):(this.name=t.persistenceName,this.nameOld=t.persistenceNameOld),t.asyncPersistence?(this._state={},D.getStorage(this.name,!0,(function(e){p.isEmptyObject(e)?D.getStorage(n.nameOld,!0,(function(e){n._state=p.extend2Layers({},e,n._state),n._init(t,i),n._save()})):(n._state=p.extend2Layers({},e,n._state),n._init(t,i),n._save())}))):(this._state=D.getStorage(this.name)||{},p.isEmptyObject(this._state)&&(this._state=D.getStorage(this.nameOld)||{}),this._init(t,i))):(this._state={},this._init(t,i))}return u(e,[{key:"_init",value:function(e,t){this.getDistinctId()||this.setDistinctId(p.UUID()),e.isChildInstance||(this.getDeviceId()||this._setDeviceId(p.UUID()),L.initDeviceId(this.getDeviceId())),this.initComplete=!0,"function"==typeof t&&t(),this._save()}},{key:"_save",value:function(){this.enabled&&this.initComplete&&D.setStorage(this.name,JSON.stringify(this._state))}},{key:"_set",value:function(e,t){var i,n=this;"string"==typeof e?(i={})[e]=t:"object"===s(e)&&(i=e),p.each(i,(function(e,t){n._state[t]=e})),this._save()}},{key:"_get",value:function(e){return this._state[e]}},{key:"setEventTimer",value:function(e,t){var i=this._state.event_timers||{};i[e]=t,this._set("event_timers",i)}},{key:"removeEventTimer",value:function(e){var t=(this._state.event_timers||{})[e];return p.isUndefined(t)||(delete this._state.event_timers[e],this._save()),t}},{key:"getDeviceId",value:function(){return this._state.device_id}},{key:"_setDeviceId",value:function(e){this.getDeviceId()?b.warn("cannot modify the device id."):this._set("device_id",e)}},{key:"getDistinctId",value:function(){return this._state.distinct_id}},{key:"setDistinctId",value:function(e){this._set("distinct_id",e)}},{key:"getAccountId",value:function(){return this._state.account_id}},{key:"setAccountId",value:function(e){this._set("account_id",e)}},{key:"getSuperProperties",value:function(){return this._state.props||{}}},{key:"setSuperProperties",value:function(e,t){e=t?e:p.extend(this.getSuperProperties(),e),this._set("props",e)}}]),e}(),R=function(){function e(t,i){o(this,e),this.config=t,this.ta=i,this.timer=null,this.batchConfig=p.extend({size:5,interval:5e3,storageLimit:200},this.config.batchConfig),this.batchConfig.size<1&&(this.batchConfig.size=1),30<this.batchConfig.size&&(this.batchConfig.size=30),this.tabKey="tab_tampsdk_"+this.config.appId,this.storageLimit=this.batchConfig.storageLimit,this.isRequest=!1,this.trackList=[],this.needFlush=!1}return u(e,[{key:"batchInterval",value:function(){var e=this;e.timer=setTimeout((function(){e.recycle(),e.send(),clearTimeout(e.timer),e.batchInterval()}),this.batchConfig.interval)}},{key:"add",value:function(e){if(this.isRequest)this.trackList.push(e);else{var t=e,i="tampsdk_"+this.config.appId+"_"+String(p.UUID());e=D.getStorage(this.tabKey);if(p.isArray(e)||(e=[]),e.length<=this.storageLimit)e.push(i),D.setStorage(this.tabKey,JSON.stringify(e)),D.setStorage(i,JSON.stringify(t));else{var n=e.splice(0,20);console.log("deleted events data:"+n),e.push(i),D.setStorage(this.tabKey,JSON.stringify(e)),D.setStorage(i,JSON.stringify(t));t={};for(var a=[],r=0;r<n.length;r++){var s=D.getStorage(n[r]);a.push(s)}t.data=a,t["#app_id"]=this.config.appId,this.request(t,n)}}}},{key:"flush",value:function(){clearTimeout(this.timer),this.send(),this.batchInterval()}},{key:"send",value:function(){if(this.isRequest)this.needFlush=!0;else{var e=D.getStorage(this.tabKey);if(e&&e.length){for(var t={},i=[],n=[],a=e.length<this.batchConfig.size?e.length:this.batchConfig.size,r=0;r<a;r++){var s=D.getStorage(e[r]);i.push(s),n.push(e[r])}t.data=i,t["#app_id"]=this.config.appId,this.request(t,n)}}}},{key:"request",value:function(e,t){var i=this;b.info("Flush data: "+JSON.stringify(e)),i.isRequest=!0,E.enqueue(e,this.ta.serverUrl,{maxRetries:this.config.maxRetries,sendTimeout:this.config.sendTimeout,callback:function(e){0===e.code&&i.remove(t),i.isRequest=!1;for(var n=0;n<i.trackList.length;n++)i.add(i.trackList[n]);i.trackList=[],i.needFlush&&(i.needFlush=!1,i.flush())},debugMode:this.config.debugMode,deviceId:this.ta.getDeviceId()})}},{key:"remove",value:function(e){var t=D.getStorage(this.tabKey);if(t){for(var i=0;i<e.length;i++){var n=p.indexOf(t,e[i]);-1<n&&t.splice(n,1),D.removeStorage(e[i])}D.setStorage(this.tabKey,JSON.stringify(t))}}},{key:"recycle",value:function(){}}]),e}(),H=function(){function e(t){o(this,e),t.appId=t.appId?p.checkAppId(t.appId):p.checkAppId(t.appid),t.serverUrl=t.serverUrl?p.checkUrl(t.serverUrl):p.checkUrl(t.server_url);var i=p.extend({},q,D.getConfig());p.isObject(t)?this.config=p.extend(i,t):this.config=i,this._init(this.config)}return u(e,[{key:"_init",value:function(e){var t=this;this.name=e.name,this.appId=e.appId||e.appid;var i=e.serverUrl||e.server_url;this.serverUrl=i+"/sync_xcx",this.serverDebugUrl=i+"/data_debug",this.configUrl=i+"/config",this.autoTrackProperties={},this._queue=[],this.updateConfig(this.configUrl,this.appId),e.isChildInstance?this._state={}:(b.enabled=e.enableLog,this.instances=[],this._state={getSystemInfo:!1,initComplete:!1},D.setGlobal(this,this.name)),this.store=new J(e,(function(){t.config.asyncPersistence&&p.isFunction(t.config.persistenceComplete)&&t.config.persistenceComplete(t),t._updateState()})),this.enabled=!p.isBoolean(this.store._get("ta_enabled"))||this.store._get("ta_enabled"),this.isOptOut=!!p.isBoolean(this.store._get("ta_isOptOut"))&&this.store._get("ta_isOptOut"),!e.isChildInstance&&e.autoTrack&&(this.autoTrack=D.initAutoTrackInstance(this,e)),void 0!==this.config.enableBatch&&!1!==this.config.enableBatch&&(this.batchConsumer=new R(this.config,this),this.batchConsumer.batchInterval())}},{key:"initSystemInfo",value:function(){var e=this;this.config.isChildInstance||L.getSystemInfo((function(){e._updateState({getSystemInfo:!0})}))}},{key:"updateConfig",value:function(e,t){var i=this,n=p.createExtraHeaders();n["content-type"]="application/json";var a=D.request({url:e+"?appid="+t,method:"GET",header:n,success:function(e){p.isUndefined(e)||p.isUndefined(e.data)||(b.info("Get remote config success("+t+") :"+JSON.stringify(e.data)),p.isUndefined(e.data.data)||(i.config.syncBatchSize=e.data.data.sync_batch_size,i.config.syncInterval=e.data.data.sync_interval,i.config.disableEventList=e.data.data.disable_event_list,p.isUndefined(e.data.data.secret_key)||(e=e.data.data.secret_key,i.config.secretKey={publicKey:e.key,version:e.version})))},fail:function(e){b.info("Get remote config fail("+t+") :"+e.errMsg)}});setTimeout((function(){(p.isObject(a)||p.isPromise(a))&&p.isFunction(a.abort)&&a.abort()}),3e3)}},{key:"initInstance",value:function(t,i){if(this.config.isChildInstance)b.warn("initInstance() cannot be called on child instance");else{if(p.isString(t)&&t!==this.name&&p.isUndefined(this[t]))return i=new e(p.extend({},this.config,{enablePersistence:!1,isChildInstance:!0,name:t},i)),this[t]=i,this.instances.push(t),this[t]._state=this._state,i;b.warn("initInstance() failed due to the name is invalid: "+t)}}},{key:"lightInstance",value:function(e){return this[e]}},{key:"_setAutoTrackProperties",value:function(e){p.extend(this.autoTrackProperties,e)}},{key:"init",value:function(){if(this.initSystemInfo(),this._state.initComplete)return!1;this._updateState({initComplete:!0}),b.info("TDAnalytics SDK initialize success, AppId = "+this.config.appId+", ServerUrl = "+this.config.serverUrl+", Mode = "+this.config.model+", DeviceId = "+this.getDeviceId()+", Lib = "+h+", LibVersion = "+l)}},{key:"_isReady",value:function(){return this._state.getSystemInfo&&this._state.initComplete&&this.store.initComplete&&this.getDeviceId()}},{key:"_updateState",value:function(e){var t=this;p.isObject(e)&&p.extend(this._state,e),this._onStateChange(),p.each(this.instances,(function(e){t[e]._onStateChange()}))}},{key:"_onStateChange",value:function(){var e=this;this._isReady()&&this._queue&&0<this._queue.length&&(p.each(this._queue,(function(t){e[t[0]].apply(e,g.call(t[1]))})),this._queue=[])}},{key:"_hasDisabled",value:function(){var e=!this.enabled||this.isOptOut;return e&&b.info("SDK is Pause or Stop!"),e}},{key:"_sendRequest",value:function(e,t,i){if(!this._hasDisabled())if(p.isUndefined(this.config.disableEventList)||!this.config.disableEventList.includes(e.eventName)){t=p.isDate(t)?t:new Date;var n={data:[{"#type":e.type,"#time":p.formatDate(t),"#distinct_id":this.store.getDistinctId()}]};this.store.getAccountId()&&(n.data[0]["#account_id"]=this.store.getAccountId()),"track"===e.type||"track_update"===e.type||"track_overwrite"===e.type?(n.data[0]["#event_name"]=e.eventName,"track_update"===e.type||"track_overwrite"===e.type?n.data[0]["#event_id"]=e.extraId:e.firstCheckId&&(n.data[0]["#first_check_id"]=e.firstCheckId),n.data[0].properties=p.extend({"#zone_offset":0-t.getTimezoneOffset()/60},L.properties,this.autoTrackProperties,this.store.getSuperProperties(),this.dynamicProperties?this.dynamicProperties():{}),t=this.store.removeEventTimer(e.eventName),p.isUndefined(t)||(a=(new Date).getTime()-t,86400<(a=parseFloat((a/1e3).toFixed(3)))?a=86400:a<0&&(a=0),n.data[0].properties["#duration"]=a)):n.data[0].properties={},p.isObject(e.properties)&&!p.isEmptyObject(e.properties)&&p.extend(n.data[0].properties,e.properties),p.searchObjDate(n.data[0]),1<this.config.maxRetries&&(n.data[0]["#uuid"]=p.UUIDv4()),n["#app_id"]=this.appId,b.info("Tracking data, "+JSON.stringify(n,null,4));var a="debug"===this.config.debugMode||"debugOnly"===this.config.debugMode?this.serverDebugUrl:this.serverUrl;if(p.isBoolean(this.config.enableEncrypt)&&!0===this.config.enableEncrypt&&(n.data[0]=p.generateEncryptyData(n.data[0],this.config.secretKey)),this.batchConsumer&&"none"===this.config.debugMode&&!i)return this.batchConsumer.add(n.data[0]),void(p.isFunction(e.onComplete)&&e.onComplete({code:0,msg:"success"}));i?(i=new FormData,"debug"===this.config.debugMode||"debugOnly"===this.config.debugMode?(i.append("source","client"),i.append("appid",this.appId),i.append("dryRun","debugOnly"===this.config.debugMode?1:0),i.append("deviceId",this.getDeviceId()),i.append("data",JSON.stringify(n.data[0])),navigator.sendBeacon(a,i)):(i=(new Date).getTime(),n["#flush_time"]=i,navigator.sendBeacon(a,JSON.stringify(n))),p.isFunction(e.onComplete)&&e.onComplete({statusCode:200})):E.enqueue(n,a,{maxRetries:this.config.maxRetries,sendTimeout:this.config.sendTimeout,callback:e.onComplete,debugMode:this.config.debugMode,deviceId:this.getDeviceId()})}else b.info("Disabled Event : "+e.eventName)}},{key:"_isObjectParams",value:function(e){return p.isObject(e)&&p.isFunction(e.onComplete)}},{key:"track",value:function(e,t,i,n){var a;this._hasDisabled()||(this._isObjectParams(e)&&(e=(a=e).eventName,t=a.properties,i=a.time,n=a.onComplete),M.event(e)&&M.properties(t)||!this.config.strict?this._internalTrack(e,t,i,n):p.isFunction(n)&&n({code:-1,msg:"invalid parameters"}))}},{key:"trackUpdate",value:function(e){var t,i;this._hasDisabled()||(e&&e.eventId&&(M.event(e.eventName)&&M.properties(e.properties)||!this.config.strict)?this._isReady()?(t=p.checkCalibration(e.properties,e.time,this.config.enableCalibrationTime),i=p.isDate(e.time)?e.time:new Date,this._sendRequest({type:"track_update",eventName:e.eventName,properties:t,onComplete:e.onComplete,extraId:e.eventId},i)):this._queue.push(["trackUpdate",[e]]):(b.warn("Invalide parameter for trackUpdate: you should pass an object contains eventId to trackUpdate()"),p.isFunction(e.onComplete)&&e.onComplete({code:-1,msg:"invalid parameters"})))}},{key:"trackOverwrite",value:function(e){var t,i;this._hasDisabled()||(e&&e.eventId&&(M.event(e.eventName)&&M.properties(e.properties)||!this.config.strict)?this._isReady()?(t=p.checkCalibration(e.properties,e.time,this.config.enableCalibrationTime),i=p.isDate(e.time)?e.time:new Date,this._sendRequest({type:"track_overwrite",eventName:e.eventName,properties:t,onComplete:e.onComplete,extraId:e.eventId},i)):this._queue.push(["trackOverwrite",[e]]):(b.warn("Invalide parameter for trackOverwrite: you should pass an object contains eventId to trackOverwrite()"),p.isFunction(e.onComplete)&&e.onComplete({code:-1,msg:"invalid parameters"})))}},{key:"trackFirstEvent",value:function(e){var t,i;this._hasDisabled()||(e&&e.eventName&&(M.event(e.eventName)&&M.properties(e.properties)||!this.config.strict)?this._isReady()?(t=p.checkCalibration(e.properties,e.time,this.config.enableCalibrationTime),i=p.isDate(e.time)?e.time:new Date,this._sendRequest({type:"track",eventName:e.eventName,properties:t,onComplete:e.onComplete,firstCheckId:e.firstCheckId||this.getDeviceId()},i)):this._queue.push(["trackFirstEvent",[e]]):(b.warn("Invalide parameter for trackFirstEvent: you should pass an object contains eventName to trackFirstEvent()"),p.isFunction(e.onComplete)&&e.onComplete({code:-1,msg:"invalid parameters"})))}},{key:"_internalTrack",value:function(e,t,i,n,a){var r;this._hasDisabled()||(r=p.checkCalibration(t,i,this.config.enableCalibrationTime),i=p.isDate(i)?i:new Date,this._isReady()?this._sendRequest({type:"track",eventName:e,properties:r,onComplete:n},i,a):this._queue.push(["_internalTrack",[e,t,i,n]]))}},{key:"userSet",value:function(e,t,i){var n;this._hasDisabled()||(this._isObjectParams(e)&&(e=(n=e).properties,t=n.time,i=n.onComplete),M.propertiesMust(e)||!this.config.strict?(t=p.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"user_set",properties:e,onComplete:i},t):this._queue.push(["userSet",[e,t,i]])):(b.warn("calling userSet failed due to invalid arguments"),p.isFunction(i)&&i({code:-1,msg:"invalid parameters"})))}},{key:"userSetOnce",value:function(e,t,i){var n;this._hasDisabled()||(this._isObjectParams(e)&&(e=(n=e).properties,t=n.time,i=n.onComplete),M.propertiesMust(e)||!this.config.strict?(t=p.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"user_setOnce",properties:e,onComplete:i},t):this._queue.push(["userSetOnce",[e,t,i]])):(b.warn("calling userSetOnce failed due to invalid arguments"),p.isFunction(i)&&i({code:-1,msg:"invalid parameters"})))}},{key:"userUnset",value:function(e,t,i){var n;this._hasDisabled()||(this._isObjectParams(n)&&(e=n.property,t=n.time,i=n.onComplete),M.propertyName(e)||!this.config.strict?(t=p.isDate(t)?t:new Date,this._isReady()?((n={})[e]=0,this._sendRequest({type:"user_unset",properties:n,onComplete:i},t)):this._queue.push(["userUnset",[e,i,t]])):(b.warn("calling userUnset failed due to invalid arguments"),p.isFunction(i)&&i({code:-1,msg:"invalid parameters"})))}},{key:"userDel",value:function(e,t){var i;this._hasDisabled()||(this._isObjectParams(e)&&(e=(i=e).time,t=i.onComplete),e=p.isDate(e)?e:new Date,this._isReady()?this._sendRequest({type:"user_del",onComplete:t},e):this._queue.push(["userDel",[e,t]]))}},{key:"userAdd",value:function(e,t,i){var n;this._hasDisabled()||(this._isObjectParams(e)&&(e=(n=e).properties,t=n.time,i=n.onComplete),M.userAddProperties(e)||!this.config.strict?(t=p.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"user_add",properties:e,onComplete:i},t):this._queue.push(["userAdd",[e,t,i]])):(b.warn("calling userAdd failed due to invalid arguments"),p.isFunction(i)&&i({code:-1,msg:"invalid parameters"})))}},{key:"userAppend",value:function(e,t,i){var n;this._hasDisabled()||(this._isObjectParams(e)&&(e=(n=e).properties,t=n.time,i=n.onComplete),M.userAppendProperties(e)||!this.config.strict?(t=p.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"user_append",properties:e,onComplete:i},t):this._queue.push(["userAppend",[e,t,i]])):(b.warn("calling userAppend failed due to invalid arguments"),p.isFunction(i)&&i({code:-1,msg:"invalid parameters"})))}},{key:"userUniqAppend",value:function(e,t,i){var n;this._hasDisabled()||(this._isObjectParams(e)&&(e=(n=e).properties,t=n.time,i=n.onComplete),M.userAppendProperties(e)||!this.config.strict?(t=p.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"user_uniq_append",properties:e,onComplete:i},t):this._queue.push(["userUniqAppend",[e,t,i]])):(b.warn("calling userAppend failed due to invalid arguments"),p.isFunction(i)&&i({code:-1,msg:"invalid parameters"})))}},{key:"flush",value:function(){this.batchConsumer&&"none"===this.config.debugMode&&this.batchConsumer.flush()}},{key:"authorizeOpenID",value:function(e){this.identify(e)}},{key:"identify",value:function(e){if(!this._hasDisabled()){if("number"==typeof e)e=String(e);else if("string"!=typeof e)return!1;this.store.setDistinctId(e),b.info("Setting distinct ID, DistinctId = "+e)}}},{key:"getDistinctId",value:function(){return this.store.getDistinctId()}},{key:"login",value:function(e){if(!this._hasDisabled()){if("number"==typeof e)e=String(e);else if("string"!=typeof e)return!1;this.store.setAccountId(e),b.info("Login SDK, AccountId = "+e)}}},{key:"getAccountId",value:function(){return this.store.getAccountId()}},{key:"logout",value:function(){this._hasDisabled()||(this.store.setAccountId(null),b.info("Logout SDK"))}},{key:"setSuperProperties",value:function(e){this._hasDisabled()||(M.propertiesMust(e)||!this.config.strict?this.store.setSuperProperties(e):b.warn("setSuperProperties parameter must be a valid property value"))}},{key:"clearSuperProperties",value:function(){this._hasDisabled()||this.store.setSuperProperties({},!0)}},{key:"unsetSuperProperty",value:function(e){var t;this._hasDisabled()||p.isString(e)&&(delete(t=this.getSuperProperties())[e],this.store.setSuperProperties(t,!0))}},{key:"getSuperProperties",value:function(){return this.store.getSuperProperties()}},{key:"getPresetProperties",value:function(){var e=L.properties,t={},i=e["#os"];t.os=p.isUndefined(i)?"":i,i=e["#screen_width"],t.screenWidth=p.isUndefined(i)?0:i,i=e["#screen_height"],t.screenHeight=p.isUndefined(i)?0:i,i=e["#network_type"],t.networkType=p.isUndefined(i)?"":i,i=e["#device_model"],t.deviceModel=p.isUndefined(i)?"":i,i=e["#os_version"],t.osVersion=p.isUndefined(i)?"":i,t.deviceId=this.getDeviceId();var n=0-(new Date).getTimezoneOffset()/60;return t.zoneOffset=n,e=e["#manufacturer"],t.manufacturer=p.isUndefined(e)?"":e,t.toEventPresetProperties=function(){return{"#device_model":t.deviceModel,"#device_id":t.deviceId,"#screen_width":t.screenWidth,"#screen_height":t.screenHeight,"#os":t.os,"#os_version":t.osVersion,"#network_type":t.networkType,"#zone_offset":n,"#manufacturer":t.manufacturer}},t}},{key:"setDynamicSuperProperties",value:function(e){this._hasDisabled()||("function"==typeof e?M.properties(e())||!this.config.strict?this.dynamicProperties=e:b.warn("A dynamic public property must return a valid property value"):b.warn("setDynamicSuperProperties parameter must be a function type"))}},{key:"timeEvent",value:function(e,t){this._hasDisabled()||(t=p.isDate(t)?t:new Date,this._isReady()?M.event(e)||!this.config.strict?this.store.setEventTimer(e,t.getTime()):b.warn("calling timeEvent failed due to invalid eventName: "+e):this._queue.push(["timeEvent",[e,t]]))}},{key:"getDeviceId",value:function(){return L.properties["#device_id"]}},{key:"enableTracking",value:function(e){this.enabled=e,this.store._set("ta_enabled",e)}},{key:"optOutTracking",value:function(){this.store.setSuperProperties({},!0),this.store.setDistinctId(p.UUID()),this.store.setAccountId(null),this._queue.splice(0,this._queue.length),this.isOptOut=!0,this.store._set("ta_isOptOut",!0)}},{key:"optOutTrackingAndDeleteUser",value:function(){var e=new Date;this._sendRequest({type:"user_del"},e),this.optOutTracking()}},{key:"optInTracking",value:function(){this.isOptOut=!1,this.store._set("ta_isOptOut",!1)}},{key:"setTrackStatus",value:function(e){switch(e){case"PAUSE":this.eventSaveOnly=!1,this.optInTracking(),this.enableTracking(!1);break;case"STOP":this.eventSaveOnly=!1,this.optOutTracking(!0);break;case"SAVE_ONLY":break;case"NORMAL":default:this.eventSaveOnly=!1,this.optInTracking(),this.enableTracking(!0)}b.info("Change Status to "+e)}}]),e}(),G={name:"thinkingdata",enableLog:!0,enableNative:!1},V=function(){function e(t){o(this,e),t.appId=t.appId?p.checkAppId(t.appId):p.checkAppId(t.appid),t.serverUrl=t.serverUrl?p.checkUrl(t.serverUrl):p.checkUrl(t.server_url);var i=p.extend({},G,D.getConfig());p.isObject(t)?this.config=p.extend(i,t):this.config=i,this._init(this.config)}return u(e,[{key:"_isNativePlatform",value:function(){return!(!this._isIOS()&&!this._isAndroid()||!this.config.enableNative)}},{key:"_isIOS",value:function(){return!(!cc.sys.isNative||"iOS"!==cc.sys.os)}},{key:"_isAndroid",value:function(){return!(!cc.sys.isNative||"Android"!==cc.sys.os)}},{key:"_init",value:function(e){this.name=e.name,this.appId=e.appId||e.appid,this._isNativePlatform()?(this.initInstanceForNative(e),this._readStorage(e)):this.taJs=new ThinkingAnalyticsAPIForJS(e)}},{key:"_readStorage",value:function(e){var t=this,i=e.persistenceName,n=e.persistenceNameOld;e.isChildInstance&&(i=e.persistenceName+"_"+e.name,n=e.persistenceNameOld+"_"+e.name),this._state=D.getStorage(i)||{},p.isEmptyObject(this._state)&&(this._state=D.getStorage(n)||{}),p.isEmptyObject(this._state)?D.getStorage(i,!0,(function(e){p.isEmptyObject(e)?D.getStorage(n,!0,(function(e){t._state=p.extend2Layers({},e,t._state)})):t._state=p.extend2Layers({},e,t._state),t._state.distinct_id&&t.identifyForNative(t._state.distinct_id),t._state.account_id&&t.loginForNative(t._state.account_id)})):(this._state.distinct_id&&this.identifyForNative(this._state.distinct_id),this._state.account_id&&this.loginForNative(this._state.account_id))}},{key:"initInstance",value:function(e,t){return this._isNativePlatform()?p.isUndefined(t)?this[e]=new ThinkingAnalyticsAPI(this.config):this[e]=new ThinkingAnalyticsAPI(t):this[e]=this.taJs.initInstance(e,t),this[e]}},{key:"lightInstance",value:function(){return this._isNativePlatform()?this.lightInstanceForNative(this.appId):this}},{key:"init",value:function(){if(this._isNativePlatform()){var e=window,t=this;return e.__autoTrackCallback=function(e){return p.isFunction(t.config.autoTrack.callback)?(e=t.config.autoTrack.callback(e),JSON.stringify(e)):"{}"},void this.startThinkingAnalyticsForNative(this.appId)}this.taJs.init()}},{key:"track",value:function(e,t,i,n){this._isNativePlatform()?this.trackForNative(e,t,i,this.appId):this.taJs.track(e,t,i,n)}},{key:"trackUpdate",value:function(e){this._isNativePlatform()?this.trackUpdateForNative(e,this.appId):this.taJs.trackUpdate(e)}},{key:"trackOverwrite",value:function(e){this._isNativePlatform()?this.trackOverwriteForNative(e,this.appId):this.taJs.trackOverwrite(e)}},{key:"trackFirstEvent",value:function(e){this._isNativePlatform()?this.trackFirstEventForNative(e,this.appId):this.taJs.trackFirstEvent(e)}},{key:"userSet",value:function(e,t,i){this._isNativePlatform()?this.userSetForNative(e,this.appId):this.taJs.userSet(e,t,i)}},{key:"userSetOnce",value:function(e,t,i){this._isNativePlatform()?this.userSetOnceForNative(e,this.appId):this.taJs.userSetOnce(e,t,i)}},{key:"userUnset",value:function(e,t,i){this._isNativePlatform()?this.userUnsetForNative(e,this.appId):this.taJs.userUnset(e,t,i)}},{key:"userDel",value:function(e,t){this._isNativePlatform()?this.userDelForNative(this.appId):this.taJs.userDel(e,t)}},{key:"userAdd",value:function(e,t,i){this._isNativePlatform()?this.userAddForNative(e,this.appId):this.taJs.userAdd(e,t,i)}},{key:"userAppend",value:function(e,t,i){this._isNativePlatform()?this.userAppendForNative(e,this.appId):this.taJs.userAppend(e,t,i)}},{key:"userUniqAppend",value:function(e,t,i){this._isNativePlatform()?this.userUniqAppendForNative(e,this.appId):this.taJs.userUniqAppend(e,t,i)}},{key:"flush",value:function(){this._isNativePlatform()?this.flushForNative(this.appId):this.taJs.flush()}},{key:"authorizeOpenID",value:function(e){this.identify(e)}},{key:"identify",value:function(e){this._isNativePlatform()?this.identifyForNative(e,this.appId):this.taJs.identify(e)}},{key:"getDistinctId",value:function(){return this._isNativePlatform()?this.getDistinctIdForNative(this.appId):this.taJs.getDistinctId()}},{key:"login",value:function(e){this._isNativePlatform()?this.loginForNative(e,this.appId):this.taJs.login(e)}},{key:"getAccountId",value:function(){return this._isNativePlatform()?this.getAccountIdForNative(this.appId):this.taJs.getAccountId()}},{key:"logout",value:function(){this._isNativePlatform()?this.logoutForNative(this.appId):this.taJs.logout()}},{key:"setSuperProperties",value:function(e){this._isNativePlatform()?this.setSuperPropertiesForNative(e,this.appId):this.taJs.setSuperProperties(e)}},{key:"clearSuperProperties",value:function(){this._isNativePlatform()?this.clearSuperPropertiesForNative(this.appId):this.taJs.clearSuperProperties()}},{key:"unsetSuperProperty",value:function(e){this._isNativePlatform()?this.unsetSuperPropertyForNative(e,this.appId):this.taJs.unsetSuperProperty(e)}},{key:"getSuperProperties",value:function(){return this._isNativePlatform()?this.getSuperPropertiesForNative(this.appId):this.taJs.getSuperProperties()}},{key:"getPresetProperties",value:function(){if(this._isNativePlatform()){var e=this.getPresetPropertiesForNative(this.appId),t={},i=e["#os"];t.os=p.isUndefined(i)?"":i,i=e["#screen_width"],t.screenWidth=p.isUndefined(i)?0:i,i=e["#screen_height"],t.screenHeight=p.isUndefined(i)?0:i,i=e["#network_type"],t.networkType=p.isUndefined(i)?"":i,i=e["#device_model"],t.deviceModel=p.isUndefined(i)?"":i,i=e["#os_version"],t.osVersion=p.isUndefined(i)?"":i,t.deviceId=this.getDeviceId();var n=0-(new Date).getTimezoneOffset()/60;return t.zoneOffset=n,e=e["#manufacturer"],t.manufacturer=p.isUndefined(e)?"":e,t.toEventPresetProperties=function(){return{"#device_model":t.deviceModel,"#device_id":t.deviceId,"#screen_width":t.screenWidth,"#screen_height":t.screenHeight,"#os":t.os,"#os_version":t.osVersion,"#network_type":t.networkType,"#zone_offset":n,"#manufacturer":t.manufacturer}},t}return this.taJs.getPresetProperties()}},{key:"setDynamicSuperProperties",value:function(e){this._isNativePlatform()?"function"==typeof e?(this.dynamicProperties=e,window.__dynamicPropertiesForNative=function(t){return console.log("__dynamicPropertiesForNative: native msg: ",t),t=e(),t=p.encodeDates(t),JSON.stringify(t)},this.setDynamicSuperPropertiesForNative("__dynamicPropertiesForNative")):logger.warn("setDynamicSuperProperties parameter must be a function type"):this.taJs.setDynamicSuperProperties(e)}},{key:"timeEvent",value:function(e,t){return this._isNativePlatform()?this.timeEventForNative(e,this.appId):this.taJs.timeEvent(e,t)}},{key:"getDeviceId",value:function(){return this._isNativePlatform()?this.getDeviceIdForNative(this.appId):this.taJs.getDeviceId()}},{key:"enableTracking",value:function(e){this._isNativePlatform()?this.enableTrackingForNative(e,this.appId):this.taJs.enableTracking(e)}},{key:"optOutTracking",value:function(){this._isNativePlatform()?this.optOutTrackingForNative(this.appId):this.taJs.optOutTracking()}},{key:"optOutTrackingAndDeleteUser",value:function(){this._isNativePlatform()?this.optOutTrackingAndDeleteUserForNative(this.appId):this.taJs.optOutTrackingAndDeleteUser()}},{key:"optInTracking",value:function(){this._isNativePlatform()?this.optInTrackingForNative(this.appId):this.taJs.optInTracking()}},{key:"setTrackStatus",value:function(e){this._isNativePlatform()?this.setTrackStatusForNative(e,this.appId):this.taJs.setTrackStatus(e)}},{key:"trackForNative",value:function(e,t,i,n){i=p.isDate(i)?p.formatDate(i):"",p.isUndefined(t)&&(t={}),t=p.extend(t,this.dynamicProperties?this.dynamicProperties():{}),t=p.encodeDates(t),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","track","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,JSON.stringify(t),i,n):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","track:properties:time:appId:",e,JSON.stringify(t),i,n)}},{key:"trackUpdateForNative",value:function(e,t){e.properties=p.extend(p.isUndefined(e.properties)?{}:e.properties,this.dynamicProperties?this.dynamicProperties():{}),e=p.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","trackUpdate","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","trackUpdate:appId:",JSON.stringify(e),t)}},{key:"trackFirstEventForNative",value:function(e,t){e.properties=p.extend(p.isUndefined(e.properties)?{}:e.properties,this.dynamicProperties?this.dynamicProperties():{}),e=p.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","trackFirstEvent","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","trackFirstEvent:appId:",JSON.stringify(e),t)}},{key:"trackOverwriteForNative",value:function(e,t){e.properties=p.extend(p.isUndefined(e.properties)?{}:e.properties,this.dynamicProperties?this.dynamicProperties():{}),e=p.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","trackOverwrite","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","trackOverwrite:appId:",JSON.stringify(e),t)}},{key:"timeEventForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","timeEvent","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","timeEvent:appId:",e,t)}},{key:"loginForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","login","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","login:appId:",e,t)}},{key:"logoutForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","logout","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","logout:",e)}},{key:"setSuperPropertiesForNative",value:function(e,t){e=p.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","setSuperProperties","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","setSuperProperties:appId:",JSON.stringify(e),t)}},{key:"getSuperPropertiesForNative",value:function(e){var t="{}";return this._isAndroid()?t=jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","getSuperProperties","(Ljava/lang/String;)Ljava/lang/String;",e):this._isIOS()&&(t=jsb.reflection.callStaticMethod("CocosCreatorProxyApi","getSuperProperties:",e)),JSON.parse(t)}},{key:"unsetSuperPropertyForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","unsetSuperProperty","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","unsetSuperProperty:appId:",e,t)}},{key:"clearSuperPropertiesForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","clearSuperProperties","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","clearSuperProperties:",e)}},{key:"userSetForNative",value:function(e,t){e=p.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userSet","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userSet:appId:",JSON.stringify(e),t)}},{key:"userSetOnceForNative",value:function(e,t){e=p.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userSetOnce","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userSetOnce:appId:",JSON.stringify(e),t)}},{key:"userAppendForNative",value:function(e,t){e=p.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userAppend","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userAppend:appId:",JSON.stringify(e),t)}},{key:"userUniqAppendForNative",value:function(e,t){e=p.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userUniqAppend","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userUniqAppend:appId:",JSON.stringify(e),t)}},{key:"userAddForNative",value:function(e,t){e=p.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userAdd","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userAdd:appId:",JSON.stringify(e),t)}},{key:"userUnsetForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userUnset","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userUnset:appId:",e,t)}},{key:"userDelForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userDel","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userDel:",e)}},{key:"flushForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","flush","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","flush:",e)}},{key:"authorizeOpenIDForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","authorizeOpenID","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","authorizeOpenID:appId:",e,t)}},{key:"identifyForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","identify","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","identify:appId:",e,t)}},{key:"initInstanceForNative",value:function(e){this._isAndroid()?(jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","setCustomerLibInfo","(Ljava/lang/String;Ljava/lang/String;)V",h,l),jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","initWithConfig","(Ljava/lang/String;)V",JSON.stringify(e))):this._isIOS()&&(jsb.reflection.callStaticMethod("CocosCreatorProxyApi","setCustomerLibInfoWithLibName:libVersion:",h,l),jsb.reflection.callStaticMethod("CocosCreatorProxyApi","initWithConfig:",JSON.stringify(e)))}},{key:"lightInstanceForNative",value:function(e){return this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","lightInstance","(Ljava/lang/String;)Ljava/lang/String;",e):this._isIOS()?jsb.reflection.callStaticMethod("CocosCreatorProxyApi","lightInstance:",e):void 0}},{key:"startThinkingAnalyticsForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","startThinkingAnalytics","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","startThinkingAnalytics:",e)}},{key:"setDynamicSuperPropertiesForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","setDynamicSuperProperties","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","setDynamicSuperProperties:appId:",e,t)}},{key:"getDeviceIdForNative",value:function(e){return this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","getDeviceId","(Ljava/lang/String;)Ljava/lang/String;",e):this._isIOS()?jsb.reflection.callStaticMethod("CocosCreatorProxyApi","getDeviceId:",e):void 0}},{key:"getDistinctIdForNative",value:function(e){return this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","getDistinctId","(Ljava/lang/String;)Ljava/lang/String;",e):this._isIOS()?jsb.reflection.callStaticMethod("CocosCreatorProxyApi","getDistinctId:",e):void 0}},{key:"getAccountIdForNative",value:function(e){return this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","getAccountId","(Ljava/lang/String;)Ljava/lang/String;",e):this._isIOS()?jsb.reflection.callStaticMethod("CocosCreatorProxyApi","getAccountId:",e):void 0}},{key:"getPresetPropertiesForNative",value:function(e){var t="{}";return this._isAndroid()?t=jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","getPresetProperties","(Ljava/lang/String;)Ljava/lang/String;",e):this._isIOS()&&(t=jsb.reflection.callStaticMethod("CocosCreatorProxyApi","getPresetProperties:",e)),JSON.parse(t)}},{key:"enableTrackingForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","enableTracking","(Ljava/lang/String;Ljava/lang/String;)V",e.toString(),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","enableTracking:appId:",e.toString(),t)}},{key:"optOutTrackingForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","optOutTracking","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","optOutTracking:",e)}},{key:"optOutTrackingAndDeleteUserForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","optOutTrackingAndDeleteUser","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","optOutTrackingAndDeleteUser:",e)}},{key:"optInTrackingForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","optInTracking","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","optInTracking:",e)}},{key:"setTrackStatusForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","setTrackStatus","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","setTrackStatus:appId:",e,t)}}]),e}();window.ThinkingAnalyticsAPI=V,window.ThinkingAnalyticsAPIForJS=H;var z=function(){function e(){o(this,e)}return u(e,null,[{key:"_shareInstance",value:function(e){return void 0!==this._instanceMaps[e]?this._instanceMaps[e]:void 0!==this._defaultInstance?this._defaultInstance:void 0}},{key:"init",value:function(e){var t=new V(e);t.init(),void 0!==t&&(void 0===this._defaultInstance&&(this._defaultInstance=t,this._instanceMaps={}),this._instanceMaps[e.appId]=t)}},{key:"lightInstance",value:function(e){return this._shareInstance(e).lightInstance()}},{key:"track",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).track(e.eventName,e.properties,e.time,e.onComplete)}},{key:"trackFirst",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).trackFirstEvent(e)}},{key:"trackUpdate",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).trackUpdate(e)}},{key:"trackOverwrite",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).trackOverwrite(e)}},{key:"timeEvent",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).timeEvent(e.eventName,e.time)}},{key:"userSet",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).userSet(e.properties,e.time,e.onComplete)}},{key:"userSetOnce",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).userSetOnce(e.properties,e.time,e.onComplete)}},{key:"userUnset",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).userUnset(e.property,e.time,e.onComplete)}},{key:"userAdd",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).userAdd(e.properties,e.time,e.onComplete)}},{key:"userAppend",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).userAppend(e.properties,e.time,e.onComplete)}},{key:"userUniqAppend",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).userUniqAppend(e.properties,e.time,e.onComplete)}},{key:"userDelete",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).userDel(e.time,e.onComplete)}},{key:"setSuperProperties",value:function(e,t){t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).setSuperProperties(e)}},{key:"unsetSuperProperty",value:function(e,t){t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).unsetSuperProperty(e)}},{key:"clearSuperProperties",value:function(e){this._shareInstance(e).clearSuperProperties()}},{key:"getSuperProperties",value:function(e){return this._shareInstance(e).getSuperProperties()}},{key:"setDynamicSuperProperties",value:function(e,t){t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).setDynamicSuperProperties(e)}},{key:"getPresetProperties",value:function(e){return this._shareInstance(e).getPresetProperties()}},{key:"login",value:function(e,t){t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).login(e)}},{key:"logout",value:function(e){this._shareInstance(e).logout()}},{key:"setDistinctId",value:function(e,t){t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).identify(e)}},{key:"getDistinctId",value:function(e){return this._shareInstance(e).getDistinctId()}},{key:"getSDKVersion",value:function(){return"1.0.0"}},{key:"getDeviceId",value:function(e){return this._shareInstance(e).getDeviceId()}},{key:"flush",value:function(e){this._shareInstance(e).flush()}},{key:"setTrackStatus",value:function(e,t){t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).setTrackStatus(e)}},{key:"ThinkingDataAPI",value:function(){return V}}]),e}();window.TDAnalytics=z,n.exports=z,e("default",n.exports)}),{})}}}));

System.register("chunks:///_virtual/TempBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameArgs.ts"],(function(n){"use strict";var i,o,t,e,s,a,u,h,l;return{setters:[function(n){i=n.inheritsLoose},function(n){o=n.cclegacy,t=n._decorator,e=n.Node,s=n.Animation,a=n.Tween,u=n.tween,h=n.Component},function(n){l=n.ADTargetType}],execute:function(){var c;o._RF.push({},"b4c33q9wZRNLb2fGPxCSKY/","TempBox",void 0);var r=t.ccclass;t.property,n("TempBox",r("TempBox")(c=function(n){function o(){for(var i,o=arguments.length,t=new Array(o),e=0;e<o;e++)t[e]=arguments[e];return(i=n.call.apply(n,[this].concat(t))||this).inAnim=!1,i.animation=void 0,i.isRunAnim=!1,i}i(o,n);var t=o.prototype;return t.onLoad=function(){this.node.on(e.EventType.TOUCH_END,this.onTouchEnd,this),this.animation=this.node.getComponent(s),Global.uiEvent.on("ShowTempBoxAnim",this.showAnimation,this),Global.uiEvent.on("HideTempBoxAnim",this.hideAnimation,this)},t.onDestroy=function(){Global.uiEvent.targetOff(this)},t.onTouchEnd=function(){Global.levelUI.curEnableBoxLimit>=4?Global.ui.showTipStr("工具盒已经添加至上限"):this.addBox()},t.addBox=function(){Global.sdk.checkShowAd()?Global.sdk.showAd(l.AddBox,-1):Global.gameUI.AddBox()},t.moveToPos=function(n,i,o){var t=this;void 0===i&&(i=.5),void 0===o&&(o=null),this.inAnim=!0,a.stopAllByTarget(this.node),u(this.node).to(i,{position:n},{easing:"sineOut"}).call((function(){t.inAnim=!1,o&&o()})).start()},t.showAnimation=function(){this.isRunAnim||(this.animation.play(),this.isRunAnim=!0)},t.hideAnimation=function(){this.isRunAnim&&(this.animation.stop(),this.isRunAnim=!1)},o}(h))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/TestTail.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,n,s,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,s=t.Node,i=t.Component}],execute:function(){var r;o._RF.push({},"e7153YuP4tCKqZz3wVRoweH","TestTail",void 0);var c=n.ccclass;n.property,t("TestTail",c("TestTail")(r=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n.onLoad=function(){this.node.on(s.EventType.TOUCH_END,this.onTouchEnd,this)},n.onTouchEnd=function(){this.node.destroy()},o}(i))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/TimeController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonUtils.ts"],(function(e){"use strict";var t,i,n,r,a,u,s;return{setters:[function(e){t=e.inheritsLoose,i=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,r=e._decorator,a=e.log,u=e.Component},function(e){s=e.CommonUtils}],execute:function(){var c;n._RF.push({},"0ae41srU+RBp5JxuUjqQlZg","TimeController",void 0);var o=r.ccclass,m=(r.property,e("TimeController",o("TimeController")(c=function(e){function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).updateFuncMapList=new Map,t.curCount=0,t.gameTimerFuncIndex=void 0,t.gameTimerFuncList=new Map,t.curGTCount=0,t.GameDate=void 0,t.RecordTime=0,t.RecordID=void 0,t}t(n,e);var r=n.prototype;return r.onLoad=function(){Global.time=this},r.init=function(){this.initEvent(),this.initGameTimer()},r.initEvent=function(){},r.update=function(e){for(var t,n=i(this.updateFuncMapList.keys());!(t=n()).done;){var r=t.value,a=this.updateFuncMapList.get(r);a?a(e):this.updateFuncMapList.delete(r)}},r.getUpdateFuncNewIndex=function(){return this.curCount++},r.registerUpdateFunc=function(e){var t=this.getUpdateFuncNewIndex();return this.updateFuncMapList.set(t,e),t},r.unRegisterUpdateFunc=function(e){null==e||isNaN(e)||this.updateFuncMapList.delete(e)},r.initGameTimer=function(){var e=this;null==this.gameTimerFuncIndex&&isNaN(this.gameTimerFuncIndex)||this.unRegisterUpdateFunc(this.gameTimerFuncIndex),this.registerUpdateFunc((function(t){return e.updateGameTimer(t)}))},r.getGameTimerNewIndex=function(){return this.curGTCount++},r.updateGameTimer=function(e){for(var t,n=i(this.gameTimerFuncList.keys());!(t=n()).done;){var r=t.value,a=this.gameTimerFuncList.get(r);if(a){if(a.pause)continue;a.tempTimer+=e,a.delay>0?a.tempTimer>=a.delay&&(a.delay=0,a.tempTimer=0,a.callFunc(a)):a.tempTimer>=a.interval&&(a.callFunc(a),a.tempTimer-=a.interval)}else this.gameTimerFuncList.delete(r)}},r.registerTimerFunc=function(e,t,i){void 0===i&&(i=0);var n=new m;n.callFunc=e,n.delay=i,n.interval=t,n.tempTimer=0,n.pause=!1;var r=this.getGameTimerNewIndex();return this.gameTimerFuncList.set(r,n),r},r.unRegisterTimerFunc=function(e){this.gameTimerFuncList.delete(e)},r.switchTimerFunc=function(e,t){var i=this.gameTimerFuncList.get(e);i&&(i.pause=t)},r.loadDate=function(){var e=s.getLocalData("GameDate");e?(this.GameDate=JSON.parse(e),this.GameDate!=s.getYMDTime()&&(this.GameDate=s.getYMDTime(),this.flushDaily())):(this.GameDate=s.getYMDTime(),this.flushDaily())},r.flushDaily=function(){a("刷新每日活动"),this.saveGameDate()},r.saveGameDate=function(){var e=JSON.stringify(this.GameDate);s.setLocalData("GameDate",e)},r.startRecordTime=function(){var e=this;this.RecordTime=0,this.RecordID=this.registerTimerFunc((function(){e.RecordTime+=1}),1)},r.stopRecordTime=function(){this.unRegisterTimerFunc(this.RecordID)},r.getRecordTime=function(){return this.RecordTime},n}(u))||c),function(){this.delay=void 0,this.interval=void 0,this.tempTimer=0,this.callFunc=void 0,this.pause=void 0});n._RF.pop()}}}));

System.register("chunks:///_virtual/TipStrUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){"use strict";var e,o,r,i,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator,i=t.v3,n=t.tween},function(t){s=t.default}],execute:function(){var a;o._RF.push({},"71b80eGry9GJ6Cpd6EZzdCu","TipStrUI",void 0);var c=r.ccclass;r.property,t("TipStrUI",c("TipStrUI")(a=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this)._moveLayer=void 0,e._showT=void 0,e}return e(o,t),o.prototype.initData=function(t){var e=this;this._showT.$Label.string=t,this._moveLayer.setPosition(i(0,-50,0)),this._moveLayer.$UIOpacity.opacity=0,n(this._moveLayer.$UIOpacity).to(.75,{opacity:255}).delay(1).to(.75,{opacity:0}).start(),n(this._moveLayer).by(2.6,{position:i(0,200,0)}).call((function(){e.node.removeFromParent(),e.node.destroy(),e.destroy()})).start()},o}(s))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/tool_sprite_button.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,o,n,_,s,h,c,a,p,u,l,f,d,g,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,_=t._decorator,s=t.Sprite,h=t.CCInteger,c=t.EventHandler,a=t.v2,p=t.v3,u=t.error,l=t.UITransform,f=t.Node,d=t.gfx,g=t.director,v=t.Component}],execute:function(){var y,m,x,b,w,S,T,k,E,z;n._RF.push({},"8bde5N13otFhYRfUexR3Dnp","tool_sprite_button",void 0);var N=_.ccclass,C=_.property,H=_.executeInEditMode;t("tool_sprite_button",(y=N("tool_sprite_button"),m=C({type:s,displayName:"点击图片"}),x=C({type:h,displayName:"透明度阈值",tooltip:"点击像素透明度大于此值时才触发事件",range:[0,255]}),b=C({type:[c],displayName:"点击事件",tooltip:"事件参数：(button_: tool_sprite_button)"}),y(w=H(((z=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),_=0;_<i;_++)n[_]=arguments[_];return e=t.call.apply(t,[this].concat(n))||this,r(e,"click_sprite",T,o(e)),r(e,"transparency_threshold_n",k,o(e)),r(e,"click_event_as",E,o(e)),e._engine_version_n=Number(self.cc.ENGINE_VERSION.split(".").join("")),e._touch_pos_v2=a(),e._touch_pos_v3=p(),e}i(e,t);var n=e.prototype;return n.onLoad=function(){this.click_sprite||this.click_sprite?(this._sprite_ui_transform=this.click_sprite.getComponent(l),this._update_sprite_buffer(),this.click_sprite.node.on(s.EventType.SPRITE_FRAME_CHANGED,this._event_sprite_frame_changed,this),this.click_sprite.node.on(f.EventType.TOUCH_START,this._event_node_touch_jump,this),this.click_sprite.node.on(f.EventType.TOUCH_MOVE,this._event_node_touch_jump,this),this.click_sprite.node.on(f.EventType.TOUCH_CANCEL,this._event_node_touch_jump,this),this.click_sprite.node.on(f.EventType.TOUCH_END,this._event_node_touch_end,this)):u("点击图片为空")},n._update_sprite_buffer=function(){var t,i,r=this.click_sprite.spriteFrame,o=e._sprite_buffer_tab[r.getHash()];if(!o){var n=r.width!==r.originalSize.width&&r.height!==r.originalSize.height&&!r.original?r:r.originalSize,_=new d.BufferTextureCopy;_.texOffset.x=_.texOffset.y=0,_.texExtent.width=n.width,_.texExtent.height=n.height;var s=null!=(t=null==(i=r.original)?void 0:i._texture)?t:r.texture;o=e._sprite_buffer_tab[s.getHash()]=new Uint8Array(n.width*n.height*4),g.root.device.copyTextureToBuffers(s.getGFXTexture(),[o],[_])}},n._set_touch_penetration=function(t,e){this._engine_version_n<340?this.node.eventProcessor.touchListener.setSwallowTouches(!t):(e.preventSwallow=t,e.propagationStopped=!t)},n._event_sprite_frame_changed=function(){this._update_sprite_buffer()},n._event_node_touch_jump=function(t){this._set_touch_penetration(!0,t)},n._event_node_touch_end=function(t){var i,r,o=this;t.getUILocation(this._touch_pos_v2),this._touch_pos_v3.set(this._touch_pos_v2.x,this._touch_pos_v2.y);var n=this._sprite_ui_transform.convertToNodeSpaceAR(this._touch_pos_v3).add3f(this._sprite_ui_transform.width*this._sprite_ui_transform.anchorX,this._sprite_ui_transform.height*this._sprite_ui_transform.anchorY,0),_=0,s=this.click_sprite.spriteFrame,h=null!=(i=null==(r=s.original)?void 0:r._texture)?i:s.texture,c=s.width!==s.originalSize.width&&s.height!==s.originalSize.height&&!s.original,p=this.click_sprite.trim?s.rect:s.originalSize,u=a(Math.floor(n.x*(p.width/this._sprite_ui_transform.width)),Math.floor((this._sprite_ui_transform.height-n.y)*(p.height/this._sprite_ui_transform.height)));if(c){if(!this.click_sprite.trim){var l=.5*s.originalSize.width+s.offset.x-.5*s.rect.width,f=.5*s.originalSize.height+s.offset.y-.5*s.rect.height;if(u.x-=l,u.y=s.rect.height-(s.originalSize.height-u.y-f),u.x<0||u.x>s.rect.width||u.y<0||u.y>s.rect.height)return}if(s.rotated){var d=s.rect.x+s.rect.height-u.y-1,g=s.rect.y+u.x-1;u.set(d,g)}else{var v=s.rect.x+u.x-1,y=s.rect.y+u.y-1;u.set(v,y)}_=4*(u.y*s.width+u.x)+3}else this.click_sprite.trim&&(u.x+=.5*(s.originalSize.width-s.rect.width)-s.offset.x,u.y+=.5*(s.originalSize.height-s.rect.height)-s.offset.y),_=4*(u.y*s.originalSize.width+u.x)+3;e._sprite_buffer_tab[h.getHash()][_]>this.transparency_threshold_n?(this._set_touch_penetration(!1,t),this.click_event_as.forEach((function(t){t.emit([o])}))):this._set_touch_penetration(!0,t)},e}(v))._sprite_buffer_tab={},T=e((S=z).prototype,"click_sprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(S.prototype,"transparency_threshold_n",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),E=e(S.prototype,"click_event_as",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=S))||w)||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/ttAddDesktop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameArgs.ts"],(function(t){"use strict";var e,o,i,n,s,d,a;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,n=t.sys},function(t){s=t.UIHideAnimType,d=t.default},function(t){a=t.TTSceneVlaue}],execute:function(){var c;o._RF.push({},"19c9fa5QhlELJdYAvCJsiKO","ttAddDesktop",void 0);var r=i.ccclass;i.property,t("ttAddDesktop",r("ttAddDesktop")(c=function(t){function o(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this)._btnGoto=void 0,e._btnGetReward=void 0,e._android=void 0,e._ios=void 0,e}e(o,t);var i=o.prototype;return i.onLoad=function(){this.flushView()},i.flushView=function(){var t=Global.sdk.getFlushSenceValue();t==a.desktop1||t==a.desktop2||t==a.desktop3||t==a.desktop4||t==a.desktop5?(this._btnGoto.active=!1,this._btnGetReward.active=!0):(this._btnGoto.active=!0,this._btnGetReward.active=!1),this._ios.active=n.os==n.OS.IOS,this._android.active=n.os==n.OS.ANDROID},i.on_btnClose=function(){this.hideUI(s.fadeHide,!0)},i.on_btnGoto=function(){Global.sdk.showAddDesktop(),this.hideUI(s.fadeHide,!0)},i.on_btnGetReward=function(){Global.gameController.unlockSkin(1004),this.hideUI(s.fadeHide,!0)},o}(d))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventEnum.ts"],(function(i){"use strict";var t,e,o,s,a,n,h,c,d,u;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,o=i._decorator,s=i.game,a=i.UIOpacity,n=i.UITransform,h=i.tween,c=i.v3,d=i.Component},function(i){u=i.GameEvent}],execute:function(){var r;i({UIHideAnimType:void 0,UIShowAnimType:void 0}),e._RF.push({},"cb4cftHG65I766IfGdIwcoh","UIBase",void 0);var p,f,y=o.ccclass;o.property,i("default",y("UIBase")(r=function(i){function e(){var t;return(t=i.call(this)||this)._hasBindUI=!1,t.uiOpacity=void 0,t.uiTransform=void 0,t._isShow=!1,t._showTime=.15,t._hideTime=.15,t._showNode=void 0,t}t(e,i);var o=e.prototype;return o._playMusic=function(){s.emit(u.buttonMusic)},o.__preload=function(){this.uiOpacity=this.getComponent(a),this.uiOpacity||(this.uiOpacity=this.node.addComponent(a)),this.uiTransform=this.getComponent(n),this.bindUI()},o.bindUI=function(){this._hasBindUI||(this._hasBindUI=!0,window.UIHelper.bindUI(this.node,this))},o.showUI=function(i){var t=this;if(void 0===i&&(i=p.default),i==p.default)this.uiOpacity&&(this.uiOpacity.opacity=255),this.node.active=!0;else if(i==p.fadeShow)this.uiOpacity||(this.uiOpacity=this.node.addComponent(a)),this.uiOpacity&&(this.uiOpacity.opacity=0,h(this.uiOpacity).to(this._showTime,{opacity:255}).start()),h(this.node).call((function(){t.node.active=!0})).start();else if(i==p.scaleShow){this.uiOpacity||(this.uiOpacity=this.node.addComponent(a)),this.uiOpacity&&(this.uiOpacity.opacity=0,h(this.uiOpacity).to(this._showTime,{opacity:255}).start());var e=this.node;this._showNode&&(e=this._showNode),this.scheduleOnce((function(){e.setScale(0,0,0),h(e).to(.4,{scale:c(1,1,1)},{easing:"backOut"}).start()})),this.node.active=!0}this._isShow=!0},o.hideUI=function(i,t){var e=this;if(void 0===i&&(i=f.default),void 0===t&&(t=!1),i==f.default)this.node.active=!1,t&&(this.node.removeFromParent(),this.node.destroy(),this.destroy());else if(i==f.fadeHide){var o=0;this.uiOpacity&&(this.uiOpacity.opacity=255,h(this.uiOpacity).to(this._hideTime,{opacity:0}).start(),o=this._hideTime),h(this.node).delay(o).call((function(){e.node.active=!1,t&&(e.node.removeFromParent(),e.node.destroy(),e.destroy())})).start()}this._isShow=!1},e}(d))||r);!function(i){i[i.default=0]="default",i[i.fadeShow=1]="fadeShow",i[i.scaleShow=2]="scaleShow"}(p||(p=i("UIShowAnimType",{}))),function(i){i[i.default=0]="default",i[i.fadeHide=1]="fadeHide"}(f||(f=i("UIHideAnimType",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["cc","./GameArgs.ts","./TipStrUI.ts"],(function(t){"use strict";var i,n,a,r,o,s,e,d;return{setters:[function(t){i=t.cclegacy,n=t.resources,a=t.Prefab,r=t.error,o=t.instantiate,s=t.director},function(t){e=t.ResourcesArgs},function(t){d=t.TipStrUI}],execute:function(){i._RF.push({},"812cbWoJ0ZOhqnCFdU5fUEO","UIManager",void 0);t("UIManager",function(){function t(){this.tipStrUIPrefab=void 0,this.loadingUI=void 0,this.loadingBarUI=void 0}var i=t.prototype;return i.init=function(){this.loadTipStrUIPrefab()},i.loadTipStrUIPrefab=function(t){var i=this;void 0===t&&(t=function(){}),n.load(e.UIPrefabDirectory+e.TipStrUIPrefabName,a,(function(n,a){n?r("未找到TipStrUI"):(i.tipStrUIPrefab=a,t())}))},i.showTipStr=function(t){var i=this;this.tipStrUIPrefab?this.showTipStrStart(t):this.loadTipStrUIPrefab((function(){i.showTipStrStart(t)}))},i.showTipStrStart=function(t){var i=o(this.tipStrUIPrefab);s.getScene().getChildByPath("Canvas").addChild(i),i.setSiblingIndex(100),i.getComponent(d).initData(t)},i.hasLoadingUI=function(){return null!=this.loadingUI},i.setCurLoadingUI=function(t){this.loadingUI=t},i.startLoading=function(t){void 0===t&&(t=!0),this.loadingUI&&this.loadingUI.startLoading(t)},i.stopLoading=function(){this.loadingUI&&this.loadingUI.stopLoading()},i.hasLoadingBarUI=function(){return null!=this.loadingBarUI},i.setCurLoadingBarUI=function(t){this.loadingBarUI=t},i.startLoadingBar=function(t){void 0===t&&(t=!0),this.loadingBarUI&&this.loadingBarUI.startLoading(t)},i.refreshLoadingBar=function(t,i){this.loadingBarUI&&this.loadingBarUI.refreshLoading(t,i)},i.stopLoadingBar=function(t){void 0===t&&(t=0),this.loadingBarUI&&this.loadingBarUI.stopLoading(t)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/wxAddCollectUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameArgs.ts"],(function(t){"use strict";var e,n,o,i,c,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){i=t.UIHideAnimType,c=t.default},function(t){r=t.WXSceneVlaue}],execute:function(){var a;n._RF.push({},"e2e615C3FxERouX9GTEVM5m","wxAddCollectUI",void 0);var l=o.ccclass;o.property,t("wxAddCollectUI",l("AddCollectUI")(a=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this)._btnGoto=void 0,e._btnGetReward=void 0,e}e(n,t);var o=n.prototype;return o.onLoad=function(){this.flushView()},o.flushView=function(){Global.sdk.getIntoSenceValue()==r.MyProgram?(this._btnGoto.active=!1,this._btnGetReward.active=!0):(this._btnGoto.active=!0,this._btnGetReward.active=!1)},o.on_btnGoto=function(){this.hideUI(i.fadeHide,!0)},o.on_btnClose=function(){this.hideUI(i.fadeHide,!0)},o.on_btnGetReward=function(){Global.gameController.unlockSkin(1003),this.hideUI(i.fadeHide,!0)},n}(c))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/ZodiacLevelData.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"25daecNBbpLPJOwZjLSr3O2","ZodiacLevelData",void 0);e("ZodiacLevelData",(function(){this.LevelId=void 0,this.LevelName=void 0,this.PrefabName=void 0,this.LevelReward=void 0,this.Type=void 0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ZodiacLevelGameData.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"9d3bfj7CPhFD5twHecJRU4D","ZodiacLevelGameData",void 0);e("ZodiacLevelGameData",(function(){this.Sp=void 0,this.Data=void 0,this.LevelList=[],this.LevelSchedule=void 0}));t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/Script', 'chunks:///_virtual/Script'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});