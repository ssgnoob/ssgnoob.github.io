System.register("chunks:///_virtual/TurtleBBAddBoxUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameArgs.ts"],(function(t){"use strict";var i,e,r,c,o,s,n,a,h,l,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,c=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,n=t.SpriteFrame,a=t.Sprite},function(t){h=t.UIHideAnimType,l=t.default},function(t){d=t.ADTargetType}],execute:function(){var u,p,f,A,m;o._RF.push({},"651349I/a9N/667H7QlvNhy","TurtleBBAddBoxUI",void 0);var B=s.ccclass,T=s.property;t("TurtleBBAddBoxUI",(u=B("TurtleBBAddBoxUI"),p=T(n),u((m=i((A=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,r(i,"adImgList",m,c(i)),i.watchVideoTimesArr=[0,0],i.targetArr=[1,2],i.addboxNum=[3,5],i._btnChoice1=void 0,i._btnChoice2=void 0,i.clickType=-1,i}e(i,t);var o=i.prototype;return o.init=function(){this.refreshAdNum()},o.refreshAdNum=function(){this._btnChoice1.getComponent(a).spriteFrame=this.adImgList[this.targetArr[0]-this.watchVideoTimesArr[0]],this._btnChoice2.getComponent(a).spriteFrame=this.adImgList[this.targetArr[1]-this.watchVideoTimesArr[1]]},o.on_btnChoice1=function(){this.clickType=0,this.clickChoiceBtn()},o.on_btnChoice2=function(){this.clickType=1,this.clickChoiceBtn()},o.clickChoiceBtn=function(){if(this.watchVideoTimesArr[this.clickType]>=this.targetArr[this.clickType])this.adCallFunc();else{if(Global.sdk.checkShowAd())return void Global.sdk.showAd(d.TurtleBlindBox_AddBox,0);this.adCallFunc()}},o.adCallFunc=function(){this.watchVideoTimesArr[this.clickType]++,this.watchVideoTimesArr[this.clickType]>=this.targetArr[this.clickType]?TurtleBlindBox.gameUI.afterAddBox(this.addboxNum[this.clickType]):this.refreshAdNum()},o.on_btnClose=function(){this.hideUI(h.fadeHide),TurtleBlindBox.gameUI.refuseAddBox()},i}(l)).prototype,"adImgList",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=A))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBBBaseGrid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(e){"use strict";var t,r,o,i,n,s;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,o=e._decorator,i=e.Sprite,n=e.Color},function(e){s=e.default}],execute:function(){var c;r._RF.push({},"96e71lYTjVKeYcUqMGtez7m","TurtleBBBaseGrid",void 0);var l=o.ccclass;o.property,e("TurtleBBBaseGrid",l("TurtleBBBaseGrid")(c=function(e){function r(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this)._gridSp=void 0,t._bottom=void 0,t._gridUnlockSp=void 0,t.useType=-1,t}t(r,e);var o=r.prototype;return o.init=function(e,t,r){this.useType=t,this._gridSp.$Sprite.spriteFrame=e,this._gridUnlockSp.$Sprite.spriteFrame=r,this.refreshColor()},o.changeUseType=function(e,t){this.useType=e,this._gridUnlockSp.$Sprite.spriteFrame=t,this.refreshColor()},o.refreshColor=function(){0==this.useType?(this._bottom.getComponent(i).color=new n(120,120,120),this._gridSp.getComponent(i).color=new n(120,120,120)):(this._bottom.getComponent(i).color=new n(255,255,255),this._gridSp.getComponent(i).color=new n(255,255,255))},o.on_btnUse=function(){Global.logicEvent.emit("TurtleBlindBox_clickUseGrid",this.node.name)},r}(s))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBBBaseRank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(a){"use strict";var e,t,r,i,n;return{setters:[function(a){e=a.inheritsLoose},function(a){t=a.cclegacy,r=a._decorator,i=a.log},function(a){n=a.default}],execute:function(){var s;t._RF.push({},"2b991AWXt9CAJ0bBFJKXpYy","TurtleBBBaseRank",void 0);var l=r.ccclass;r.property,a("headImgExt",".head"),a("TurtleBBBaseRank",l("TurtleBBBaseRank")(s=function(a){function t(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=a.call.apply(a,[this].concat(r))||this)._nameT=void 0,e._turtleNum=void 0,e._rankbg=void 0,e._rankID=void 0,e._rankAvatar=void 0,e._rankRoleAvatar=void 0,e._rankMedal=void 0,e}e(t,a);var r=t.prototype;return r.initRank=function(a,e,t,r,n){switch(""==a&&(a="匿名用户"),this._nameT.$Label.string=a,this._turtleNum.$Label.string=e+"只",this._rankbg.$Sprite.spriteFrame=t,this._rankID.$Label.string=""+r,this._rankRoleAvatar.active=!1,r){case 1:case 2:case 3:this._rankMedal.active=!0,this._rankMedal.$Sprite.spriteFrame=TurtleBlindBox.gameUI.rankMedalImg[r-1];break;default:this._rankMedal.active=!1}var s=Number(n);i("当前皮肤",s),this._rankRoleAvatar.active=!0,Number.isNaN(s)?this._rankRoleAvatar.$Sprite.spriteFrame=Global.art.getSkinTexture("01"):(s+=1,this._rankRoleAvatar.$Sprite.spriteFrame=Global.art.getSkinTexture(s>=10?""+s:"0"+s))},r.initMyRank=function(a,e,t){switch(this._turtleNum.$Label.string=a+"只",this._rankID.$Label.string=e,this._rankRoleAvatar.active=!1,e){case"1":case"2":case"3":this._rankMedal.active=!0,this._rankMedal.$Sprite.spriteFrame=TurtleBlindBox.gameUI.rankMedalImg[parseInt(e)-1];break;default:this._rankMedal.active=!1}var r=Number(t);i("当前皮肤",r),this._rankRoleAvatar.active=!0,Number.isNaN(r)?this._rankRoleAvatar.$Sprite.spriteFrame=Global.art.getSkinTexture("01"):(r+=1,this._rankRoleAvatar.$Sprite.spriteFrame=Global.art.getSkinTexture(r>=10?""+r:"0"+r))},t}(n))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBBChooseBoxUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameArgs.ts"],(function(t){"use strict";var i,e,r,o,s,c,h,n,a,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,c=t._decorator,h=t.SpriteFrame,n=t.Sprite},function(t){a=t.default},function(t){l=t.ADTargetType}],execute:function(){var u,d,p,m,T;s._RF.push({},"0afa7qvyIdCOZUb+gUdpfyt","TurtleBBChooseBoxUI",void 0);var f=c.ccclass,B=c.property;t("TurtleBBChooseBoxUI",(u=f("TurtleBBChooseBoxUI"),d=B(h),u((T=i((m=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),c=0;c<e;c++)s[c]=arguments[c];return i=t.call.apply(t,[this].concat(s))||this,r(i,"adImgList",T,o(i)),i.watchVideoTimesArr=[0,0,0],i.targetArr=[0,0,0],i.boxNum=[9,18,36],i._btnChoice1=void 0,i._btnChoice2=void 0,i._btnChoice3=void 0,i._freeTimeT=void 0,i.clickType=-1,i}e(i,t);var s=i.prototype;return s.init=function(t){this._freeTimeT.active=!1,this.targetArr=t>0?[0,1,2]:[1,2,3],this.refreshAdNum()},s.refreshAdNum=function(){this._btnChoice1.getComponent(n).spriteFrame=this.adImgList[this.targetArr[0]-this.watchVideoTimesArr[0]],this._btnChoice2.getComponent(n).spriteFrame=this.adImgList[this.targetArr[1]-this.watchVideoTimesArr[1]],this._btnChoice3.getComponent(n).spriteFrame=this.adImgList[this.targetArr[2]-this.watchVideoTimesArr[2]]},s.on_btnChoice1=function(){this.clickType=0,0==this.targetArr[0]?TurtleBlindBox.gameUI.afterChooseBox(this.boxNum[this.clickType]):this.clickChoiceBtn()},s.on_btnChoice2=function(){this.clickType=1,this.clickChoiceBtn()},s.on_btnChoice3=function(){this.clickType=2,this.clickChoiceBtn()},s.clickChoiceBtn=function(){if(this.watchVideoTimesArr[this.clickType]>=this.targetArr[this.clickType])this.adCallFunc();else{if(Global.sdk.checkShowAd())return void Global.sdk.showAd(l.TurtleBlindBox_ChooseBox,0);this.adCallFunc()}},s.adCallFunc=function(){this.watchVideoTimesArr[this.clickType]++,this.watchVideoTimesArr[this.clickType]>=this.targetArr[this.clickType]?TurtleBlindBox.gameUI.afterChooseBox(this.boxNum[this.clickType]):this.refreshAdNum()},i}(a)).prototype,"adImgList",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=m))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBBChooseColorUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(o){"use strict";var t,e,r,i,n,s,l;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,r=o._decorator,i=o.Sprite,n=o.v3},function(o){s=o.UIHideAnimType,l=o.default}],execute:function(){var c;e._RF.push({},"e2a4fYwq3xNuZBnzotCgJG5","TurtleBBChooseColorUI",void 0);var h=r.ccclass;r.property,o("TurtleBBChooseColorUI",h("TurtleBBChooseColorUI")(c=function(o){function e(){for(var t,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(t=o.call.apply(o,[this].concat(r))||this)._right=void 0,t.chooseColor=-1,t._layerList=void 0,t}t(e,o);var r=e.prototype;return r.onLoad=function(){this.initSp()},r.initSp=function(){this._layerList.children.forEach((function(o,t){o.children[0].getComponent(i).spriteFrame=TurtleBlindBox.gameUI.turtleImgList[t]}))},r.clickChooseBtn=function(o){this.chooseColor=o.target.name,this._right.active=!0;var t=o.target.getWorldPosition();this._right.setWorldPosition(n(t.x+40,t.y-50))},r.on_btnChoose=function(){-1==this.chooseColor?Global.ui.showTipStr("请选择幸运色"):(TurtleBlindBox.gameUI.afterChooseColor(this.chooseColor),this.hideUI(s.fadeHide,!0))},e}(l))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBBMenuUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./TutleBBBaseSkin.ts","./EventEnum.ts","./TurtleBBBaseGrid.ts","./GameArgs.ts"],(function(i){"use strict";var e,t,n,r,s,o,l,a,u,c,d,g,h,B,k,m,f,I,p;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){s=i.cclegacy,o=i._decorator,l=i.Prefab,a=i.SpriteFrame,u=i.Sprite,c=i.Color,d=i.instantiate,g=i.v3,h=i.director},function(i){B=i.UIHideAnimType,k=i.default},function(i){m=i.TutleBBBaseSkin},function(i){f=i.GameUIEvent},function(i){I=i.TurtleBBBaseGrid},function(i){p=i.ADTargetType}],execute:function(){var L,v,U,T,b,S,G,y,x,C,D,_,w;s._RF.push({},"37b2b623HVEaIhYfINtXVSh","TurtleBBMenuUI",void 0);var E=o.ccclass,P=o.property;i("TurtleBBMenuUI",(L=E("TurtleBBMenuUI"),v=P(l),U=P(l),T=P(a),b=P(a),S=P(a),L((x=e((y=function(i){function e(){for(var e,t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e=i.call.apply(i,[this].concat(s))||this,n(e,"skinPrefab",x,r(e)),n(e,"gridPrefab",C,r(e)),n(e,"skinImgList",D,r(e)),n(e,"gridImgList",_,r(e)),n(e,"useBtnImgList",w,r(e)),e._skinList=void 0,e._gridList=void 0,e.skinItemList=[],e.gridItemList=[],e.curUnlockSkin=void 0,e.curUnlockGrid=void 0,e.isChangeColor=!1,e._bgSp=void 0,e}t(e,i);var s=e.prototype;return s.onLoad=function(){this.initData(),this.initEvent()},s.initEvent=function(){Global.logicEvent.on("TurtleBlindBox_clickUseSkin",this.clickUseSkin,this),Global.logicEvent.on("TurtleBlindBox_clickUseGrid",this.clickUseGrid,this)},s.initData=function(){this.initSkinItem(),this.initGridItem();var i=TurtleBlindBox.gameUI.bgColorList[TurtleBlindBox.gameUI.curLevelData.curBgColorIndex];this._bgSp.getComponent(u).color=(new c).fromHEX(i)},s.initSkinItem=function(){var i=this,e=this._skinList.getWorldPosition();this.skinImgList.forEach((function(t,n){var r=d(i.skinPrefab);i._skinList.addChild(r),r.name=n+"";var s=r.getComponent(m),o=n%4*180-270,l=150-300*Math.floor(n/4),a=g(e.x+o,e.y+l);r.setWorldPosition(a);var u=0,c=TurtleBlindBox.gameUI.curLevelData;u=c.curSkin==n?1:-1==c.unlockSkinList.indexOf(n)?0:2,s.init(t,u,i.useBtnImgList[u]),i.skinItemList.push(s)}))},s.initGridItem=function(){var i=this;this.gridImgList.forEach((function(e,t){var n=d(i.gridPrefab);i._gridList.addChild(n),n.name=t+"";var r=n.getComponent(I),s=186.6*t-280;n.setPosition(s,0);var o=0,l=TurtleBlindBox.gameUI.curLevelData;o=l.curGrid==t?1:-1==l.unlockGridList.indexOf(t)?0:2,r.init(e,o,i.useBtnImgList[o]),i.gridItemList.push(r)}))},s.clickUseSkin=function(i){console.log("name1",i);var e=parseInt(i),t=this.skinItemList[e];if(1!=t.useType){if(2==t.useType){t.changeUseType(1,this.useBtnImgList[1]);var n=TurtleBlindBox.gameUI.curLevelData.curSkin;TurtleBlindBox.gameUI.curLevelData.curSkin=e,this.skinItemList[n].changeUseType(2,this.useBtnImgList[2]),TurtleBlindBox.gameUI.changeTurtleSkin(),TurtleBlindBox.gameUI.saveLevelData()}else if(0==t.useType){if(this.curUnlockSkin=e,Global.sdk.checkShowAd())return void Global.sdk.showAd(p.TurtleBlindBox_UnlockSkin,0);this.unLockSkinCallBack()}}else Global.ui.showTipStr("已在使用中")},s.unLockSkinCallBack=function(){TurtleBlindBox.gameUI.curLevelData.unlockSkinList.push(this.curUnlockSkin),this.skinItemList[this.curUnlockSkin].changeUseType(2,this.useBtnImgList[2]),TurtleBlindBox.gameUI.saveLevelData()},s.clickUseGrid=function(i){var e=parseInt(i),t=this.gridItemList[e];if(console.log("name2",i,t.useType),1!=t.useType){if(2==t.useType){t.changeUseType(1,this.useBtnImgList[1]);var n=TurtleBlindBox.gameUI.curLevelData.curGrid;TurtleBlindBox.gameUI.curLevelData.curGrid=e,this.gridItemList[n].changeUseType(2,this.useBtnImgList[2]),TurtleBlindBox.gameUI.saveLevelData()}else if(0==t.useType){if(this.curUnlockGrid=e,Global.sdk.checkShowAd())return void Global.sdk.showAd(p.TurtleBlindBox_UnlockGrid,0);this.UnlockGridCallBack()}}else Global.ui.showTipStr("已在使用中")},s.UnlockGridCallBack=function(){TurtleBlindBox.gameUI.curLevelData.unlockGridList.push(this.curUnlockGrid),this.gridItemList[this.curUnlockGrid].changeUseType(2,this.useBtnImgList[2]),TurtleBlindBox.gameUI.saveLevelData()},s.on_btnChange=function(){var i=this;if(!this.isChangeColor){this.isChangeColor=!0,this.scheduleOnce((function(){i.isChangeColor=!1}),.5),TurtleBlindBox.gameUI.curLevelData.curBgColorIndex++;var e=TurtleBlindBox.gameUI.changeBgColor();this._bgSp.getComponent(u).color=(new c).fromHEX(e)}},s.on_btnStart=function(){this.hideUI(B.fadeHide,!0),TurtleBlindBox.gameUI.switchLevel()},s.on_btnBack=function(){var i=this;Global.ui.startLoadingBar(!1),this.scheduleOnce((function(){h.loadScene("Lobby",(function(){Global.uiEvent.emit(f.flushDailySp),Global.ui.stopLoadingBar()})),i.hideUI(B.fadeHide,!0)}),.2)},e}(k)).prototype,"skinPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(y.prototype,"gridPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(y.prototype,"skinImgList",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(y.prototype,"gridImgList",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=e(y.prototype,"useBtnImgList",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=y))||G));s._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBBRankUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./TurtleBBBaseRank.ts","./CommonUtils.ts"],(function(e){"use strict";var t,n,a,i,r,o,l,s,c,u,d,f,h,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.SpriteFrame,s=e.Prefab,c=e.director,u=e.instantiate},function(e){d=e.UIHideAnimType,f=e.default},function(e){h=e.TurtleBBBaseRank},function(e){k=e.CommonUtils}],execute:function(){var p,B,g,m,y,v,b;r._RF.push({},"2808bv6jexMFY77rd3byj6k","TurtleBBRankUI",void 0);var I=o.ccclass,R=o.property;e("TurtleBBChooseRankUI",(p=I("TurtleBBChooseRankUI"),B=R(l),g=R(s),p((v=t((y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"rankBgImg",v,i(t)),a(t,"rankPrefab",b,i(t)),t.playerScore=0,t._layerList=void 0,t._myRankItem=void 0,t.isAtRank=!1,t}n(t,e);var r=t.prototype;return r.on_btnBack=function(){var e=this,t=c.getScene().name;this.scheduleOnce((function(){c.loadScene("Lobby",(function(){c.loadScene(t,(function(){Global.ui.stopLoadingBar();var e=c.getScene().getChildByPath("Canvas/_showPathNode");e&&(e.active=Global.gameController.showPathModel)}))})),e.hideUI(d.fadeHide,!0)}),.2)},r.on_btnAgain=function(){this.hideUI(d.fadeHide,!0),TurtleBlindBox.gameUI.switchLevel()},r.init=function(e){this.playerScore=e,this.initRank()},r.initRank=function(){var e=this,t=TurtleBlindBox.gameUI.getRankOpenid();if(TurtleBlindBox.gameUI.rankList.forEach((function(n,a){var i=u(e.rankPrefab);e.scheduleOnce((function(){e._layerList.addChild(i);var r=i.getComponent(h),o=e.rankBgImg[a%2];r.initRank(n.nickName,n.score,o,a+1,n.avatarUrl),n.userId==t&&(e.isAtRank=!0,e._myRankItem.getComponent(h).initMyRank(n.score,String(a+1),n.avatarUrl))}),.05*a)})),!this.isAtRank){var n=k.getLocalData("TurtleBlindBoxMaxScore"),a=Math.max(this.playerScore,parseInt(n));this._myRankItem.getComponent(h).initMyRank(a,"-",Global.sdk.getCurUserAvatarUrl())}},t}(f)).prototype,"rankBgImg",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=t(y.prototype,"rankPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBBResultUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./TurtleBlindBoxBaseTurtle.ts"],(function(t){"use strict";var e,i,s,u,n,o,r,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator,u=t.v3,n=t.tween},function(t){o=t.UIHideAnimType,r=t.default},function(t){l=t.TurtleBlindBoxBaseTurtle}],execute:function(){var a;i._RF.push({},"234feGZCddEE4TxGetWXPR3","TurtleBBResultUI",void 0);var c=s.ccclass;s.property,t("TurtleBBResultUI",c("TurtleBBResultUI")(a=function(t){function i(){for(var e,i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return(e=t.call.apply(t,[this].concat(s))||this)._layerList=void 0,e._resultNumT=void 0,e.resultNum=0,e._closeBtn=void 0,e.isAddNumAni=!1,e.count=0,e.tempNum=0,e}e(i,t);var s=i.prototype;return s.init=function(t){var e=this;this._closeBtn.active=!1,this.resultNum=t,this.refreshResultLabel(),this.playNumAddAni(),this.scheduleOnce((function(){e.endNumAddANi()}),2)},s.playNumAddAni=function(){var t=this;this.isAddNumAni=!0;for(var e=this._layerList.getWorldPosition(),i=this.resultNum>20?20:this.resultNum,s=1.5/i,n=function(){var i=300*Math.random()-150,n=-340*Math.random()-40,r=u(e.x+i,e.y+n);t.scheduleOnce((function(){t.turtleDonwAni(r)}),s*o)},o=0;o<i;o++)n()},s.turtleDonwAni=function(t){var e=TurtleBlindBox.poolUI.getPrefabByIndex(0);this._layerList.addChild(e);var i=e.getComponent(l),s=Math.floor(Math.random()*TurtleBlindBox.gameUI.turtleImgList.length);i.initData(s),i.uiOpacity.opacity=0,e.setWorldPosition(u(t.x,t.y+500)),n(i.uiOpacity).to(.1,{opacity:255}).start(),n(e).to(.3,{worldPosition:t}).start()},s.endNumAddANi=function(){this.isAddNumAni=!1,this._closeBtn.active=!0},s.refreshResultLabel=function(){this._resultNumT.$Label.string=this.tempNum+""},s.clickClose=function(){console.log("click close"),this.hideUI(o.fadeHide),TurtleBlindBox.gameUI.showRankUI()},s.update=function(t){this.isAddNumAni&&(this.count++,this.count>=5&&(this.tempNum+=Math.ceil(this.resultNum/7),this.tempNum>=this.resultNum&&(this.tempNum=this.resultNum),this.refreshResultLabel(),this.count=0))},i}(r))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBBSettingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SettingUI.ts","./CommonUtils.ts"],(function(t){"use strict";var e,n,o,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){r=t.SettingUI},function(t){i=t.CommonUtils}],execute:function(){var u;n._RF.push({},"b77a9lObmFHrb7DzmN2gqaE","TurtleBBSettingUI",void 0);var l=o.ccclass;o.property,t("TurtleBBSettingUI",l("TurtleBBSettingUI")(u=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.on_btnChangeName=function(){var t=TurtleBlindBox.gameUI.getRandomName();i.setLocalData("TurtleBlindBoxWebName",t),Global.ui.showTipStr("昵称修改为:"+t)},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBlindBox",["./TurtleBlindBoxData.ts","./TurtleBlindBoxLevelData.ts","./TurtleBlindBoxRankData.ts","./TurtleBlindBoxBasePackage.ts","./TurtleBlindBoxBaseTurtle.ts","./TurtleBlindBoxCombo.ts","./TurtleBlindBoxGameUI.ts","./TurtleBlindBoxLevelUI.ts","./TurtleBlindBoxManager.ts","./TurtleBlindBoxMovePackage.ts","./TurtleBlindBoxPrefabManager.ts","./TurtleBBAddBoxUI.ts","./TurtleBBBaseGrid.ts","./TurtleBBBaseRank.ts","./TurtleBBChooseBoxUI.ts","./TurtleBBChooseColorUI.ts","./TurtleBBMenuUI.ts","./TurtleBBRankUI.ts","./TurtleBBResultUI.ts","./TurtleBBSettingUI.ts","./TutleBBBaseSkin.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/TurtleBlindBoxBasePackage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){"use strict";var e,o,r,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator,n=t.v3},function(t){i=t.default}],execute:function(){var a;o._RF.push({},"f2be5VwnVxFi7TKmK5ePz0E","TurtleBlindBoxBasePackage",void 0);var s=r.ccclass;r.property,t("TurtleBlindBoxBasePackage",s("TurtleBlindBoxBasePackage")(a=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this)._sp=void 0,e.curColor=void 0,e}e(o,t);var r=o.prototype;return r.initData=function(t,e){void 0===e&&(e=0),this.node.angle=e,this.curColor=t,this.setRandomPosition(),this.refreshSp()},r.refreshSp=function(){this._sp.$Sprite.spriteFrame=TurtleBlindBox.gameUI.packageImgList[this.curColor].packageImg},r.setRandomPosition=function(){var t=500*Math.random()-250,e=160*Math.random()-120;this.node.setPosition(n(t,e))},r.destroyNode=function(){TurtleBlindBox.poolUI.DestroyPrefab(1,this.node)},o}(i))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBlindBoxBaseTurtle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){"use strict";var e,r,o,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator,i=t.v3},function(t){s=t.default}],execute:function(){var n;r._RF.push({},"250543UIMdBYLYokMvB5aU7","TurtleBlindBoxBaseTurtle",void 0);var l=o.ccclass;o.property,t("TurtleBlindBoxBaseTurtle",l("TurtleBlindBoxBaseTurtle")(n=function(t){function r(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this)._sp=void 0,e.curColor=-1,e}e(r,t);var o=r.prototype;return o.initData=function(t){var e=this,r=1;0!=TurtleBlindBox.levelUI.gridType&&(r=.8),this.curColor=t,this.node.scale=i(r,r,r);var o=!0;switch(TurtleBlindBox.gameUI.curLevelData.curSkin){case 1:case 2:case 3:o=!1}-1!=t&&o&&(this.node.angle=360*Math.random()),this.scheduleOnce((function(){e.refreshSp()}),.05)},o.refreshSp=function(){-1==this.curColor?this._sp.active=!1:(this._sp.active=!0,this._sp.$Sprite.spriteFrame=TurtleBlindBox.gameUI.turtleImgList[this.curColor])},o.destroyNode=function(){TurtleBlindBox.poolUI.DestroyPrefab(0,this.node)},o.hasData=function(){return-1!=this.curColor},o.showSp=function(t){this._sp.active=t},r}(s))||n);r._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBlindBoxCombo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameArgs.ts"],(function(o){"use strict";var t,e,n,u,a,l,s,i;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator,u=o.Sprite,a=o.v3,l=o.tween},function(o){s=o.default},function(o){i=o.SoundEnum}],execute:function(){var r;e._RF.push({},"7d559b3HAVEQZlwrSBq0bPQ","TurtleBlindBoxCombo",void 0);var c=n.ccclass;n.property,o("TurtleBlindBoxCombo",c("TurtleBlindBoxCombo")(r=function(o){function e(){return o.apply(this,arguments)||this}t(e,o);var n=e.prototype;return n.initData=function(o){var t=this;this.playComboSound(o),this.node.getComponent(u).spriteFrame=TurtleBlindBox.gameUI.comboImgList[o],this.node.scale=a(1,1,1),this.uiOpacity.opacity=0,l(this.node).to(.15,{scale:a(1.3,1.3,1.3)}).to(.25,{scale:a(1,1,1)}).to(.15,{scale:a(1.3,1.3,1.3)}).to(.25,{scale:a(1,1,1)}).start(),l(this.uiOpacity).to(.1,{opacity:255}).delay(1.2).to(.2,{opacity:0}).call((function(){t.destroyNode()})).start()},n.destroyNode=function(){TurtleBlindBox.poolUI.DestroyPrefab(3,this.node)},n.playComboSound=function(o){switch(o){case 0:Global.sound.playCommonSound(i.turtleSount0);break;case 1:Global.sound.playCommonSound(i.turtleSount1);break;case 2:Global.sound.playCommonSound(i.turtleSount2);break;case 3:Global.sound.playCommonSound(i.turtleSount3)}},e}(s))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBlindBoxData.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"7ba10U9/EJPU750y2ESR5tp","TurtleBlindBoxData",void 0);e("TurtleBlindBoxData",{randomName:["神秘星河","虚拟星辰","数字小王子","缘分U053A","梦幻仙境","千变万化","匿名旅途","数据风暴","未知的旅行家","灵光闪现","心有灵犀ID","微笑的月亮","蓝色海洋","星星饼干","全球通123","Drunk","DARK_KNIGHT","EVIL_DEMON","Perfect","Dear","Thekhoi","Toxic","KRY","Monody","Ace","Jasmine","Rainbow","咦嘻嘻哈哈","逗鹅","傻傻的傻瓜","可爱爆了","交界线","桃李子","白术","小熊松栗奶","我康见你了窝","你怎么酱紫","海绵饱饱","小羊失棉了","肚子55叫","煎bingo子","妙脆鲨","饼住呼吸","一只眠羊","盐汁油栗","甜贝奶芋","被窝数羊达人","草莓声明","卡夫卡小熊","维生素怡","会被怡崽拯救","7hanks","恰个泡芙","怪怪叭叭啦","小仙多瑶","猫也不知道","兔叽不吃桃","高质量油你","天线短路宝宝","凉拌玛卡巴卡","一只小夏呀","努力啊大雅旋","天材mio","是浩浩吖","幻梅少爷","觅丝小姐姐","一吃就胖小睿好","东岭小郎君","书生冰安","建柏少女","猫巷少女良工","一吃就胖小水风","艳芳来了","猫巷少女怡涵","雨巷少年鹏池","东辰小娘子","是爱勇吖","skfhlaks","语芹丶小可爱","一只建玲呀","西瓜卡夫卡","14只狒狒","矮尔肥圆","DL-9527","我有一只小乌龟","把你们抓去种香菜","花开富贵","我是大哥大","你瞅啥？","瞅你咋地？","弘业酱吖","delete","寻凝小哥哥","宛亦酱大魔王","邻家米娅","太玄晓蕾","归元冷海","卧龙慕桃","Aurora","Lumian"]});t._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBlindBoxGameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameArgs.ts","./SettingUI.ts","./UIBase.ts","./CommonUtils.ts","./EventEnum.ts","./SdkController.ts","./TurtleBBChooseBoxUI.ts","./TurtleBBChooseColorUI.ts","./TurtleBBAddBoxUI.ts","./TurtleBBResultUI.ts","./TurtleBBRankUI.ts","./TurtleBlindBoxData.ts","./TurtleBlindBoxRankData.ts","./TurtleBlindBoxLevelData.ts","./TurtleBBMenuUI.ts"],(function(e){"use strict";var t,a,o,i,r,n,l,s,u,c,h,d,m,f,g,v,B,b,p,k,I,L,x,y,U,T,S,C,D,G,P,w,N,_,R,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.initializerDefineProperty,o=e.inheritsLoose,i=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,l=e._decorator,s=e.SpriteFrame,u=e.Prefab,c=e.instantiate,h=e.log,d=e.Sprite,m=e.Color,f=e.assetManager,g=e.SpriteAtlas},function(e){v=e.SceneValue,B=e.ADTargetType,b=e.EventTrackingName,p=e.ShareTargetType},function(e){k=e.SettingUI},function(e){I=e.UIShowAnimType,L=e.UIHideAnimType,x=e.default},function(e){y=e.CommonUtils},function(e){U=e.GameLogicEvent},function(e){T=e.SdkEventEnum,S=e.ChannelType},function(e){C=e.TurtleBBChooseBoxUI},function(e){D=e.TurtleBBChooseColorUI},function(e){G=e.TurtleBBAddBoxUI},function(e){P=e.TurtleBBResultUI},function(e){w=e.TurtleBBChooseRankUI},function(e){N=e.TurtleBlindBoxData},function(e){_=e.TurtleBlindBoxRankData},function(e){R=e.TurtleBlindBoxLevelData},function(e){A=e.TurtleBBMenuUI}],execute:function(){var M,F,O,z,E,H,J,W,j,V,q,X,K,Q,Y,Z,$,ee,te,ae,oe,ie,re,ne,le,se,ue,ce,he,de,me,fe,ge,ve,Be,be;n._RF.push({},"ce3a6hu3mNOXLxR45of3Wjk","TurtleBlindBoxGameUI",void 0);var pe=l.ccclass,ke=l.property,Ie=(M=pe("TurtlePackageImg"),F=ke({type:s,tooltip:"完整包装图"}),O=ke({type:s,tooltip:"左边包装图"}),z=ke({type:s,tooltip:"右边包装图"}),M((J=t((H=function(){a(this,"packageImg",J,this),a(this,"leftPackageImg",W,this),a(this,"rightPackageImg",j,this)}).prototype,"packageImg",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(H.prototype,"leftPackageImg",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(H.prototype,"rightPackageImg",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=H))||E);e("TurtleBlindBoxGameUI",(V=pe("TurtleBlindBoxGameUI"),q=ke(u),X=ke({type:[u],displayName:"关卡预制体"}),K=ke({type:u,displayName:"选择卡包"}),Q=ke({type:u,displayName:"选择幸运色"}),Y=ke({type:u,displayName:"结算界面"}),Z=ke({type:u,displayName:"排行榜"}),$=ke({type:u,displayName:"增加盲盒界面"}),ee=ke({type:u,displayName:"主页"}),te=ke({type:s,displayName:"乌龟图"}),ae=ke({type:Ie,displayName:"包装图"}),oe=ke({type:s,displayName:"消除图"}),ie=ke(s),V((le=t((ne=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return t=e.call.apply(e,[this].concat(r))||this,a(t,"SettingPrefab",le,i(t)),a(t,"levelPrefab",se,i(t)),a(t,"chooseBoxPrefab",ue,i(t)),a(t,"chooseLuckyColorPrefab",ce,i(t)),a(t,"resultPrefab",he,i(t)),a(t,"rankPrefab",de,i(t)),a(t,"addBoxPrefab",me,i(t)),a(t,"menuUIPrefab",fe,i(t)),a(t,"turtleImgList",ge,i(t)),a(t,"packageImgList",ve,i(t)),a(t,"comboImgList",Be,i(t)),a(t,"rankMedalImg",be,i(t)),t._gameLayer=void 0,t.curLevelData=void 0,t._mask=void 0,t.curLevel=0,t._topLayer=void 0,t.isFinishGame=!1,t._recycleLayer=void 0,t.freePlayTime=3,t.menuUI=null,t.chooseBoxUI=null,t.startBoxNum=0,t.luckyColor=-1,t.isShowAdBox=!1,t.addBoxUI=null,t.resultNum=0,t.bgColorList=["#F1DFC7","#e0f5d5","#f6dcdc","#c7d6f1"],t._bg=void 0,t.skinPlistNameList=["turtlePlist","mahjong1","mahjong2","mahjong3","fruit"],t.curSkinData=void 0,t.testRankServerUrl="https://puffergames.com:8443/puffer_rank/global/reportData",t.testGetRankUrl="https://puffergames.com:8443/puffer_rank/global/getGlobalRankAvatarsData?",t.rankList=[],t}o(t,e);var n=t.prototype;return n.onLoad=function(){TurtleBlindBox.gameUI=this,this.initEvent(),this.loadLevelMsg(),this.loadLevelData(),this._mask.active=!0},n.onDestroy=function(){TurtleBlindBox.gameUI=null,Global.uiEvent.targetOff(this),Global.logicEvent.targetOff(this)},n.start=function(){this.changeBgColor(),this.showMenuUI(),this.changeTurtleSkin()},n.initEvent=function(){Global.logicEvent.on(T.Looked_AdCommon,this.commonAdLooked,this),Global.logicEvent.on(T.Shared_Common,this.commonShared,this),Global.logicEvent.on(U.Commom_GamePass,this.showGameSuccess,this),Global.logicEvent.on(U.Commom_SetCurLevel,this.setCurLevel,this)},n.switchLevel=function(){var e=this;this.menuUI=null,this._topLayer.active=!0,this.isFinishGame=!1,this._gameLayer.destroyAllChildren(),this.scheduleOnce((function(){var t=c(e.levelPrefab);e._gameLayer.addChild(t)})),this.showChooseBoxUI()},n.loadLevelData=function(){var e=y.getLocalData("TurtleBlindBoxLevelData");e&&""!=e?this.curLevelData=JSON.parse(e):(this.curLevelData=new R,this.curLevelData.curSkin=0,this.curLevelData.curGrid=0,this.curLevelData.curBgColorIndex=0,h(this.curLevelData.curSkin),this.curLevelData.unlockGridList.push(0),this.curLevelData.unlockSkinList.push(0),this.saveLevelData()),console.log("当前使用九宫格",this.curLevelData.curGrid)},n.saveLevelData=function(){var e=JSON.stringify(this.curLevelData);y.setLocalData("TurtleBlindBoxLevelData",e)},n.loadLevelMsg=function(){var e=y.getLocalData("TurtleBlindBoxGameLevel");this.curLevel=e&&""!=e?JSON.parse(e):0},n.saveLevelMsg=function(){var e=JSON.stringify(this.curLevel);h("当前下一关",this.curLevel),y.setLocalData("TurtleBlindBoxGameLevel",e)},n.loadFreeTimeMsg=function(){this.freePlayTime=3},n.saveFreeTimeMsg=function(){var e=JSON.stringify(this.freePlayTime);y.setLocalData("TurtleBlindBoxFreeTime",e)},n.checkData=function(){console.log("checkData");var e=y.getLocalData("TurtleBlindBoxData_Day"),t=this.changeToDate(Date.now());e&&""!=e?(t!=parseInt(e)?(this.freePlayTime=3,console.log("不是同一天")):(console.log("是同一天"),this.loadFreeTimeMsg()),console.log("data_now",t)):(console.log("不是同一天2"),this.freePlayTime=3);var a=JSON.stringify(t);y.setLocalData("TurtleBlindBoxData_Day",a),this.saveFreeTimeMsg()},n.changeToDate=function(e){return Math.floor(e/864e5)},n.setCurLevel=function(e){this.curLevel=e-1,this.saveLevelMsg()},n.showGameSuccess=function(){this.isFinishGame||(this.isFinishGame=!0)},n.showGameFail=function(){this.isFinishGame||(this.isFinishGame=!0)},n.on_btnSetting=function(){var e=c(this.SettingPrefab);this.node.addChild(e);var t=e.getComponent(k);t.initData({curSceneValue:v.Game}),t.showUI(I.fadeShow)},n.PassLevel=function(){this.curLevel+=1,this.saveLevelMsg(),Global.sdk.sendPlayerDataByServer()},n.toNextLevel=function(){this.switchLevel()},n.showMenuUI=function(){this._topLayer.active=!1;var e=c(this.menuUIPrefab);this.node.addChild(e),this.menuUI=e.getComponent(A)},n.showChooseBoxUI=function(){var e=c(this.chooseBoxPrefab);this._recycleLayer.addChild(e),this.chooseBoxUI=e.getComponent(C),h("this.freePlayTime",this.freePlayTime),this.chooseBoxUI.init(this.freePlayTime),this.chooseBoxUI.showUI(I.fadeShow)},n.afterChooseBox=function(e){this.startBoxNum=e,this.chooseBoxUI.hideUI(L.fadeHide,!0),this.chooseBoxUI=null,this.showChooseColorUI()},n.showChooseColorUI=function(){var e=c(this.chooseLuckyColorPrefab);this.node.addChild(e),e.getComponent(D).showUI(I.fadeShow)},n.afterChooseColor=function(e){this.luckyColor=e,TurtleBlindBox.levelUI.initLevelData(this.startBoxNum,this.luckyColor,this.curLevelData.curGrid),this._mask.active=!1},n.showAddBoxUI=function(){var e=this;this._mask.active=!0,this.scheduleOnce((function(){if(e.isShowAdBox)e.refuseAddBox();else{e.isShowAdBox=!0;var t=c(e.addBoxPrefab);e.node.addChild(t),e.addBoxUI=t.getComponent(G),e.addBoxUI.init(),e.addBoxUI.showUI(I.fadeShow)}}),.5)},n.afterAddBox=function(e){this._mask.active=!1,TurtleBlindBox.levelUI.moveBoxFromTopToBottom(e),this.addBoxUI.hideUI(L.fadeHide),this.addBoxUI=null},n.refuseAddBox=function(){TurtleBlindBox.levelUI.clearAllTurtle()},n.showResultUI=function(e){this.resultNum=e;var t=c(this.resultPrefab);this.node.addChild(t);var a=t.getComponent(P);this.compareScore(e),a.init(e),a.showUI(I.fadeShow)},n.showRankUI=function(){var e=c(this.rankPrefab);this.node.addChild(e);var t=e.getComponent(w);t.init(this.resultNum),t.showUI(I.fadeShow)},n.changeBgColor=function(){this.curLevelData.curBgColorIndex>=this.bgColorList.length&&(this.curLevelData.curBgColorIndex=0);var e=this.bgColorList[this.curLevelData.curBgColorIndex];return this._bg.getComponent(d).color=(new m).fromHEX(e),this.saveLevelData(),e},n.changeTurtleSkin=function(){var e=this,t=this.curLevelData.curSkin,a=function(a){a.load("Texture/skin/"+e.skinPlistNameList[t],g,(function(t,a){t?h(t):(e.curSkinData=a,e.changeTurtleSkinList())}))},o=f.getBundle("TurtleBlindBox");o?a(o):f.loadBundle("TurtleBlindBox",{},(function(e,t){a(o)}))},n.changeTurtleSkinList=function(){this.turtleImgList=[];for(var e=0;e<10;e++){var t=this.curSkinData.getSpriteFrame(""+e);this.turtleImgList.push(t)}},n.commonAdLooked=function(e,t){var a,o;if(e.isEnded){switch(t){case B.TurtleBlindBox_ChooseBox:this.chooseBoxUI.adCallFunc();break;case B.TurtleBlindBox_AddBox:this.addBoxUI.adCallFunc();break;case B.TurtleBlindBox_UnlockSkin:null==(a=this.menuUI)||a.unLockSkinCallBack();break;case B.TurtleBlindBox_UnlockGrid:null==(o=this.menuUI)||o.UnlockGridCallBack()}Global.uiEvent.emit("HideRevive");var i=Global.sdk.lastShareInitiator;0==i?Global.sdk.curUserPropShareIndex+=1:1==i&&(Global.sdk.curUserReviveShareIndex+=1,b.Revive),Global.sdk.eventTracking("AdVideo",{})}Global.ui.stopLoading()},n.commonShared=function(e,t){if(1==e){Global.uiEvent.emit("HideRevive");var a=Global.sdk.lastShareInitiator;0==a?Global.sdk.curUserPropShareIndex+=1:1==a&&(Global.sdk.curUserReviveShareIndex+=1)}switch(Global.ui.stopLoading(),t){case p.ClearGrid:b.ClearGrid;break;case p.AddGrid:b.AddGrid;break;case p.Hammer:b.Hammer;break;case p.AddBox:b.AddBox}var o=Global.sdk.lastShareInitiator;0==o||1==o&&b.Revive;var i="";i=e?"Success":"Fail",Global.sdk.eventTracking("Share_"+i,{})},n.getWebPlayerName=function(){var e=y.getLocalData("TurtleBlindBoxWebName");if(e&&""!=e)return e;var t=this.getRandomName();return y.setLocalData("TurtleBlindBoxWebName",t),t},n.getRandomName=function(){var e=Math.floor(Math.random()*N.randomName.length);return N.randomName[e]},n.compareScore=function(e){var t=y.getLocalData("TurtleBlindBoxMaxScore");t&&""!=t?parseInt(t)<e?this.saveScoreMsg(e):this.getRankData():this.saveScoreMsg(e)},n.saveScoreMsg=function(e){this.PostPlayerScore(e);var t=JSON.stringify(e);y.setLocalData("TurtleBlindBoxMaxScore",t)},n.generateRandomString=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",a=0;a<20;a++){var o=Math.floor(Math.random()*e.length);t+=e.charAt(o)}return t},n.getWebPlayerOpenID=function(){var e=y.getLocalData("TurtleBlindBoxRandomOpenid");if(e&&""!=e)return e;var t=this.generateRandomString();return y.setLocalData("TurtleBlindBoxRandomOpenid",t),t},n.getRankOpenid=function(){var e="";return""!=e&&null!=e&&null!=e||(e=this.getWebPlayerOpenID()),e},n.PostPlayerScore=function(e){var t=this,a=this.getRankOpenid(),o="",i="",r="";Global.sdk.curChannel==S.H5NoAd?(r="tt_gbzwb_turtleBlindBox",o=this.getWebPlayerName(),i=""+Global.gameController.curSkinId):(r=Global.sdk.getServerGameIdByChannel(Global.sdk.curChannel)+"_turtleBlindBox",o=Global.sdk.getCurUserNickName(),i=Global.sdk.getCurUserAvatarUrl()),console.log("上报数据",r,a,o,i),Global.sdk.serverRequest(this.testRankServerUrl,"POST",{gameId:r,avatarItem:{openId:a,nickName:o,avatarUrl:i,province:0,score:e,kvData:""}},(function(e){h("上报玩家数据",e),t.getRankData()}))},n.getRankData=function(){var e=this,t="";t=Global.sdk.curChannel==S.H5NoAd?"tt_gbzwb_turtleBlindBox":Global.sdk.getServerGameIdByChannel(Global.sdk.curChannel)+"_turtleBlindBox",this.rankList=[],Global.sdk.serverRequest(this.testGetRankUrl+"gameId="+t+"&pageSize=30","POST",{},(function(t){var a=JSON.parse(t);if(a.result)for(var o,i=r(a.result);!(o=i()).done;){var n=o.value,l=new _;l.userId=n.openId,l.nickName=n.nickName,l.avatarUrl=n.avatarUrl,l.score=n.score,e.rankList.push(l)}console.log("获取排行榜信息",e.rankList)}))},t}(x)).prototype,"SettingPrefab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(ne.prototype,"levelPrefab",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(ne.prototype,"chooseBoxPrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(ne.prototype,"chooseLuckyColorPrefab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=t(ne.prototype,"resultPrefab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=t(ne.prototype,"rankPrefab",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=t(ne.prototype,"addBoxPrefab",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=t(ne.prototype,"menuUIPrefab",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=t(ne.prototype,"turtleImgList",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ve=t(ne.prototype,"packageImgList",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Be=t(ne.prototype,"comboImgList",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=t(ne.prototype,"rankMedalImg",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=ne))||re));n._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBlindBoxLevelData.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"8155aCvLrFK1K0B68zgjN9i","TurtleBlindBoxLevelData",void 0);t("TurtleBlindBoxLevelData",(function(){this.curBgColorIndex=void 0,this.curSkin=void 0,this.curGrid=void 0,this.unlockSkinList=[],this.unlockGridList=[]}));i._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBlindBoxLevelUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./TurtleBlindBoxBaseTurtle.ts","./TurtleBlindBoxBasePackage.ts","./TurtleBlindBoxMovePackage.ts","./TurtleBlindBoxCombo.ts","./GameArgs.ts"],(function(t){"use strict";var o,e,i,r,n,l,s,a,u,c,h,m,d,f,T,B,v,p,x;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,s=t.Prefab,a=t.instantiate,u=t.v3,c=t.tween,h=t.log,m=t.UIOpacity,d=t.Label},function(t){f=t.default},function(t){T=t.TurtleBlindBoxBaseTurtle},function(t){B=t.TurtleBlindBoxBasePackage},function(t){v=t.TurtleBlindBoxMovePackage},function(t){p=t.TurtleBlindBoxCombo},function(t){x=t.SoundEnum}],execute:function(){var b,g,C,y,L;n._RF.push({},"f39450RX7tF1Y/JKICx1BC/","TurtleBlindBoxLevelUI",void 0);var P=l.ccclass,k=l.property;t("TurtleBlindBoxLevelUI",(b=P("TurtleBlindBoxLevelUI"),g=k(s),b((L=o((y=function(t){function o(){for(var o,e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];return o=t.call.apply(t,[this].concat(n))||this,i(o,"gridPrefab",L,r(o)),o._titleT=void 0,o._layerList=void 0,o.blindBoxNum=0,o.luckyColor=-1,o.collectTurtleNum=0,o.baseTurtleList=[],o._packageUpList=void 0,o._tempLayer=void 0,o.curTurtleNum=0,o.gridScale=1,o._grid=void 0,o.gridType=0,o._luckySp=void 0,o._luckColor=void 0,o.isMoveBox=!1,o.moveBoxFromTtoBPlayTime=.35,o.isSendBox=!1,o.colorList=[0,1,2,3,4,5,7,8,9,6],o._collectTurtle=void 0,o._collectTurtleT=void 0,o._restBox=void 0,o._restBoxT=void 0,o.isEliminate=!1,o._comboList=void 0,o}e(o,t);var n=o.prototype;return n.onLoad=function(){TurtleBlindBox.levelUI=this},n.onDestroy=function(){TurtleBlindBox.levelUI=null,Global.logicEvent.targetOff(this),Global.uiEvent.targetOff(this)},n.start=function(){this.initData()},n.initData=function(){var t=this;this._luckColor.active=!1;for(var o=function(){var o=Math.floor(Math.random()*TurtleBlindBox.gameUI.packageImgList.length),i=180*Math.random();t.scheduleOnce((function(){var e=TurtleBlindBox.poolUI.getPrefabByIndex(1);t._packageUpList.addChild(e),e.getComponent(B).initData(o,i)}),.01*e)},e=0;e<20;e++)o();this.refreshRestBoxNum(),this.refreshCollectTurtleNum()},n.initGrid=function(){var t=this,o=a(this.gridPrefab[this.gridType]);this._grid.addChild(o),this.scheduleOnce((function(){0==t.gridType?o.getChildByName("layerList").children.forEach((function(o,e){var i=o.getComponent(T);t.baseTurtleList.push(i),i.initData(-1)})):1==t.gridType?o.getChildByName("layerList").children.forEach((function(o,e){var i=o.getComponent(T);i.initData(-1),t.baseTurtleList.push(i)})):2==t.gridType&&o.getChildByName("layerList").children.forEach((function(o,e){var i=o.getComponent(T);i.initData(-1),t.baseTurtleList.push(i)}))}))},n.initLevelData=function(t,o,e){void 0===e&&(e=0),this.luckyColor=o,this._luckColor.active=!0,this._luckySp.$Sprite.spriteFrame=TurtleBlindBox.gameUI.turtleImgList[this.luckyColor],this.gridType=e,0!=e&&(this.gridScale=.8),this.initGrid(),this.moveBoxFromTopToBottom(t)},n.moveBoxFromTopToBottom=function(t,o){var e=this;if(void 0===o&&(o=!0),!o||this.checkState()){this.isMoveBox=!0;for(var i=this._restBox.getWorldPosition(),r=t>20?2/t:.1,n=function(o){var n=100*Math.random()-50,l=170*Math.random()-120,s=u(i.x+n,i.y+l),a=Math.floor(10*Math.random()),c=e._packageUpList.children[a],h=c.getComponent(B).curColor,m=c.angle;e.scheduleOnce((function(){Global.sound.playCommonSound(x.boxMove),e.spwanMoveBox(c.getWorldPosition(),s,h,m,(function(){e.blindBoxNum++,e.refreshRestBoxNum(),o==t-1&&(e.isMoveBox=!1)}))}),o*r)},l=0;l<t;l++)n(l)}},n.moveOneBoxFromTopToBottom=function(){var t=this;this.setAddNumPrefab(3);var o=this._restBox.getWorldPosition(),e=100*Math.random()-50,i=170*Math.random()-120,r=u(o.x+e,o.y+i),n=Math.floor(10*Math.random()),l=this._packageUpList.children[n],s=l.getComponent(B).curColor,a=l.angle;this.blindBoxNum++,Global.sound.playCommonSound(x.boxMove),this.spwanMoveBox(l.getWorldPosition(),r,s,a,(function(){t.refreshRestBoxNum()}))},n.spwanMoveBox=function(t,o,e,i,r){var n=this;void 0===r&&(r=function(){});var l=TurtleBlindBox.poolUI.getPrefabByIndex(2);this._tempLayer.addChild(l),l.setWorldPosition(t),l.getComponent(v).initData(e,i);var s=180*Math.random();c(l).to(.15,{worldPosition:u(t.x,t.y+150)}).to(.3,{worldPosition:o,scale:u(.7,.7,.7),angle:s}).call((function(){r(),l.setParent(n._restBox),l.setWorldPosition(o)})).start()},n.on_btnSend=function(){if(h("this.checkState()",this.isSendBox,this.isEliminate),this.checkState()&&!this.isEliminate){this.isSendBox=!0;var t=this.baseTurtleList.length-this.curTurtleNum,o=Math.min(this.blindBoxNum,t);h("发盲盒",o),0==o?this.isSendBox=!1:this.sendBoxFromBottomToGame(o)}},n.sendBoxFromBottomToGame=function(t){var o=this;h("盲盒数量",t);for(var e=this.getEmptyTurtle(),i=this.blindBoxNum-t,r=0,n=function(t){var n=o._restBox.children[t],l=n.getComponent(v),s=e.shift();o.scheduleOnce((function(){o.curTurtleNum++,o.blindBoxNum--,o.refreshRestBoxNum();var e=s.node.getWorldPosition();o.spawnMovePackage(n,e,(function(){Global.sound.playCommonSound(x.boxMove);var e=Math.floor(Math.random()*TurtleBlindBox.gameUI.turtleImgList.length);o.scheduleOnce((function(){l.playSplitAni(t),s.initData(e)}),r),r+=.2,t==i&&o.scheduleOnce((function(){o.isSendBox=!1,h("sendBox置为false"),o.checkEliminate()}),.5+r)}))}),.1*(o.blindBoxNum-1-t))},l=this.blindBoxNum-1;l>=this.blindBoxNum-t;l--)n(l)},n.getEmptyTurtle=function(){var t=[];return this.baseTurtleList.forEach((function(o){o.hasData()||t.push(o)})),t},n.spawnMovePackage=function(t,o,e){void 0===e&&(e=function(){});var i=t.getWorldPosition();t.setParent(this._tempLayer),t.setWorldPosition(i),c(t).to(.3,{worldPosition:o,scale:u(this.gridScale,this.gridScale,this.gridScale),angle:0}).call((function(){e()})).start()},n.refreshRestBoxNum=function(){this._restBoxT.$Label.string="剩余:"+this.blindBoxNum+"包"},n.refreshCollectTurtleNum=function(){this._collectTurtleT.$Label.string="已收集："+this.collectTurtleNum},n.checkState=function(){return!this.isMoveBox&&!this.isSendBox},n.checkEliminate=function(){var t=this;this.isEliminate=!0;var o=0;switch(this.gridType){case 0:o=this.checkEliminateType_zero(0);break;case 1:o=this.checkEliminateType_one(0);break;case 2:o=this.checkEliminateType_two(0)}for(var e=this.baseTurtleList.length,i=function(){var i=t.baseTurtleList[r];if(!i.hasData())return"continue";for(var n=function(){var e=t.baseTurtleList[l];return e.hasData()?i.curColor==e.curColor?(t.scheduleOnce((function(){t.moveOneBoxFromTopToBottom(),t.moveOneBoxFromTopToBottom(),t.setCombo(1),t.moveTurtleFromGameToBox(i),t.moveTurtleFromGameToBox(e)}),o),i.curColor==t.luckyColor&&(t.scheduleOnce((function(){t.setCombo(0),t.moveOneBoxFromTopToBottom(),t.moveOneBoxFromTopToBottom(),t.moveOneBoxFromTopToBottom()}),o+.5),o+=.5),o+=1.1,i.curColor=-1,e.curColor=-1,"break"):void 0:"continue"},l=r+1;l<e;l++){var s=n();if("continue"!==s&&"break"===s)break}},r=0;r<e-1;r++)i();for(var n=!0,l=!0,s=function(){var e=t.baseTurtleList[a];if(!e.hasData())return l=!1,"continue";e.curColor==t.luckyColor?(t.scheduleOnce((function(){t.moveOneBoxFromTopToBottom(),t.moveOneBoxFromTopToBottom(),t.setCombo(0),t.moveTurtleFromGameToBox(e)}),o),e.curColor=-1,o+=.8,l=!1):n=!1},a=0;a<e;a++)s();if(n&&(this.scheduleOnce((function(){t.setCombo(3),t.moveBoxFromTopToBottom(5,!1),t.setAddNumPrefab(8)}),o),o+=1),l){for(var u=function(){var e=t.baseTurtleList[c];t.scheduleOnce((function(){t.moveTurtleFromGameToBox(e)}),o),e.curColor=-1},c=0;c<e;c++)u();2==this.gridType&&this.scheduleOnce((function(){t.moveBoxFromTopToBottom(5,!1),t.setAddNumPrefab(8)}),o),o+=.8}this.scheduleOnce((function(){t.isEliminate=!1,h("结束"),0==t.blindBoxNum&&TurtleBlindBox.gameUI.showAddBoxUI()}),o)},n.checkEliminateType_zero=function(t){for(var o=0;o<3;o++){var e=[];e.push(this.baseTurtleList[3*o]),e.push(this.baseTurtleList[3*o+1]),e.push(this.baseTurtleList[3*o+2]),t=this.checkThreeEliminate(e,t)}for(var i=0;i<3;i++){var r=[];r.push(this.baseTurtleList[i]),r.push(this.baseTurtleList[i+3]),r.push(this.baseTurtleList[i+6]),t=this.checkThreeEliminate(r,t)}var n=[];return n.push(this.baseTurtleList[0]),n.push(this.baseTurtleList[4]),n.push(this.baseTurtleList[8]),t=this.checkThreeEliminate(n,t),(n=[]).push(this.baseTurtleList[2]),n.push(this.baseTurtleList[4]),n.push(this.baseTurtleList[6]),t=this.checkThreeEliminate(n,t)},n.checkEliminateType_one=function(t){var o=this,e=this.baseTurtleList[0],i=e.curColor;if(-1==i)return t;for(var r=i==this.luckyColor,n=[],l=[],s=1;s<this.baseTurtleList.length;s++){var a=this.baseTurtleList[s];a.curColor==i&&(n.push(a),l.push(s))}if(h("turtleIndexList",l),n.length<=1)return t;var u=n.length;return l.forEach((function(i,s){var a=n[s];if(-1!=i)if(-1!=l.indexOf(i+4)){var c=l.indexOf(i+4),m=n[c];l[c]=-1;var d=!1;(u-=2)>0&&(d=!0),o.scheduleOnce((function(){o.moveBoxFromTopToBottom(5,!1),o.setAddNumPrefab(8),o.setCombo(2),o.moveTurtleFromGameToBox(a),o.moveTurtleFromGameToBox(m),d?o.centerEliminateAni(e):o.moveTurtleFromGameToBox(e)}),t),r&&(o.scheduleOnce((function(){o.setCombo(0),o.moveBoxFromTopToBottom(3,!1)}),t+.5),t+=.5),a.curColor=-1,m.curColor=-1,u<=0&&(e.curColor=-1),t+=1.2}else{var f=!1;(u-=1)>0&&(f=!0),o.scheduleOnce((function(){o.moveBoxFromTopToBottom(1,!1),o.setAddNumPrefab(3),o.setCombo(1),o.moveTurtleFromGameToBox(a),f?o.centerEliminateAni(e):o.moveTurtleFromGameToBox(e)}),t),r&&(o.scheduleOnce((function(){o.setCombo(0),o.moveBoxFromTopToBottom(2,!1)}),t+.5),t+=.5),a.curColor=-1,u<=0&&(e.curColor=-1),t+=1.1}h("turtleIndexList",l)})),t},n.checkEliminateType_two=function(t){var o=this,e=this.baseTurtleList[0],i=e.curColor;if(-1==i)return t;for(var r=i==this.luckyColor,n=[],l=1;l<this.baseTurtleList.length;l++){var s=this.baseTurtleList[l];s.curColor==i&&n.push(s)}if(n.length<=1)return t;var a=n.length;return n.forEach((function(i){var n=!1;(a-=1)>0&&(n=!0),o.scheduleOnce((function(){o.moveBoxFromTopToBottom(1,!1),o.setAddNumPrefab(3),o.setCombo(1),o.moveTurtleFromGameToBox(i),n?o.centerEliminateAni(e):o.moveTurtleFromGameToBox(e)}),t),r&&(o.scheduleOnce((function(){o.setCombo(0),o.moveBoxFromTopToBottom(2,!1)}),t+.5),t+=.5),i.curColor=-1,a<=0&&(e.curColor=-1),t+=1.1})),t},n.centerEliminateAni=function(t){var o=a(t.node),e=t.node.getWorldPosition();this._tempLayer.addChild(o),o.setWorldPosition(e),t.showSp(!1),c(o).by(.15,{worldPosition:u(0,30,0),scale:u(.1,.1,.1)}).delay(.2).to(.15,{worldPosition:e,scale:u(this.gridScale,this.gridScale,this.gridScale)}).call((function(){o.destroy(),t.showSp(!0)})).start()},n.checkThreeEliminate=function(t,o){var e=this,i=!0;return t.forEach((function(t){t.hasData()||(i=!1)})),i?(t[0].curColor==t[1].curColor&&t[1].curColor==t[2].curColor&&(this.scheduleOnce((function(){e.moveBoxFromTopToBottom(5,!1),e.setAddNumPrefab(8),e.setCombo(2),t.forEach((function(t){e.moveTurtleFromGameToBox(t)}))}),o),t[0].curColor==this.luckyColor&&(this.scheduleOnce((function(){e.setCombo(0),e.moveBoxFromTopToBottom(3,!1)}),o+.5),o+=.5),o+=1.2,t.forEach((function(t){t.curColor=-1}))),o):o},n.moveTurtleFromGameToBox=function(t){var o=this;this.curTurtleNum--;var e=a(t.node),i=t.node.getWorldPosition();this._tempLayer.addChild(e),e.setWorldPosition(i),this.scheduleOnce((function(){t.refreshSp()}));var r=this._collectTurtle.getWorldPosition(),n=100*Math.random()-50,l=170*Math.random()-120,s=u(r.x+n,r.y+l);c(e).by(.15,{position:u(0,30,0),scale:u(.1,.1,.1)}).delay(.2).to(.35,{worldPosition:s,scale:u(.7,.7,.7)}).call((function(){o.collectTurtleNum = o.collectTurtleNum + 3,o.refreshCollectTurtleNum(),e.setParent(o._collectTurtle),e.setWorldPosition(s),o.checkCollectBox()})).start()},n.checkCollectBox=function(){var t=this;if(this._collectTurtle.children.length>=40)for(var o=function(o){t.scheduleOnce((function(){TurtleBlindBox.poolUI.DestroyPrefab(0,t._collectTurtle.children[o])}))},e=0;e<10;e++)o(e)},n.setCombo=function(t){var o=TurtleBlindBox.poolUI.getPrefabByIndex(3);this._comboList.addChild(o);var e=500*Math.random()-250;o.setPosition(u(e,0)),o.getComponent(p).initData(t)},n.setAddNumPrefab=function(t){var o=TurtleBlindBox.poolUI.getPrefabByIndex(4);this._tempLayer.addChild(o),o.getComponent(m).opacity=255,o.setPosition(200,650),o.getComponent(d).string="+"+t+"包",c(o).by(.8,{position:u(0,80,0)}).call((function(){TurtleBlindBox.poolUI.DestroyPrefab(4,o)})).start(),c(o.getComponent(m)).delay(.5).to(.3,{opacity:0}).start()},n.clearAllTurtle=function(){for(var t=this,o=0;o<this.baseTurtleList.length;o++){var e=this.baseTurtleList[o];e.hasData()&&(this.moveTurtleFromGameToBox(e),e.curColor=-1)}this.scheduleOnce((function(){TurtleBlindBox.gameUI.showResultUI(t.collectTurtleNum)}),1)},o}(f)).prototype,"gridPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=y))||C));n._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBlindBoxManager.ts",["cc"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.cclegacy,n=e._decorator}],execute:function(){var r,i;t._RF.push({},"5dc97UBCl1F3ImnUYvzDKYk","TurtleBlindBoxManager",void 0);var l=n.ccclass,o=(n.property,e("TurtleBlindBoxManager",l("TurtleBlindBoxManager")(((i=function(){this.gameUI=void 0,this.levelUI=void 0,this.poolUI=void 0}).single=new i,r=i))||r));globalThis.TurtleBlindBox=o.single,t._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBlindBoxMovePackage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameArgs.ts"],(function(t){"use strict";var e,i,o,n,a,r,s,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,n=t.UIOpacity,a=t.v3,r=t.tween},function(t){s=t.default},function(t){l=t.SoundEnum}],execute:function(){var c;i._RF.push({},"47575EaEgBNlan31SgyWw8H","TurtleBlindBoxMovePackage",void 0);var u=o.ccclass;o.property,t("TurtleBlindBoxMovePackage",u("TurtleBlindBoxMovePackage")(c=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this)._sp=void 0,e._left=void 0,e._right=void 0,e._aniNode=void 0,e.curColor=void 0,e}e(i,t);var o=i.prototype;return o.initData=function(t,e){void 0===e&&(e=0),this.curColor=t,this._sp.active=!0,this.node.angle=e,this._aniNode.getComponent(n).opacity=0,this.refreshSp()},o.refreshSp=function(){var t=TurtleBlindBox.gameUI.packageImgList[this.curColor];this._sp.$Sprite.spriteFrame=t.packageImg,this._left.$Sprite.spriteFrame=t.leftPackageImg,this._right.$Sprite.spriteFrame=t.rightPackageImg},o.changeAngle=function(t){this.node.angle=t},o.playSplitAni=function(t){var e=this;this._left.setPosition(a(-13.2,-1.5)),this._right.setPosition(a(46,0,0)),r(this._aniNode.getComponent(n)).to(.1,{opacity:255}).call((function(){e._sp.active=!1,Global.sound.playCommonSound(l.split)})).delay(.25).to(.2,{opacity:0}).call((function(){e.destroyNode()})).start(),r(this._left).delay(.1).by(.4,{position:a(-50,0,0)}).start(),r(this._right).delay(.1).by(.4,{position:a(50,0,0)}).start()},o.destroyNode=function(){TurtleBlindBox.poolUI.DestroyPrefab(2,this.node)},i}(s))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBlindBoxPrefabManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePoolManage.ts"],(function(e){"use strict";var o,a,t,r,i,l,n,s,u,c;return{setters:[function(e){o=e.applyDecoratedDescriptor,a=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,n=e.Prefab,s=e.log,u=e.Component},function(e){c=e.NodePoolManage}],execute:function(){var P,b,f,p,m,h,d,g,v,N,y,B,k;i._RF.push({},"72a63ms9YpFIqO3JVDtv+Yx","TurtleBlindBoxPrefabManager",void 0);var x=l.ccclass,T=l.property;e("TurtleBlindBoxPrefabManager",(P=x("TurtleBlindBoxPrefabManager"),b=T(n),f=T(n),p=T(n),m=T(n),h=T(n),P((v=o((g=function(e){function o(){for(var o,a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(o=e.call.apply(e,[this].concat(i))||this).Pool=void 0,o.poolName="TurtleBlindBoxPool",t(o,"turtlePrefab",v,r(o)),t(o,"movePackagePrefab",N,r(o)),t(o,"basePackagePrefab",y,r(o)),t(o,"comboPrefab",B,r(o)),t(o,"addNumPrefab",k,r(o)),o.poolNameList=["baseTurtle","basePackage","movePackage","combo","addNum"],o}a(o,e);var i=o.prototype;return i.onLoad=function(){TurtleBlindBox.poolUI=this,this.initPool()},i.onDestroy=function(){TurtleBlindBox.poolUI=null},i.initPool=function(){s("初始化对象池"),this.Pool=new c,this.Pool.createPool(this.poolName+"baseTurtle",this.turtlePrefab),this.Pool.createPool(this.poolName+"basePackage",this.basePackagePrefab),this.Pool.createPool(this.poolName+"movePackage",this.movePackagePrefab),this.Pool.createPool(this.poolName+"combo",this.comboPrefab),this.Pool.createPool(this.poolName+"addNum",this.addNumPrefab)},i.getPrefabByIndex=function(e,o){void 0===o&&(o=null);var a=this.poolName+this.poolNameList[e];return this.Pool.getItem(a,o)},i.DestroyPrefab=function(e,o){var a=this.poolName+this.poolNameList[e];this.Pool.recoveryItem(a,o)},o}(u)).prototype,"turtlePrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=o(g.prototype,"movePackagePrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=o(g.prototype,"basePackagePrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=o(g.prototype,"comboPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=o(g.prototype,"addNumPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/TurtleBlindBoxRankData.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"30540oJJ+5GcqbgvGpTF+9h","TurtleBlindBoxRankData",void 0);t("TurtleBlindBoxRankData",(function(){this.nickName=void 0,this.avatarUrl=void 0,this.score=void 0,this.userId=void 0}));i._RF.pop()}}}));

System.register("chunks:///_virtual/TutleBBBaseSkin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(e){"use strict";var t,o,n,i,s,r;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,i=e.Sprite,s=e.Color},function(e){r=e.default}],execute:function(){var c;o._RF.push({},"aee8dNGbYVHFq5Pda8Zo/ev","TutleBBBaseSkin",void 0);var p=n.ccclass;n.property,e("TutleBBBaseSkin",p("TutleBBBaseSkin")(c=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this)._skinSp=void 0,t._bottom=void 0,t._up=void 0,t._skinUnlockSp=void 0,t.useType=-1,t}t(o,e);var n=o.prototype;return n.init=function(e,t,o){this.useType=t,this._skinSp.$Sprite.spriteFrame=e,this._skinUnlockSp.$Sprite.spriteFrame=o,this.refreshColor()},n.changeUseType=function(e,t){this.useType=e,this._skinUnlockSp.$Sprite.spriteFrame=t,this.refreshColor()},n.refreshColor=function(){0==this.useType?(this._bottom.getComponent(i).color=new s(120,120,120),this._up.getComponent(i).color=new s(120,120,120),this._skinSp.getComponent(i).color=new s(120,120,120)):(this._bottom.getComponent(i).color=new s(255,255,255),this._up.getComponent(i).color=new s(255,255,255),this._skinSp.getComponent(i).color=new s(255,255,255))},n.on_btnUse=function(){Global.logicEvent.emit("TurtleBlindBox_clickUseSkin",this.node.name)},o}(r))||c);o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/TurtleBlindBox', 'chunks:///_virtual/TurtleBlindBox'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});